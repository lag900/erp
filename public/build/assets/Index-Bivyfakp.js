import{u as e,o as t,a as s,k as a,m as d,p as r,w as l,b as i,F as o,z as n,t as p,c as m,l as u,e as c,d as x,y,g,A as f}from"./vendor-DGI0tb4d.js";import{_ as h}from"./AuthenticatedLayout-DmLSy_bE.js";import{_ as v}from"./TextInput-7Tb4wL4u.js";import{D as b}from"./DangerButton-Bzsvvehx.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./SecondaryButton-DsdD6xme.js";const _={class:"flex flex-wrap items-center justify-between gap-3"},w={class:"py-6"},k={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},j={class:"mb-4"},C={key:0,class:"rounded bg-white p-6 shadow"},D={key:1,class:"overflow-hidden rounded bg-white shadow"},A={class:"min-w-full divide-y divide-gray-200 text-sm"},L={class:"divide-y divide-gray-200"},B={class:"px-4 py-3 text-gray-800"},V={class:"px-4 py-3 text-gray-700"},I={class:"px-4 py-3 text-gray-600"},N={class:"px-4 py-3"},S={class:"flex flex-wrap gap-2"},T={__name:"Index",props:{departments:{type:Array,required:!0}},setup(T){const q=T,z=y(""),E=f(),F=g(()=>E.props.auth?.permissions??[]),M=e=>F.value.includes(e),U=e({}),G=g(()=>{const e=z.value.trim().toLowerCase();return e?q.departments.filter(t=>t.name.toLowerCase().includes(e)||(t.code||"").toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)):q.departments});return(e,y)=>(t(),s(o,null,[a(d(r),{title:"Departments"}),a(h,null,{header:l(()=>[i("div",_,[y[2]||(y[2]=i("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Departments ",-1)),M("department-create")?(t(),m(d(u),{key:0,href:e.route("departments.create"),class:"rounded bg-indigo-600 px-3 py-2 text-sm text-white hover:bg-indigo-700"},{default:l(()=>[...y[1]||(y[1]=[c(" Add Department ",-1)])]),_:1},8,["href"])):x("",!0)])]),default:l(()=>[i("div",w,[i("div",k,[i("div",j,[a(v,{modelValue:z.value,"onUpdate:modelValue":y[0]||(y[0]=e=>z.value=e),type:"text",class:"mt-1 block w-full",placeholder:"Search departments..."},null,8,["modelValue"])]),0===G.value.length?(t(),s("div",C,[...y[3]||(y[3]=[i("p",{class:"text-gray-600"},"No departments found.",-1)])])):(t(),s("div",D,[i("table",A,[y[8]||(y[8]=i("thead",{class:"bg-gray-50 text-left text-gray-600"},[i("tr",null,[i("th",{class:"px-4 py-3 font-medium"},"Name"),i("th",{class:"px-4 py-3 font-medium"},"Code"),i("th",{class:"px-4 py-3 font-medium"},"Description"),i("th",{class:"px-4 py-3 font-medium"},"Actions")])],-1)),i("tbody",L,[(t(!0),s(o,null,n(G.value,a=>(t(),s("tr",{key:a.id},[i("td",B,p(a.name),1),i("td",V,p(a.code||"-"),1),i("td",I,p(a.description||"-"),1),i("td",N,[i("div",S,[M("department-assign-users")?(t(),m(d(u),{key:0,href:e.route("departments.members",a.id),class:"text-indigo-600 hover:text-indigo-700"},{default:l(()=>[...y[4]||(y[4]=[c(" Members ",-1)])]),_:1},8,["href"])):x("",!0),M("department-edit")?(t(),m(d(u),{key:1,href:e.route("departments.edit",a.id),class:"text-indigo-600 hover:text-indigo-700"},{default:l(()=>[...y[5]||(y[5]=[c(" Edit ",-1)])]),_:1},8,["href"])):x("",!0),M("branding-manage")?(t(),m(d(u),{key:2,href:e.route("departments.branding",a.id),class:"text-indigo-600 hover:text-indigo-700"},{default:l(()=>[...y[6]||(y[6]=[c(" Branding ",-1)])]),_:1},8,["href"])):x("",!0),M("department-delete")?(t(),m(b,{key:3,type:"button",class:"text-xs",disabled:d(U).processing,onClick:e=>{return t=a.id,void U.delete(route("departments.destroy",t));var t}},{default:l(()=>[...y[7]||(y[7]=[c(" Delete ",-1)])]),_:1},8,["disabled","onClick"])):x("",!0)])])]))),128))])])]))])])]),_:1})],64))}};export{T as default};
