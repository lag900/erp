import{u as M,r as u,o as a,c as r,a as m,b as p,h as V,d as t,t as d,w as B,i as v,k as y,T as j,e as T,f as P,g as $,F as f,m as _,s as L,x as N}from"./app-CehYguHu.js";/* empty css                                                              */import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as U}from"./InputLabel-BdAlJ2D5.js";import{S as z}from"./SearchableSelect-CBdWcPnb.js";const D={class:"min-h-screen bg-gray-100 flex flex-col"},H={class:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 shadow-sm z-10"},q={class:"flex items-center gap-2"},E={class:"text-lg font-bold text-gray-900"},I={class:"text-xs text-gray-500 mt-1 font-mono"},K={key:0,class:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 bg-[#1FA6A0] text-white py-2 px-6 rounded-full text-sm font-bold shadow-lg flex items-center gap-2"},O={class:"flex-1 overflow-hidden flex flex-col md:flex-row"},Y={class:"flex-1 p-6 md:p-10 overflow-y-auto flex flex-col"},G={class:"max-w-xl mx-auto w-full space-y-8 flex-1"},J={class:"grid grid-cols-12 gap-3 items-end"},Q={class:"col-span-12 md:col-span-5"},W={class:"col-span-6 md:col-span-3"},X={class:"flex flex-wrap gap-2 pt-2"},Z={class:"flex-1"},tt={class:"flex items-center justify-between mb-3"},et={class:"text-xs font-black text-gray-400 uppercase tracking-widest"},st={key:0,class:"text-[10px] text-orange-500 font-bold animate-pulse"},ot={class:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm"},nt={class:"w-full text-left"},at={class:"divide-y divide-gray-50"},rt={class:"px-4 py-3 text-sm font-bold text-gray-800"},lt={class:"px-4 py-3 text-xs text-gray-500 uppercase font-medium"},dt={class:"px-4 py-3 text-right"},it=["onClick"],ut={key:0},pt={class:"pt-4 sticky bottom-0 bg-gray-100 pb-2"},ct=["disabled"],xt={key:0,class:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},gt={key:1},bt={class:"w-full md:w-80 bg-white border-l border-gray-200 overflow-y-auto p-6 hidden md:block"},mt={class:"relative pl-4 space-y-6"},yt={class:"relative"},vt={class:"text-xs text-gray-400 mt-1"},ft={class:"text-xs font-bold text-gray-700 leading-none"},ht={class:"text-[10px] text-gray-400 mt-0.5 font-mono"},wt={key:0,class:"pl-2 pt-4"},_t={__name:"AddComponents",props:{asset:{type:Object,required:!0},subCategories:{type:Array,required:!0}},setup(h){const i=h,o=M({sub_category_id:"",status:"active",asset_code:"",note:""}),c=u(i.asset.children||[]),n=u([]),w=u(null),x=u(null),g=u(!1),k=()=>{if(!o.sub_category_id)return;const l=i.subCategories.find(s=>s.id===o.sub_category_id);n.value.push({...o.data(),temp_id:Date.now(),sub_category_name:l?.name||"Unknown"});const e=o.status;o.reset(),o.status=e,setTimeout(()=>{w.value?.open()},100)},A=l=>{n.value.splice(l,1)},C=()=>{n.value.length!==0&&(g.value=!0,N.post(route("assets.store-components",i.asset.id),{components:n.value}).then(l=>{c.value=[...l.data.components,...c.value],n.value=[],x.value="All components saved successfully!",setTimeout(()=>{x.value=null},3e3)}).catch(l=>{alert("Failed to save components. Please check for errors."),console.error(l)}).finally(()=>{g.value=!1}))},b=l=>{const e=i.subCategories.find(s=>s.name.toLowerCase().includes(l.toLowerCase()));e&&(o.sub_category_id=e.id)},S=()=>{L.visit(route("assets.show",i.asset.id))};return(l,e)=>(a(),r(f,null,[m(p(V),{title:"Add Components to System"}),t("div",D,[t("div",H,[t("div",null,[t("div",q,[e[6]||(e[6]=t("span",{class:"bg-[#1FA6A0] text-white text-[10px] font-black uppercase px-2 py-0.5 rounded"},"Composite System",-1)),t("h2",E,d(i.asset.sub_category?.name||"Asset Bundle"),1)]),t("p",I,d(i.asset.asset_code),1)]),t("button",{onClick:S,class:"text-xs font-bold text-gray-500 hover:text-gray-900 uppercase tracking-widest border border-gray-300 px-6 py-2.5 rounded hover:bg-gray-50 bg-white transition-colors shadow-sm"}," Finish & Close ")]),m(j,{name:"fade"},{default:B(()=>[x.value?(a(),r("div",K,[e[7]||(e[7]=t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),v(" "+d(x.value),1)])):y("",!0)]),_:1}),t("div",O,[t("div",Y,[t("div",G,[t("div",null,[e[11]||(e[11]=t("h3",{class:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-[#1FA6A0]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),v(" Build System Inventory ")],-1)),t("form",{onSubmit:T(k,["prevent"]),class:"space-y-4 bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative"},[e[10]||(e[10]=t("div",{class:"absolute -left-1 top-6 bottom-6 w-1 bg-[#1FA6A0] rounded-r"},null,-1)),t("div",J,[t("div",Q,[m(z,{ref_key:"componentSelectRef",ref:w,modelValue:p(o).sub_category_id,"onUpdate:modelValue":e[0]||(e[0]=s=>p(o).sub_category_id=s),options:h.subCategories,label:"Component",placeholder:"Select OR Type...",class:"w-full",autofocus:""},null,8,["modelValue","options"])]),t("div",W,[m(U,{value:"Status",class:"text-[10px] uppercase font-bold text-gray-400 mb-1"}),P(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>p(o).status=s),class:"w-full text-sm py-2 rounded border-gray-200 bg-gray-50 font-bold focus:ring-[#1FA6A0] focus:border-[#1FA6A0]"},[...e[8]||(e[8]=[t("option",{value:"active"},"Active",-1),t("option",{value:"maintenance"},"Maintenance",-1),t("option",{value:"damaged"},"Damaged",-1)])],512),[[$,p(o).status]])]),e[9]||(e[9]=t("div",{class:"col-span-6 md:col-span-4"},[t("button",{type:"submit",class:"w-full h-[38px] bg-gray-800 text-white text-[10px] font-black uppercase tracking-wider rounded hover:bg-black transition-colors flex items-center justify-center gap-1"},[v(" Add Row "),t("kbd",{class:"hidden md:inline font-mono px-1 py-0.5 bg-gray-700 rounded text-[9px] text-gray-300"},"â†µ")])],-1))]),t("div",X,[t("button",{type:"button",onClick:e[2]||(e[2]=s=>b("Monitor")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Monitor"),t("button",{type:"button",onClick:e[3]||(e[3]=s=>b("Keyboard")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Keyboard"),t("button",{type:"button",onClick:e[4]||(e[4]=s=>b("Mouse")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Mouse"),t("button",{type:"button",onClick:e[5]||(e[5]=s=>b("CPU")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ CPU")])],32)]),t("div",Z,[t("div",tt,[t("h4",et,"Pending Components ("+d(n.value.length)+")",1),n.value.length>0?(a(),r("span",st,"Not Saved Yet")):y("",!0)]),t("div",ot,[t("table",nt,[e[14]||(e[14]=t("thead",{class:"bg-gray-50 border-b border-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase"},"Component"),t("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase"},"Status"),t("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase text-right"},"Action")])],-1)),t("tbody",at,[(a(!0),r(f,null,_(n.value,(s,F)=>(a(),r("tr",{key:s.temp_id,class:"group hover:bg-orange-50/30 transition-colors"},[t("td",rt,d(s.sub_category_name),1),t("td",lt,d(s.status),1),t("td",dt,[t("button",{onClick:kt=>A(F),class:"text-red-400 hover:text-red-600 p-1"},[...e[12]||(e[12]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,it)])]))),128)),n.value.length===0?(a(),r("tr",ut,[...e[13]||(e[13]=[t("td",{colspan:"3",class:"px-4 py-8 text-center text-gray-400 text-xs italic"}," Add components above to build your list. ",-1)])])):y("",!0)])])])]),t("div",pt,[t("button",{onClick:C,disabled:n.value.length===0||g.value,class:"w-full h-14 bg-[#1FA6A0] text-white text-xs font-black uppercase tracking-[0.2em] rounded-lg shadow-lg shadow-[#1FA6A0]/20 hover:bg-[#178a85] active:scale-95 transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3"},[g.value?(a(),r("svg",xt,[...e[15]||(e[15]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(a(),r("span",gt,"Save All Components ("+d(n.value.length)+")",1))],8,ct)])])]),t("div",bt,[e[21]||(e[21]=t("h3",{class:"text-xs font-black text-gray-400 uppercase tracking-widest mb-6"},"System Snapshot",-1)),t("div",mt,[e[20]||(e[20]=t("div",{class:"absolute left-0 top-2 bottom-0 w-0.5 bg-gray-100"},null,-1)),t("div",yt,[e[16]||(e[16]=t("div",{class:"absolute -left-[21px] top-0 w-3 h-3 rounded-full bg-blue-500 ring-4 ring-white"},null,-1)),e[17]||(e[17]=t("p",{class:"text-sm font-bold text-gray-900 leading-none"},"System Root",-1)),t("p",vt,d(i.asset.sub_category?.name),1)]),(a(!0),r(f,null,_(c.value,s=>(a(),r("div",{key:s.id,class:"relative"},[e[18]||(e[18]=t("div",{class:"absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-green-400 ring-4 ring-white"},null,-1)),t("p",ft,d(s.name),1),t("p",ht,d(s.asset_code),1)]))),128)),c.value.length===0?(a(),r("div",wt,[...e[19]||(e[19]=[t("p",{class:"text-[10px] text-gray-300 uppercase tracking-wider"},"Empty System",-1)])])):y("",!0)])])])])],64))}},Vt=R(_t,[["__scopeId","data-v-e28b948c"]]);export{Vt as default};
