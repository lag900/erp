import{u as e,o as t,a as s,k as r,m as l,p as o,w as a,b as n,c as i,l as d,e as c,d as u,F as p,z as h,t as m,y as x,g as v,A as f}from"./vendor-DGI0tb4d.js";import{_ as b}from"./AuthenticatedLayout-odOuIOG-.js";import{_ as g}from"./TextInput-7Tb4wL4u.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const w={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},y={class:"py-8"},k={class:"w-full"},j={class:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4"},_={class:"relative flex-1 max-w-2xl"},L={key:0,class:"flex flex-col items-center justify-center rounded-[32px] border-2 border-dashed border-slate-200 bg-white p-20 text-center"},C={class:"mt-8"},M={key:1,class:"overflow-x-auto rounded-[24px] border border-slate-200 bg-white shadow-premium"},B={class:"w-full text-left border-collapse"},H={class:"divide-y divide-slate-50"},T={class:"px-8 py-6 font-bold text-slate-800"},A={class:"flex items-center gap-3"},S={class:"px-8 py-6"},z={class:"inline-flex items-center rounded-lg bg-slate-100 px-3 py-1.5 text-xs font-bold text-slate-600 border border-slate-200/50"},V={class:"px-8 py-6 text-slate-600 font-medium"},I={class:"px-8 py-6 text-slate-500 text-sm"},D={class:"flex items-center gap-2"},F={class:"px-8 py-6 text-right"},N={class:"flex justify-end gap-2 isolate"},E=["disabled","onClick"],R={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},q={key:1,class:"h-4 w-4 animate-spin text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},G={__name:"Index",props:{levels:{type:Array,required:!0}},setup(G){const O=G,U=x(""),W=f(),J=v(()=>W.props.auth?.permissions??[]),K=e=>J.value.includes(e),P=v(()=>{const e=U.value.trim().toLowerCase();return e?O.levels.filter(t=>t.name.toLowerCase().includes(e)||String(t.level_number??"").includes(e)||(t.building||"").toLowerCase().includes(e)||(t.location||"").toLowerCase().includes(e)):O.levels}),Q=e({});return(e,x)=>(t(),s(p,null,[r(l(o),{title:"Levels & Floors Management"}),r(b,{"is-fluid":""},{header:a(()=>[n("div",w,[x[2]||(x[2]=n("div",null,[n("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Levels / Floors "),n("p",{class:"mt-1 text-sm text-gray-500"}," Manage floors and levels within university buildings. ")],-1)),K("level-create")?(t(),i(l(d),{key:0,href:e.route("levels.create"),class:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:a(()=>[...x[1]||(x[1]=[n("svg",{class:"mr-2 -ml-1 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" Add Level ",-1)])]),_:1},8,["href"])):u("",!0)])]),default:a(()=>[n("div",y,[n("div",k,[n("div",j,[n("div",_,[x[3]||(x[3]=n("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4"},[n("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),r(g,{modelValue:U.value,"onUpdate:modelValue":x[0]||(x[0]=e=>U.value=e),type:"text",class:"block w-full rounded-2xl border-slate-200 pl-11 py-3 text-sm shadow-sm focus:border-primary focus:ring-primary transition-all bg-white",placeholder:"Search by level name, number, building or location..."},null,8,["modelValue"])])]),0===P.value.length?(t(),s("div",L,[x[5]||(x[5]=n("div",{class:"rounded-2xl bg-slate-50 p-4 shadow-inner"},[n("svg",{class:"h-10 w-10 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),x[6]||(x[6]=n("h3",{class:"mt-6 text-lg font-bold text-slate-800"},"No Levels Registered",-1)),x[7]||(x[7]=n("p",{class:"mt-2 text-sm text-slate-500 max-w-xs mx-auto"}," We couldn't find any floors matching your search criteria. ",-1)),n("div",C,[K("level-create")?(t(),i(l(d),{key:0,href:e.route("levels.create"),class:"inline-flex items-center rounded-xl bg-[#3d4adb] px-6 py-3 text-sm font-bold text-white shadow-xl hover:bg-[#2d3aba] transition-all hover:-translate-y-0.5"},{default:a(()=>[...x[4]||(x[4]=[n("svg",{class:"-ml-1 mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),c(" Register New Level ",-1)])]),_:1},8,["href"])):u("",!0)])])):(t(),s("div",M,[n("table",B,[x[13]||(x[13]=n("thead",null,[n("tr",{class:"bg-slate-50/50"},[n("th",{class:"px-8 py-5 text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-100"},"Level Identity"),n("th",{class:"px-8 py-5 text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-100 italic"},"Index"),n("th",{class:"px-8 py-5 text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-100"},"Building Structure"),n("th",{class:"px-8 py-5 text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-100"},"Geographic Location"),n("th",{class:"px-8 py-5 text-right text-[11px] font-black uppercase tracking-[0.2em] text-slate-400 border-b border-slate-100"},"Operations")])],-1)),n("tbody",H,[(t(!0),s(p,null,h(P.value,r=>(t(),s("tr",{key:r.id,class:"group hover:bg-slate-50/30 transition-all duration-300"},[n("td",T,[n("div",A,[x[8]||(x[8]=n("div",{class:"h-10 w-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-[#3d4adb]/10 group-hover:text-[#3d4adb] transition-colors"},[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),c(" "+m(r.name),1)])]),n("td",S,[n("span",z," Lvl "+m(r.level_number??"0"),1)]),n("td",V,m(r.building||"Independent Structure"),1),n("td",I,[n("div",D,[x[9]||(x[9]=n("svg",{class:"h-4 w-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),c(" "+m(r.location||"N/A"),1)])]),n("td",F,[n("div",N,[K("level-edit")?(t(),i(l(d),{key:0,href:e.route("levels.edit",r.id),class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 text-slate-400 hover:bg-[#3d4adb]/10 hover:text-[#3d4adb] transition-all duration-300 border border-slate-100",title:"Configure Level"},{default:a(()=>[...x[10]||(x[10]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"])):u("",!0),K("level-delete")?(t(),s("button",{key:1,type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-600 transition-all duration-300 border border-slate-100",disabled:l(Q).processing,onClick:()=>{var t;e.confirm("Are you sure you want to delete this level and everything inside? This action is permanent.")&&(t=r.id,Q.delete(route("levels.destroy",t),{onSuccess:e=>{e.props.flash?.error?window.showToast&&window.showToast("error",e.props.flash.error):window.showToast&&window.showToast("success","Level successfully removed from registry")},onError:()=>{window.showToast&&window.showToast("error","System Error: Deletion failed due to server constraints.")}}))},title:"Decommission"},[l(Q).processing?(t(),s("svg",q,[...x[12]||(x[12]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(t(),s("svg",R,[...x[11]||(x[11]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])]))],8,E)):u("",!0)])])]))),128))])])]))])])]),_:1})],64))}};export{G as default};
