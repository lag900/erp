import{u as _,o as r,c as i,a as n,b as u,h as C,w as l,d as t,t as S,j as m,_ as T,k as f,F as h,m as j,l as D,r as L,p as x,q as A}from"./app-CehYguHu.js";import{_ as B}from"./AuthenticatedLayout-CfY1nA_Q.js";import{_ as M}from"./TextInput-CVQfVas4.js";import{_ as N,a as V}from"./PageHeader-DFXbAkrH.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";import"./EntityImage-C3KjEjUh.js";const $={class:"py-10"},E={class:"mb-10 flex flex-col md:flex-row md:items-center justify-between gap-6"},F={class:"relative w-full max-w-xl group"},R={class:"flex items-center gap-3"},H={class:"text-[11px] font-bold text-slate-400 uppercase tracking-widest"},z={key:0,class:"flex flex-col items-center justify-center rounded-[40px] border border-dashed border-slate-200 bg-white p-24 text-center shadow-soft"},q={class:"mt-10"},I={key:1,class:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},O=["onClick","disabled"],ee={__name:"Index",props:{subCategories:{type:Array,required:!0}},setup(b){const p=b,d=L(""),w=A(),y=x(()=>w.props.auth?.permissions??[]),a=s=>y.value.includes(s),c=x(()=>{const s=d.value.trim().toLowerCase();return s?p.subCategories.filter(e=>e.name.toLowerCase().includes(s)||(e.category||"").toLowerCase().includes(s)||(e.code||"").toLowerCase().includes(s)):p.subCategories}),g=_({}),v=s=>{window.showConfirm({title:"Decommission Sub-category?",message:`Are you sure you want to decommission ${s.name}? This technical classification will be retired from the inventory hierarchy.`,confirmText:"Decommission",cancelText:"Cancel",onConfirm:()=>k(s.id)})},k=s=>{g.delete(route("subcategories.destroy",s),{preserveScroll:!0,onSuccess:()=>{window.showToast("success","Sub-category decommissioned successfully.")},onError:()=>{window.showToast("error","Failed to decommission sub-category.")}})};return(s,e)=>(r(),i(h,null,[n(u(C),{title:"Technical Classifications"}),n(B,null,{header:l(()=>[n(V,{title:"Sub-classifications",subtitle:"High-precision technical groupings nested under primary institutional categories.",addActionText:"Define Specification",addActionRoute:"subcategories.create",canAdd:a("sub_category-create")},null,8,["canAdd"])]),default:l(()=>[t("div",$,[t("div",E,[t("div",F,[e[1]||(e[1]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 transition-colors group-focus-within:text-[#3d4adb]"},[t("svg",{class:"h-5 w-5 text-slate-400 group-focus-within:text-[#3d4adb]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),n(M,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),type:"text",class:"block w-full rounded-2xl border-slate-200 bg-white pl-11 shadow-soft focus:border-[#3d4adb]/30 focus:ring-[#3d4adb]/20 h-14 text-[15px] font-medium",placeholder:"Search technical specs by name, category or code..."},null,8,["modelValue"])]),t("div",R,[t("span",H,S(c.value.length)+" TECHNICAL NODES",1)])]),c.value.length===0?(r(),i("div",z,[e[2]||(e[2]=t("div",{class:"rounded-[28px] bg-slate-50 p-8 shadow-inner border border-slate-100 mb-8 text-slate-300"},[t("svg",{class:"h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})])],-1)),e[3]||(e[3]=t("h3",{class:"text-2xl font-bold text-slate-800 tracking-tight"},"Taxonomy Not Refined",-1)),e[4]||(e[4]=t("p",{class:"mt-3 text-slate-400 max-w-sm mx-auto font-medium"}," No specialized sub-categories have been defined. Refine your inventory hierarchy by creating technical nodes under primary classifications. ",-1)),t("div",q,[a("sub_category-create")?(r(),m(T,{key:0,href:s.route("subcategories.create"),label:"Define New Specification",variant:"primary",class:"!rounded-xl px-8 shadow-premium"},null,8,["href"])):f("",!0)])])):(r(),i("div",I,[(r(!0),i(h,null,j(c.value,o=>(r(),m(N,{key:o.id,title:o.name,subtitle:o.category,image:o.image_url,type:"category",badgeText:o.code},{actions:l(()=>[a("sub_category-edit")?(r(),m(u(D),{key:0,href:s.route("subcategories.edit",o.id),class:"flex h-9 w-9 items-center justify-center rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-amber-50 hover:text-amber-600 border border-slate-100",title:"Edit Record"},{default:l(()=>[...e[5]||(e[5]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])]),_:1},8,["href"])):f("",!0),a("sub_category-delete")?(r(),i("button",{key:1,onClick:P=>v(o),class:"flex h-9 w-9 items-center justify-center rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-rose-50 hover:text-rose-600 border border-slate-100",disabled:u(g).processing,title:"Decommission Record"},[...e[6]||(e[6]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,O)):f("",!0)]),_:2},1032,["title","subtitle","image","badgeText"]))),128))]))])]),_:1})],64))}};export{ee as default};
