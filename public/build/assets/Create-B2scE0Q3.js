import{u as h,o as l,c as d,a,b as r,h as M,w as n,d as s,e as V,i as p,t as m,f as g,F as f,m as B,g as S,v as C,j as $,_ as x,k as j,p as D,q as G}from"./app-CehYguHu.js";import{_ as N}from"./AuthenticatedLayout-CfY1nA_Q.js";import{_ as A}from"./TextInput-CVQfVas4.js";import{_ as u}from"./InputLabel-BdAlJ2D5.js";import{_ as c}from"./InputError-51rjNbxD.js";import{G as L}from"./GlobalCheckbox-CqgO5sP7.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";const U={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},E={class:"py-10"},F={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},I={class:"space-y-6"},P={class:"space-y-2"},q={class:"text-[10px] font-black uppercase text-gray-400 tracking-widest"},K={class:"text-primary"},T={class:"space-y-2"},z=["value"],H={class:"space-y-2"},J={class:"flex items-center gap-3 bg-gray-50 p-4 rounded-2xl"},O={class:"flex items-center justify-end border-t border-gray-50 pt-8"},oe={__name:"Create",props:{groups:Array},setup(y){const t=h({name:"",permission_group_id:"",description:"",status:!0}),b=G(),k=D(()=>b.props.auth?.permissions??[]),_=i=>k.value.includes(i),v=i=>i.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),w=()=>{t.name=v(t.name)};return(i,e)=>(l(),d(f,null,[a(r(M),{title:"Establish Security Gate"}),a(N,null,{header:n(()=>[s("div",U,[e[7]||(e[7]=s("div",null,[s("h2",{class:"text-2xl font-black tracking-tight text-gray-900 uppercase"}," New Security Persona "),s("p",{class:"mt-1 text-sm text-gray-500"},"Define a new functional identity and its operational boundaries.")],-1)),a(x,{href:i.route("permissions.index"),variant:"secondary"},{icon:n(()=>[...e[5]||(e[5]=[s("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),default:n(()=>[e[6]||(e[6]=p(" Back to Matrix ",-1))]),_:1},8,["href"])])]),default:n(()=>[s("div",E,[s("div",F,[s("form",{class:"overflow-hidden rounded-[2.5rem] border border-gray-100 bg-white p-10 shadow-premium space-y-8",onSubmit:e[4]||(e[4]=V(o=>r(t).post(i.route("permissions.store")),["prevent"]))},[s("div",I,[s("div",P,[a(u,{for:"name",value:"Security Gate Label",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),a(A,{id:"name",modelValue:r(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).name=o),onInput:w,type:"text",class:"block w-full",placeholder:"e.g. Asset Intelligence Dashboard",autofocus:""},null,8,["modelValue"]),s("p",q,[e[8]||(e[8]=p("Key: ",-1)),s("span",K,m(r(t).name||"..."),1)]),a(c,{message:r(t).errors.name},null,8,["message"])]),s("div",T,[a(u,{for:"permission_group_id",value:"Module Assignment",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),g(s("select",{id:"permission_group_id","onUpdate:modelValue":e[1]||(e[1]=o=>r(t).permission_group_id=o),class:"block w-full border-gray-100 bg-gray-50 px-4 py-3 rounded-2xl text-sm transition-all focus:border-primary focus:bg-white focus:ring-primary",required:""},[e[9]||(e[9]=s("option",{value:"",disabled:""},"Select Module...",-1)),(l(!0),d(f,null,B(y.groups,o=>(l(),d("option",{key:o.id,value:o.id},m(o.name),9,z))),128))],512),[[S,r(t).permission_group_id]]),a(c,{message:r(t).errors.permission_group_id},null,8,["message"])]),s("div",H,[a(u,{for:"description",value:"Documentation",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),g(s("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>r(t).description=o),class:"block w-full rounded-2xl border-gray-100 bg-gray-50 px-4 py-3 text-sm transition-all focus:border-primary focus:bg-white focus:ring-primary h-32",placeholder:"Briefly describe the security scope..."},null,512),[[C,r(t).description]]),a(c,{message:r(t).errors.description},null,8,["message"])]),s("div",J,[a(L,{id:"status",checked:r(t).status,"onUpdate:checked":e[3]||(e[3]=o=>r(t).status=o)},null,8,["checked"]),e[10]||(e[10]=s("label",{for:"status",class:"text-sm font-bold text-gray-700 uppercase tracking-tight"},"Active In Matrix",-1))])]),s("div",O,[_("permission-create")?(l(),$(x,{key:0,type:"submit",variant:"primary",processing:r(t).processing,class:"h-14 px-10 rounded-2xl text-base"},{icon:n(()=>[...e[11]||(e[11]=[s("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])]),default:n(()=>[e[12]||(e[12]=p(" Establish Gate ",-1))]),_:1},8,["processing"])):j("",!0)])],32)])])]),_:1})],64))}};export{oe as default};
