import{u as e,o as a,a as t,b as l,k as s,s as o,L as r,O as n,w as i,e as u,q as m,m as c,l as d,d as p,T as f,g as v,y as g,A as y}from"./vendor-DGI0tb4d.js";import{_ as h}from"./InputError-CSjO0CYp.js";import{_ as x}from"./InputLabel-ttg1gjZN.js";import{P as b}from"./PrimaryButton-CXxvsKbC.js";import{_}from"./SecondaryButton-DsdD6xme.js";import{_ as k}from"./TextInput-7Tb4wL4u.js";import"./utils-B98O4e5m.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";const j={class:"col-span-6 sm:col-span-4"},S={class:"mt-2"},w=["src","alt"],V={class:"mt-2"},P={key:0},I={class:"mt-2 text-sm text-gray-800"},A={class:"mt-2 text-sm font-medium text-green-600"},U={class:"flex items-center gap-4"},C={key:0,class:"text-sm text-gray-600"},E={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(E){const q=y(),B=v(()=>q.props.auth.user),F=e({_method:"PATCH",name:B.value.name,email:B.value.email,image:null}),L=g(null),T=g(null),D=()=>{const e=T.value.files[0];if(!e)return;F.image=e;const a=new FileReader;a.onload=e=>{L.value=e.target.result},a.readAsDataURL(e)},N=()=>{T.value.click()};return(e,v)=>(a(),t("section",null,[v[7]||(v[7]=l("header",null,[l("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),l("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1)),l("form",{onSubmit:v[2]||(v[2]=m(a=>{c(F).post(e.route("profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{L.value.value=null,T.value.value&&(T.value.value.value="")}})},["prevent"])),class:"mt-6 space-y-6",enctype:"multipart/form-data",novalidate:""},[l("div",j,[s(x,{for:"photo",value:"Photo"}),o(l("div",S,[l("img",{src:B.value.image_url,alt:B.value.name,class:"h-20 w-20 rounded-full object-cover"},null,8,w)],512),[[r,!L.value]]),o(l("div",V,[l("span",{class:"block h-20 w-20 rounded-full bg-cover bg-no-repeat bg-center",style:n("background-image: url('"+L.value+"');")},null,4)],512),[[r,L.value]]),s(_,{class:"mt-2",type:"button",onClick:m(N,["prevent"])},{default:i(()=>[...v[3]||(v[3]=[u(" Select A New Photo ",-1)])]),_:1}),l("input",{ref_key:"photoInput",ref:T,id:"photo",type:"file",class:"hidden",onChange:D},null,544),s(h,{message:c(F).errors.image,class:"mt-2"},null,8,["message"])]),l("div",null,[s(x,{for:"name",value:"Name"}),s(k,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:c(F).name,"onUpdate:modelValue":v[0]||(v[0]=e=>c(F).name=e),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(h,{class:"mt-2",message:c(F).errors.name},null,8,["message"])]),l("div",null,[s(x,{for:"email",value:"Email"}),s(k,{id:"email",type:"text",inputmode:"email",class:"mt-1 block w-full",modelValue:c(F).email,"onUpdate:modelValue":v[1]||(v[1]=e=>c(F).email=e),required:"",autocomplete:"username"},null,8,["modelValue"]),s(h,{class:"mt-2",message:c(F).errors.email},null,8,["message"])]),E.mustVerifyEmail&&null===B.value.email_verified_at?(a(),t("div",P,[l("p",I,[v[5]||(v[5]=u(" Your email address is unverified. ",-1)),s(c(d),{href:e.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:i(()=>[...v[4]||(v[4]=[u(" Click here to re-send the verification email. ",-1)])]),_:1},8,["href"])]),o(l("div",A," A new verification link has been sent to your email address. ",512),[[r,"verification-link-sent"===E.status]])])):p("",!0),l("div",U,[s(b,{disabled:c(F).processing},{default:i(()=>[...v[6]||(v[6]=[u("Save",-1)])]),_:1},8,["disabled"]),s(f,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:i(()=>[c(F).recentlySuccessful?(a(),t("p",C," Saved. ")):p("",!0)]),_:1})])],32)]))}};export{E as default};
