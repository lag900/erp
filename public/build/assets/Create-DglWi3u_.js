import{u as C,y as V,o as n,c as d,a,b as r,h as A,w as i,d as e,e as B,F as u,m as G,t as x,k as f,l as g,i as p,j as P,p as j,q as z}from"./app-CehYguHu.js";import{_ as L}from"./AuthenticatedLayout-CfY1nA_Q.js";import{P as M}from"./PrimaryButton-BWR49dfZ.js";import{_ as y}from"./TextInput-CVQfVas4.js";import{_ as m}from"./InputLabel-BdAlJ2D5.js";import{_ as c}from"./InputError-51rjNbxD.js";import{G as N}from"./GlobalCheckbox-CqgO5sP7.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";const U={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},$={class:"flex mb-2","aria-label":"Breadcrumb"},q={class:"flex items-center space-x-2 text-xs font-bold uppercase tracking-widest text-gray-400"},D={class:"py-12"},F={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},S={class:"p-8 space-y-8"},I={class:"relative"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-4 rounded-2xl bg-gray-50/50 border border-gray-100"},T={class:"text-xs font-bold text-gray-600 transition-colors group-hover:text-primary uppercase tracking-tight"},H={class:"mt-2 flex justify-center rounded-2xl border-2 border-dashed border-gray-100 bg-gray-50/50 px-6 py-10 transition-all hover:bg-gray-50 hover:border-primary/20"},J={class:"text-center"},O={class:"mt-4 flex text-xs font-bold uppercase tracking-widest text-gray-500 justify-center"},Z={for:"image",class:"relative cursor-pointer rounded-md font-black text-primary hover:text-primary/80 transition-colors"},K={key:0,class:"mt-4 inline-flex items-center rounded-lg bg-green-50 px-3 py-1 ring-1 ring-inset ring-green-600/20"},Q={class:"text-[10px] font-black text-green-700 uppercase tracking-widest"},R={class:"bg-gray-50/80 px-8 py-6 flex items-center justify-end gap-4 border-t border-gray-100"},ne={__name:"Create",props:{departments:{type:Array,required:!0}},setup(b){const v=b,k=z(),h=j(()=>k.props.auth?.permissions??[]),w=l=>h.value.includes(l),s=C({name:"",code:"",image:null,department_ids:[]});return V(()=>s.name,l=>{if(l&&l.length>=3){const t=l.replace(/[^A-Za-z]/g,"").toUpperCase();s.code=t.substring(0,3)}else s.code=""}),(l,t)=>(n(),d(u,null,[a(r(A),{title:"Add Category"}),a(L,null,{header:i(()=>[e("div",U,[e("div",null,[e("nav",$,[e("ol",q,[e("li",null,[a(r(g),{href:l.route("categories.index"),class:"hover:text-primary transition-colors"},{default:i(()=>[...t[5]||(t[5]=[p("Categories",-1)])]),_:1},8,["href"])]),t[6]||(t[6]=e("li",null,[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M9 5l7 7-7 7","stroke-width":"2.5"})])],-1)),t[7]||(t[7]=e("li",{class:"text-gray-900"},"New Classification",-1))])]),t[8]||(t[8]=e("h2",{class:"text-3xl font-black leading-tight text-gray-900 uppercase tracking-tight"}," Create Category ",-1))]),a(r(g),{href:l.route("categories.index"),class:"inline-flex items-center rounded-xl border border-gray-200 bg-white px-5 py-2.5 text-sm font-bold text-gray-600 shadow-sm transition-all hover:bg-gray-50 hover:text-gray-900"},{default:i(()=>[...t[9]||(t[9]=[e("svg",{class:"mr-2 -ml-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Back to List ",-1)])]),_:1},8,["href"])])]),default:i(()=>[e("div",D,[e("div",F,[e("form",{class:"overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-premium",onSubmit:t[4]||(t[4]=B(o=>r(s).post(l.route("categories.store"),{forceFormData:!0}),["prevent"]))},[t[18]||(t[18]=e("div",{class:"border-b border-gray-50 bg-gray-50/50 px-8 py-6"},[e("h3",{class:"text-sm font-black text-gray-900 uppercase tracking-widest"},"Global Classification"),e("p",{class:"mt-1 text-xs font-bold text-gray-400 uppercase tracking-widest leading-relaxed"},"Primary grouping for institutional assets")],-1)),e("div",S,[e("div",null,[a(m,{for:"name",value:"Category Name",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),a(y,{id:"name",modelValue:r(s).name,"onUpdate:modelValue":t[0]||(t[0]=o=>r(s).name=o),class:"block w-full rounded-xl border-gray-200 py-3 font-bold shadow-sm transition-all focus:border-primary focus:ring-primary h-12",placeholder:"e.g. Laboratory Equipment"},null,8,["modelValue"]),a(c,{class:"mt-2",message:r(s).errors.name},null,8,["message"])]),e("div",null,[a(m,{for:"code",value:"Auto-Generated Prefix",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),e("div",I,[a(y,{id:"code",modelValue:r(s).code,"onUpdate:modelValue":t[1]||(t[1]=o=>r(s).code=o),class:"block w-full rounded-xl border-gray-100 bg-gray-50/50 py-3 font-mono font-black text-primary shadow-inner h-12",placeholder:"LAB",readonly:""},null,8,["modelValue"]),t[10]||(t[10]=e("div",{class:"absolute inset-y-0 right-4 flex items-center"},[e("span",{class:"text-[10px] font-black text-gray-300 uppercase tracking-widest"},"Auto-Locked")],-1))]),t[11]||(t[11]=e("p",{class:"mt-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest"},"This prefix governs the identification series for all nested assets.",-1)),a(c,{class:"mt-2",message:r(s).errors.code},null,8,["message"])]),e("div",null,[a(m,{value:"Departmental Access",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),t[12]||(t[12]=e("p",{class:"text-[11px] font-bold text-gray-400 mb-4 uppercase tracking-tight"},"Select which faculties can register assets under this category:",-1)),e("div",E,[(n(!0),d(u,null,G(v.departments,o=>(n(),d("label",{key:o.id,class:"relative flex items-center gap-3 p-3 rounded-xl border border-transparent hover:bg-white hover:border-gray-200 transition-all cursor-pointer group"},[a(N,{id:"dept-"+o.id,checked:r(s).department_ids,"onUpdate:checked":t[2]||(t[2]=_=>r(s).department_ids=_),value:o.id,class:"!rounded-md"},null,8,["id","checked","value"]),e("span",T,x(o.name),1)]))),128))]),a(c,{class:"mt-2",message:r(s).errors.department_ids},null,8,["message"])]),e("div",null,[a(m,{for:"image",value:"Visual Identity",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),e("div",H,[e("div",J,[t[14]||(t[14]=e("svg",{class:"mx-auto h-12 w-12 text-gray-200",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),e("div",O,[e("label",Z,[t[13]||(t[13]=e("span",null,"Upload Graphic Badge",-1)),e("input",{id:"image",type:"file",accept:"image/*",class:"sr-only",onInput:t[3]||(t[3]=o=>r(s).image=o.target.files[0])},null,32)])]),t[15]||(t[15]=e("p",{class:"mt-1 text-[10px] font-bold text-gray-300 uppercase tracking-widest"},"JPG, PNG or SVG. Optmized for 512x512",-1)),r(s).image?(n(),d("div",K,[e("span",Q,"Icon Path: "+x(r(s).image.name),1)])):f("",!0)])]),a(c,{class:"mt-2",message:r(s).errors.image},null,8,["message"])])]),e("div",R,[a(r(g),{href:l.route("categories.index"),class:"text-xs font-black uppercase tracking-widest text-gray-400 hover:text-gray-900 transition-colors"},{default:i(()=>[...t[16]||(t[16]=[p(" Cancel Acquisition ",-1)])]),_:1},8,["href"]),w("category-create")?(n(),P(M,{key:0,disabled:r(s).processing,class:"!rounded-xl shadow-premium px-8 h-12 !text-[11px] font-black uppercase tracking-[0.1em]"},{default:i(()=>[...t[17]||(t[17]=[p(" Authorize & Deploy Category ",-1)])]),_:1},8,["disabled"])):f("",!0)])],32)])])]),_:1})],64))}};export{ne as default};
