@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Cairo:wght@200..1000&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Enterprise Color System - Formal & Calm */
        --primary: #3d4adb;
        --primary-hover: #2c36b8;
        --primary-soft: rgba(61, 74, 219, 0.08);
        --primary-content: #ffffff;
        
        --success: #10b981;
        --success-hover: #059669;
        --success-soft: rgba(16, 185, 129, 0.08);
        
        --danger: #ef4444;
        --danger-hover: #dc2626;
        --danger-soft: rgba(239, 68, 68, 0.08);
        
        --warning: #f59e0b;
        --warning-soft: rgba(245, 158, 11, 0.08);

        /* Neutrals - Grayscale balance */
        --text-main: #1e293b;
        --text-muted: #64748b;
        --text-light: #94a3b8;
        
        --bg-main: #f8fafc;
        --bg-card: #ffffff;
        --border-main: #e2e8f0;
        --border-soft: #f1f5f9;
    }

    html {
        font-size: 16px;
        scroll-behavior: smooth;
    }

    body {
        @apply antialiased bg-[#f8fafc];
        color: var(--text-main);
        font-family: 'Inter', 'Cairo', system-ui, -apple-system, sans-serif;
        font-size: 14.5px;
        line-height: 1.6;
        letter-spacing: -0.01em;
    }

    /* Typography - Professional & Readable */
    h1, h2, h3, h4, h5 {
        @apply font-bold tracking-tight text-slate-800;
        line-height: 1.25;
    }

    h1 { font-size: 1.875rem; } /* 30px */
    h2 { font-size: 1.5rem; }    /* 24px */
    h3 { font-size: 1.25rem; }   /* 20px */
    h4 { font-size: 1.125rem; }  /* 18px */
    h5 { font-size: 1rem; }      /* 16px */

    /* Scrollbar - Minimal & Discrete */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { 
        background: #cbd5e1; 
        border-radius: 10px; 
        transition: background 0.2s;
    }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

    /* Forms - Enterprise Standard */
    input, select, textarea {
        @apply bg-[#fcfdfe] border-slate-200 rounded-xl transition-all duration-200;
        height: 44px;
        padding-left: 1rem;
        padding-right: 1rem;
        font-size: 14.5px !important;
        color: var(--text-main);
        border-width: 1px !important;
    }

    input:focus, select:focus, textarea:focus {
        @apply ring-4 ring-primary/5 border-primary bg-white outline-none;
        border-color: var(--primary) !important;
    }

    select {
        @apply pr-10;
        appearance: none;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2364748b' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.75rem center;
        background-repeat: no-repeat;
        background-size: 1.25em 1.25em;
    }

    textarea {
        @apply py-3;
        height: auto !important;
        min-height: 100px;
    }

    .label-enterprise {
        @apply text-[11px] font-bold uppercase tracking-widest text-slate-400 mb-1.5 block;
    }
}

@layer components {
    /* Utility Frames */
    .glass-card {
        @apply bg-white border border-slate-200 shadow-soft rounded-3xl overflow-hidden;
    }

    .shadow-soft {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
    }
    
    .shadow-premium {
        box-shadow: 0 12px 24px -6px rgba(0, 0, 0, 0.05), 0 4px 12px -2px rgba(0, 0, 0, 0.02);
    }

    /* --- Enterprise Button System --- */
    .btn-base {
        @apply inline-flex items-center justify-center transition-all duration-200 font-semibold focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed select-none;
        height: 42px;
        padding: 0 1.5rem;
        border-radius: 14px;
        font-size: 0.875rem;
    }

    .btn-primary {
        @apply btn-base text-white shadow-sm hover:shadow-md active:scale-[0.98];
        background-color: var(--primary);
    }
    .btn-primary:hover {
        background-color: var(--primary-hover);
        transform: translateY(-1px);
    }

    .btn-secondary {
        @apply btn-base bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 hover:border-slate-300 hover:text-slate-800 active:scale-[0.98];
    }

    .btn-danger {
        @apply btn-base text-white hover:shadow-md active:scale-[0.98];
        background-color: var(--danger);
    }
    .btn-danger:hover {
        background-color: var(--danger-hover);
        transform: translateY(-1px);
    }

    .btn-icon {
        @apply inline-flex items-center justify-center rounded-xl transition-all duration-200 text-slate-400 hover:text-primary hover:bg-primary-soft;
        width: 36px;
        height: 36px;
    }

    .btn-icon-danger {
        @apply btn-icon hover:text-danger hover:bg-danger-soft;
    }

    /* --- Enterprise Tables --- */
    .table-container {
        @apply bg-white border border-slate-200 rounded-3xl overflow-hidden shadow-soft;
    }

    .ent-table {
        @apply w-full border-collapse text-left;
    }

    .ent-table thead tr {
        @apply bg-slate-50/50 border-b border-slate-100;
    }

    .ent-table th {
        @apply px-6 py-4 text-[11px] font-bold uppercase tracking-widest text-slate-400;
    }

    .ent-table tbody tr {
        @apply border-b border-slate-50 transition-colors duration-200 hover:bg-slate-50/30;
    }

    .ent-table td {
        @apply px-6 py-4 text-[14px] text-slate-600 align-middle;
    }

    /* --- Badges --- */
    .badge-base {
        @apply inline-flex items-center rounded-lg px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider border;
    }

    .badge-success { @apply badge-base bg-emerald-50 text-emerald-600 border-emerald-100; }
    .badge-danger { @apply badge-base bg-rose-50 text-rose-600 border-rose-100; }
    .badge-primary { @apply badge-base bg-indigo-50 text-indigo-600 border-indigo-100; }
    .badge-warning { @apply badge-base bg-amber-50 text-amber-600 border-amber-100; }
    .badge-neutral { @apply badge-base bg-slate-100 text-slate-500 border-slate-200; }

    /* --- Enterprise Cards (Entities) --- */
    .entity-card {
        @apply bg-white border border-slate-200 rounded-3xl overflow-hidden transition-all duration-300 flex flex-col hover:border-primary/20 hover:shadow-premium;
    }

    .entity-card .card-image {
        @apply relative h-48 w-full bg-slate-50 overflow-hidden;
    }

    .entity-card .card-body {
        @apply p-6 flex-1 flex flex-col;
    }

    .entity-card .title {
        @apply text-[16px] font-bold text-slate-800 leading-snug mb-1 line-clamp-1;
    }

    .entity-card .subtitle {
        @apply text-[11px] font-bold text-slate-400 uppercase tracking-widest;
    }

    .entity-card .card-footer {
        @apply mt-auto pt-5 border-t border-slate-50 flex items-center justify-between;
    }

    .entity-card .actions {
        @apply flex gap-2;
    }
}


/* --- Global Content Protection (Enterprise Hardening) --- */
.content-protect {
    word-break: break-word;
    overflow-wrap: anywhere;
    white-space: normal;
    max-width: 100%;
}

.text-truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Ensure no content ever breaks layout */
img, video, canvas, svg {
    max-width: 100%;
    height: auto;
}

pre, code {
    @apply rounded-lg bg-slate-900 text-slate-100 p-4 font-mono text-[11px] leading-relaxed overflow-x-auto;
    white-space: pre-wrap;
    word-break: break-all;
}

.log-metadata-block {
    @apply bg-slate-50/80 rounded-xl p-3 border border-slate-100/50 font-mono text-[10px] text-slate-500 leading-tight space-y-1;
    word-break: break-all;
}

.audit-field-container {
    @apply min-w-0 flex-1 overflow-hidden;
}

.breakable-url {
    @apply text-primary hover:underline transition-all;
    word-break: break-all;
    overflow-wrap: anywhere;
}

@media (max-width: 768px) {
    .ent-table td, .ent-table th {
        @apply px-4 py-3;
    }
}

