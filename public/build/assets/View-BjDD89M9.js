import{y as e,C as t,o as r,a,k as s,m as l,p as o,w as d,b as n,s as c,v as b,F as i,z as p,t as x,x as u,d as g,O as m,l as f,e as v,B as y,g as h,A as k}from"./vendor-DGI0tb4d.js";import{_ as w}from"./AuthenticatedLayout-Cfq4davl.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const _={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between px-1 no-print"},j={class:"flex items-center gap-5"},A={class:"text-2xl font-bold tracking-tight text-slate-800 leading-tight"},C={class:"mt-1 text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]"},B={class:"flex items-center gap-3"},S={class:"py-12 bg-gray-100/50 min-h-screen"},V={class:"mx-auto max-w-[1000px] sm:px-6 lg:px-8"},D={class:"bg-white p-8 rounded-[32px] shadow-soft border border-emerald-100/30 mb-10 no-print"},O={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},H={class:"space-y-2"},R={class:"space-y-2"},T={class:"space-y-2"},z=["value"],U={class:"space-y-2"},E={class:"bg-white shadow-xl ring-1 ring-gray-900/5 print:shadow-none print:ring-0 overflow-hidden print-container",dir:"rtl"},F={class:"p-16 sm:p-20"},L={class:"flex items-start justify-between border-b-4 border-black pb-10 mb-12"},M={class:"w-32 h-32 flex-shrink-0"},P=["src"],G={key:1,class:"h-full w-full bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300 text-[10px] font-bold text-gray-400"},N={class:"text-center flex-1 px-8"},q={class:"text-xl font-medium text-gray-700"},I={class:"mt-8"},J={class:"inline-block text-2xl font-black bg-black text-white px-8 py-2 rounded-sm transform uppercase tracking-wide decoration-solid underline decoration-4"},K={class:"w-32 h-32 flex-shrink-0"},Q=["src"],W={class:"grid grid-cols-4 gap-0 mb-12 border border-gray-200 rounded-lg overflow-hidden text-right"},X={class:"p-4 border-l border-gray-200 bg-gray-50/50"},Y={class:"text-sm font-bold text-gray-900 leading-none"},Z={class:"p-4 border-l border-gray-200 bg-gray-50/50"},$={class:"text-sm font-bold text-gray-900 leading-none"},ee={class:"p-4 border-l border-gray-200 bg-gray-50/50"},te={class:"text-sm font-bold text-gray-900 leading-none"},re={class:"p-4 bg-gray-50/50"},ae={class:"text-sm font-bold text-gray-900 leading-none"},se={key:0,class:"overflow-x-auto min-h-[400px]"},le={class:"w-full text-right border-collapse border border-black"},oe={class:"text-sm font-medium"},de={class:"p-3 border border-black text-center text-gray-500"},ne={class:"p-3 border border-black font-bold"},ce={class:"p-3 border border-black text-center font-mono font-bold text-lg"},be={class:"p-3 border border-black text-center"},ie={class:"flex items-center justify-center gap-3"},pe={class:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden max-w-[100px]"},xe={class:"text-xs font-black"},ue={class:"bg-gray-50 font-black"},ge={class:"p-4 border border-black text-center text-xl font-mono"},me={key:1,class:"overflow-x-auto min-h-[400px]"},fe={class:"w-full text-right border-collapse border border-black"},ve={class:"text-sm font-medium"},ye={class:"p-3 border border-black text-center text-gray-500"},he={class:"p-3 border border-black font-mono font-bold text-center"},ke={class:"p-3 border border-black font-bold"},we={class:"p-3 border border-black text-center"},_e={class:"p-3 border border-black"},je={class:"p-3 border border-black text-center"},Ae={class:"text-[10px] font-black uppercase"},Ce={key:0},Be={class:"mt-32 pt-6 border-t border-gray-100 flex items-center justify-between text-[10px] text-gray-400 font-bold uppercase tracking-widest no-print"},Se={__name:"View",props:{type:String,assets:Array,department:Object,categories:Array,filters:Object},setup(Se){const Ve=Se,De=k(),Oe=h(()=>De.props.auth.user),He=e({date_from:Ve.filters.date_from??"",date_to:Ve.filters.date_to??"",category_id:Ve.filters.category_id??"",status:Ve.filters.status??""});t(He,()=>{y.get(route("reports.view",Ve.type),He.value,{preserveState:!0,preserveScroll:!0})},{deep:!0});const Re=e=>{window.open(route("reports.view",{type:Ve.type,...He.value,export:e}))},Te=e=>({inventory:"تقرير جرد الأصول",custody:"تقرير العهدة",movement:"تقرير حركة الأصول",added:"تقرير الأصول المضافة",damaged:"تقرير التالف والكهنة",summary:"ملخص الأصول"}[e]||"تقرير أصول"),ze=()=>{window.print()};return(e,t)=>(r(),a(i,null,[s(l(o),{title:"Report: "+Se.type},null,8,["title"]),s(w,null,{header:d(()=>[n("div",_,[n("div",j,[s(l(f),{href:e.route("reports.index"),class:"flex h-11 w-11 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-400 transition-all hover:bg-slate-50 hover:text-[#3d4adb] shadow-soft group"},{default:d(()=>[...t[6]||(t[6]=[n("svg",{class:"w-5 h-5 transition-transform group-hover:-translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),n("div",null,[n("h2",A,x(Te(Se.type)),1),n("p",C,x(Se.type.replace("_"," "))+" Precision Audit",1)])]),n("div",B,[n("button",{onClick:ze,class:"inline-flex h-11 items-center px-6 bg-white border border-slate-200 rounded-xl font-black text-[10px] text-slate-600 uppercase tracking-widest hover:bg-slate-50 shadow-soft transition-all"},[...t[7]||(t[7]=[n("svg",{class:"w-4 h-4 mr-2 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),v(" Print Review ",-1)])]),n("button",{onClick:t[0]||(t[0]=e=>Re("pdf")),class:"inline-flex h-11 items-center px-6 bg-rose-600 border border-transparent rounded-xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-rose-700 shadow-premium transition-all active:scale-95"},[...t[8]||(t[8]=[n("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),v(" Export PDF ",-1)])]),n("button",{onClick:t[1]||(t[1]=e=>Re("excel")),class:"inline-flex h-11 items-center px-6 bg-emerald-600 border border-transparent rounded-xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-emerald-700 shadow-premium transition-all active:scale-95"},[...t[9]||(t[9]=[n("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),v(" Spreadsheet ",-1)])])])])]),default:d(()=>[n("div",S,[n("div",V,[n("div",D,[t[16]||(t[16]=n("div",{class:"flex items-center gap-3 mb-8"},[n("div",{class:"h-8 w-1 bg-[#3d4adb] rounded-full"}),n("h3",{class:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]"},"Audit Configuration")],-1)),n("div",O,[n("div",H,[t[10]||(t[10]=n("label",{class:"text-[10px] font-black uppercase tracking-widest text-[#3d4adb] block"},"Temporal Start",-1)),c(n("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>He.value.date_from=e),class:"w-full text-[13px] font-bold h-12 rounded-xl border-slate-100 bg-slate-50 focus:bg-white focus:border-[#3d4adb]/30 focus:ring-[#3d4adb]/10 transition-all cursor-pointer"},null,512),[[b,He.value.date_from]])]),n("div",R,[t[11]||(t[11]=n("label",{class:"text-[10px] font-black uppercase tracking-widest text-[#3d4adb] block"},"Temporal End",-1)),c(n("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=e=>He.value.date_to=e),class:"w-full text-[13px] font-bold h-12 rounded-xl border-slate-100 bg-slate-50 focus:bg-white focus:border-[#3d4adb]/30 focus:ring-[#3d4adb]/10 transition-all cursor-pointer"},null,512),[[b,He.value.date_to]])]),n("div",T,[t[13]||(t[13]=n("label",{class:"text-[10px] font-black uppercase tracking-widest text-[#3d4adb] block"},"Taxonomy Filter",-1)),c(n("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>He.value.category_id=e),class:"w-full text-[13px] font-bold h-12 rounded-xl border-slate-100 bg-slate-50 focus:bg-white focus:border-[#3d4adb]/30 focus:ring-[#3d4adb]/10 transition-all"},[t[12]||(t[12]=n("option",{value:""},"Universal Classifications",-1)),(r(!0),a(i,null,p(Se.categories,e=>(r(),a("option",{key:e.id,value:e.id},x(e.name),9,z))),128))],512),[[u,He.value.category_id]])]),n("div",U,[t[15]||(t[15]=n("label",{class:"text-[10px] font-black uppercase tracking-widest text-[#3d4adb] block"},"Health Status",-1)),c(n("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>He.value.status=e),class:"w-full text-[13px] font-bold h-12 rounded-xl border-slate-100 bg-slate-50 focus:bg-white focus:border-[#3d4adb]/30 focus:ring-[#3d4adb]/10 transition-all"},[...t[14]||(t[14]=[n("option",{value:""},"All Operational States",-1),n("option",{value:"active",class:"font-bold text-emerald-600"},"Active (Operational)",-1),n("option",{value:"maintenance",class:"font-bold text-blue-600"},"Maintenance",-1),n("option",{value:"damaged",class:"font-bold text-rose-600"},"Damaged (Faulty)",-1),n("option",{value:"retired",class:"font-bold text-slate-500"},"Retired (Decommissioned)",-1)])],512),[[u,He.value.status]])])])]),n("div",E,[n("div",F,[n("div",L,[n("div",M,[Se.department.university_logo_url?(r(),a("img",{key:0,src:Se.department.university_logo_url,class:"h-full w-full object-contain"},null,8,P)):(r(),a("div",G,"LOGO HERE"))]),n("div",N,[t[17]||(t[17]=n("h1",{class:"text-3xl font-black text-black leading-tight mb-2"},"المملكة العربية السعودية",-1)),t[18]||(t[18]=n("h2",{class:"text-2xl font-bold text-gray-900 mb-1"},"جامعة الملك خالد",-1)),n("h3",q,x(Se.department.arabic_name||Se.department.name),1),n("div",I,[n("span",J,x(Te(Se.type)),1)])]),n("div",K,[Se.department.department_logo_url?(r(),a("img",{key:0,src:Se.department.department_logo_url,class:"h-full w-full object-contain"},null,8,Q)):g("",!0)])]),n("div",W,[n("div",X,[t[19]||(t[19]=n("label",{class:"block text-[10px] font-black text-gray-400 uppercase pb-1 border-b border-gray-100 mb-2"},"تاريخ التقرير",-1)),n("span",Y,x((new Date).toLocaleDateString("ar-SA")),1)]),n("div",Z,[t[20]||(t[20]=n("label",{class:"block text-[10px] font-black text-gray-400 uppercase pb-1 border-b border-gray-100 mb-2"},"القسم المختص",-1)),n("span",$,x(Se.department.arabic_name||Se.department.name),1)]),n("div",ee,[t[21]||(t[21]=n("label",{class:"block text-[10px] font-black text-gray-400 uppercase pb-1 border-b border-gray-100 mb-2"},"عدد العهد المسجلة",-1)),n("span",te,x(Se.assets.length)+" أصول",1)]),n("div",re,[t[22]||(t[22]=n("label",{class:"block text-[10px] font-black text-gray-400 uppercase pb-1 border-b border-gray-100 mb-2"},"بواسطة الموظف",-1)),n("span",ae,x(Oe.value.name),1)])]),"summary"===Se.type?(r(),a("div",se,[n("table",le,[t[25]||(t[25]=n("thead",{class:"bg-gray-50 border-b border-black"},[n("tr",{class:"text-black text-xs font-black"},[n("th",{class:"p-3 border border-black text-center w-12"},"م"),n("th",{class:"p-3 border border-black text-right"},"تصنيف الأصول / Asset Category"),n("th",{class:"p-3 border border-black text-center"},"إجمالي العدد / Total Count"),n("th",{class:"p-3 border border-black text-center"},"النسبة المئوية / Percentage")])],-1)),n("tbody",oe,[(r(!0),a(i,null,p(Se.assets,(e,t)=>(r(),a("tr",{key:e.category_id,class:"border-b border-gray-300"},[n("td",de,x(t+1),1),n("td",ne,x(e.category?.name||"Uncategorized"),1),n("td",ce,x(e.total),1),n("td",be,[n("div",ie,[n("div",pe,[n("div",{class:"h-full bg-black",style:m({width:e.total/Se.assets.reduce((e,t)=>e+t.total,0)*100+"%"})},null,4)]),n("span",xe,x((e.total/Se.assets.reduce((e,t)=>e+t.total,0)*100).toFixed(1))+"%",1)])])]))),128))]),n("tfoot",ue,[n("tr",null,[t[23]||(t[23]=n("td",{colspan:"2",class:"p-4 border border-black text-right text-base uppercase"},"الإجمالي العام / GRAND TOTAL",-1)),n("td",ge,x(Se.assets.reduce((e,t)=>e+t.total,0)),1),t[24]||(t[24]=n("td",{class:"p-4 border border-black text-center"},"100%",-1))])])])])):(r(),a("div",me,[n("table",fe,[t[27]||(t[27]=n("thead",{class:"bg-gray-50 border-b border-black"},[n("tr",{class:"text-black text-xs font-black"},[n("th",{class:"p-3 border border-black text-center w-12"},"م"),n("th",{class:"p-3 border border-black text-center w-32"},"رقم الأصل"),n("th",{class:"p-3 border border-black"},"اسم الصنف / المادة"),n("th",{class:"p-3 border border-black text-center"},"التصنيف"),n("th",{class:"p-3 border border-black"},"الموقع الحالي"),n("th",{class:"p-3 border border-black text-center"},"الحالة")])],-1)),n("tbody",ve,[(r(!0),a(i,null,p(Se.assets,(e,t)=>(r(),a("tr",{key:e.id,class:"border-b border-gray-300 hover:bg-gray-50/50"},[n("td",ye,x(t+1),1),n("td",he,x(e.asset_code||e.code),1),n("td",ke,x(e.name),1),n("td",we,x(e.category?.name||"-"),1),n("td",_e,x(e.building?.name)+" / "+x(e.room?.name),1),n("td",je,[n("span",Ae,x(e.status),1)])]))),128)),0===Se.assets.length?(r(),a("tr",Ce,[...t[26]||(t[26]=[n("td",{colspan:"6",class:"p-20 text-center text-gray-400 italic"}," لا توجد أصول مسجلة حالياً ضمن المعايير المختارة ",-1)])])):g("",!0)])])])),t[29]||(t[29]=n("div",{class:"mt-24 grid grid-cols-3 gap-16"},[n("div",{class:"text-center group"},[n("p",{class:"text-base font-black text-gray-900 mb-16"},"إعداد الموظف المختص / Prepared By"),n("div",{class:"w-full border-b-2 border-dashed border-gray-400 mb-2"}),n("p",{class:"text-xs text-gray-500"},"الاسم والتوقيع: ........................................")]),n("div",{class:"text-center group"},[n("p",{class:"text-base font-black text-gray-900 mb-16"},"مراجعة مدير القسم / Reviewed By"),n("div",{class:"w-full border-b-2 border-dashed border-gray-400 mb-2"}),n("p",{class:"text-xs text-gray-500"},"الاسم والتوقيع: ........................................")]),n("div",{class:"text-center group"},[n("p",{class:"text-base font-black text-gray-900 mb-16"},"اعتماد العميد / Approved By"),n("div",{class:"w-full border-b-2 border-dashed border-gray-400 mb-2"}),n("p",{class:"text-xs text-gray-500"},"الاسم والختم: ........................................")])],-1)),n("div",Be,[t[28]||(t[28]=n("span",null,"نظام إدارة أصول جامعة الملك خالد (ERB)",-1)),n("span",null,x((new Date).toLocaleString()),1)])])])])])]),_:1})],64))}};export{Se as default};
