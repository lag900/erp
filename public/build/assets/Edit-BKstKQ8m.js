import{u as e,o as t,a,k as l,m as r,p as s,w as d,b as o,q as i,s as n,x as m,v as c,d as u,l as p,e as g,c as f,t as b,F as v,g as _,A as y}from"./vendor-DGI0tb4d.js";import{_ as x}from"./AuthenticatedLayout-DmLSy_bE.js";import{P as h}from"./PrimaryButton-CXxvsKbC.js";import{D as w}from"./DangerButton-Bzsvvehx.js";import{_ as V}from"./TextInput-7Tb4wL4u.js";import{_ as k}from"./InputLabel-ttg1gjZN.js";import{_ as j}from"./InputError-CSjO0CYp.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./SecondaryButton-DsdD6xme.js";const D={class:"flex flex-wrap items-center justify-between gap-3"},U={class:"text-xl font-semibold leading-tight text-gray-800"},I={class:"flex flex-wrap gap-2"},S={class:"py-6"},B={class:"mx-auto max-w-4xl sm:px-6 lg:px-8"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"mt-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"mt-6"},A={class:"flex items-start gap-6"},C={key:0,class:"w-24 h-24 rounded-2xl overflow-hidden shadow-md shrink-0 border border-slate-200"},P=["src"],q={class:"flex-1"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"mt-10 flex justify-end gap-3 border-t pt-6"},M={key:0},O={key:1},R={__name:"Edit",props:{department:{type:Object,required:!0}},setup(R){const W=R,$=y(),z=_(()=>$.props.auth?.permissions??[]),G=e=>z.value.includes(e),J=e({_method:"PUT",name:W.department.name,arabic_name:W.department.arabic_name??"",code:W.department.code??"",description:W.department.description??"",director_name:W.department.director_name??"",director_title:W.department.director_title??"",director_image:null,display_order:W.department.display_order??0,status:W.department.status??"active",type:W.department.type??"department"}),K=()=>{J.post(route("departments.update",W.department.id),{forceFormData:!0})};return(e,_)=>(t(),a(v,null,[l(r(s),{title:"Edit Department"}),l(x,null,{header:d(()=>[o("div",D,[o("h2",U," Edit Department / Faculty: "+b(R.department.name),1),o("div",I,[l(r(p),{href:e.route("departments.index"),class:"rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50"},{default:d(()=>[..._[11]||(_[11]=[g(" Back to List ",-1)])]),_:1},8,["href"]),G("department-delete")?(t(),f(w,{key:0,type:"button",onClick:_[0]||(_[0]=t=>e.$inertia.delete(e.route("departments.destroy",R.department.id)))},{default:d(()=>[..._[12]||(_[12]=[g(" Delete ",-1)])]),_:1})):u("",!0)])])]),default:d(()=>[o("div",S,[o("div",B,[o("form",{class:"rounded bg-white p-6 shadow space-y-8",onSubmit:i(K,["prevent"])},[o("div",null,[_[14]||(_[14]=o("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Basic Information",-1)),o("div",E,[o("div",null,[l(k,{for:"name",value:"English Name"}),l(V,{id:"name",modelValue:r(J).name,"onUpdate:modelValue":_[1]||(_[1]=e=>r(J).name=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.name},null,8,["message"])]),o("div",null,[l(k,{for:"arabic_name",value:"Arabic Name"}),l(V,{id:"arabic_name",modelValue:r(J).arabic_name,"onUpdate:modelValue":_[2]||(_[2]=e=>r(J).arabic_name=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.arabic_name},null,8,["message"])]),o("div",null,[l(k,{for:"code",value:"Entity Code"}),l(V,{id:"code",modelValue:r(J).code,"onUpdate:modelValue":_[3]||(_[3]=e=>r(J).code=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.code},null,8,["message"])]),o("div",null,[l(k,{for:"type",value:"Type"}),n(o("select",{id:"type","onUpdate:modelValue":_[4]||(_[4]=e=>r(J).type=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[..._[13]||(_[13]=[o("option",{value:"department"},"Department",-1),o("option",{value:"faculty"},"Faculty",-1)])],512),[[m,r(J).type]]),l(j,{class:"mt-2",message:r(J).errors.type},null,8,["message"])])]),o("div",F,[l(k,{for:"description",value:"Full Description"}),n(o("textarea",{id:"description","onUpdate:modelValue":_[5]||(_[5]=e=>r(J).description=e),rows:"4",class:"mt-1 block w-full rounded border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[c,r(J).description]]),l(j,{class:"mt-2",message:r(J).errors.description},null,8,["message"])])]),o("div",null,[_[16]||(_[16]=o("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Leadership (Dean/Director)",-1)),o("div",L,[o("div",null,[l(k,{for:"director_name",value:"Director Name"}),l(V,{id:"director_name",modelValue:r(J).director_name,"onUpdate:modelValue":_[6]||(_[6]=e=>r(J).director_name=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.director_name},null,8,["message"])]),o("div",null,[l(k,{for:"director_title",value:"Director Title"}),l(V,{id:"director_title",modelValue:r(J).director_title,"onUpdate:modelValue":_[7]||(_[7]=e=>r(J).director_title=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.director_title},null,8,["message"])])]),o("div",T,[o("div",A,[R.department.director_image?(t(),a("div",C,[o("img",{src:R.department.director_image.startsWith("http")?R.department.director_image:"/storage/"+R.department.director_image,class:"w-full h-full object-cover"},null,8,P)])):u("",!0),o("div",q,[l(k,{for:"director_image",value:"Update Director Image"}),o("input",{type:"file",onInput:_[8]||(_[8]=e=>r(J).director_image=e.target.files[0]),class:"mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"},null,32),_[15]||(_[15]=o("p",{class:"text-[11px] text-slate-400 mt-1"},"Leave empty to keep current image. Recommended: Square, 400x400px. Max 5MB.",-1)),l(j,{class:"mt-2",message:r(J).errors.director_image},null,8,["message"])])])])]),o("div",null,[_[18]||(_[18]=o("h3",{class:"text-lg font-bold text-slate-900 mb-4 border-b pb-2"},"Display Settings",-1)),o("div",N,[o("div",null,[l(k,{for:"display_order",value:"Display Order"}),l(V,{id:"display_order",type:"number",modelValue:r(J).display_order,"onUpdate:modelValue":_[9]||(_[9]=e=>r(J).display_order=e),class:"mt-1 block w-full"},null,8,["modelValue"]),l(j,{class:"mt-2",message:r(J).errors.display_order},null,8,["message"])]),o("div",null,[l(k,{for:"status",value:"Status"}),n(o("select",{id:"status","onUpdate:modelValue":_[10]||(_[10]=e=>r(J).status=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[..._[17]||(_[17]=[o("option",{value:"active"},"Active (Visible)",-1),o("option",{value:"inactive"},"Inactive (Hidden)",-1),o("option",{value:"hidden"},"System Hidden",-1)])],512),[[m,r(J).status]]),l(j,{class:"mt-2",message:r(J).errors.status},null,8,["message"])])])]),o("div",H,[l(r(p),{href:e.route("departments.index"),class:"rounded-xl border border-gray-300 px-6 py-2.5 text-sm font-bold text-gray-700 hover:bg-gray-50 bg-white"},{default:d(()=>[..._[19]||(_[19]=[g(" Cancel ",-1)])]),_:1},8,["href"]),G("department-edit")?(t(),f(h,{key:0,disabled:r(J).processing,class:"rounded-xl px-8 py-2.5 font-bold"},{default:d(()=>[r(J).processing?(t(),a("span",M,"Processing...")):(t(),a("span",O,"Save Changes"))]),_:1},8,["disabled"])):u("",!0)])],32)])])]),_:1})],64))}};export{R as default};
