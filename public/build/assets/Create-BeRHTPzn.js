import{u as e,C as t,D as a,o as s,a as o,k as l,m as r,p as n,w as i,b as d,T as c,e as u,t as p,d as g,q as y,n as m,s as b,x,F as v,z as f,v as h,l as k,g as w,y as _,B as A}from"./vendor-DGI0tb4d.js";import{_ as C}from"./AuthenticatedLayout-Cfq4davl.js";import{_ as V}from"./TextInput-7Tb4wL4u.js";import{_ as j}from"./InputError-CSjO0CYp.js";import{S}from"./SearchableSelect-aRakfeG3.js";import{_ as M}from"./SmartSpecInput-C7EzbFRj.js";import{i as F}from"./browser-image-compression-Dr3HYh3O.js";import{_ as B}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const L={class:"flex items-center justify-between py-1"},U={class:"max-w-4xl mx-auto py-2"},z={key:0,class:"mb-4 flex items-center justify-center gap-2 bg-[#1FA6A0] text-white py-2 px-4 rounded text-sm font-bold shadow-sm"},R={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden"},I={class:"flex border-b border-gray-100 bg-gray-50/50"},D={class:"p-6 md:p-8 flex flex-col gap-8"},E={key:0,class:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3"},H={class:"space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"space-y-4"},N={class:"space-y-4"},P={key:0},q={key:0,class:"flex items-center gap-1.5 mt-1.5 animate-in fade-in slide-in-from-top-1 duration-300"},O={class:"pt-6 border-t border-gray-100 space-y-4"},W={class:"space-y-3"},K={class:"flex-1"},Q={class:"flex-1"},G={class:"flex items-center gap-2"},J={class:"cursor-pointer group relative"},X=["onChange"],Y={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={key:1,class:"flex items-center gap-1"},ee={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},te={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},ae=["src"],se=["onClick"],oe={class:"pt-4"},le={key:1,class:"border-t border-blue-100 pt-6 mt-4 relative"},re={class:"bg-blue-50/50 p-4 rounded-lg border border-blue-100 space-y-4"},ne={class:"grid grid-cols-12 gap-3 items-end"},ie={class:"col-span-12 md:col-span-5 space-y-3"},de={class:"col-span-6 md:col-span-3"},ce={class:"space-y-2 border-l-2 border-blue-200 pl-4 py-2"},ue={class:"flex-1"},pe={class:"flex-1"},ge={class:"flex items-center gap-2"},ye={class:"cursor-pointer group relative"},me=["onChange"],be={key:0,class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xe={key:1,class:"flex items-center gap-1"},ve={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},fe={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},he=["src"],ke=["onClick"],we={key:0,class:"flex flex-wrap gap-2"},_e=["onClick"],Ae={key:1,class:"text-[9px] text-gray-400 italic"},Ce={key:0,class:"mt-4 border border-gray-200 rounded overflow-hidden"},Ve={class:"w-full text-left bg-white"},je={class:"divide-y divide-gray-100"},Se={class:"px-4 py-2"},Me={class:"text-xs font-bold text-gray-800"},Fe={key:0,class:"mt-1 flex flex-wrap gap-1"},Be={class:"px-4 py-2 text-[10px] uppercase font-bold text-gray-500"},Le={class:"px-4 py-2 text-right"},Ue=["onClick"],ze={key:1,class:"mt-4 text-center text-xs text-gray-400 italic"},Re={key:0,class:"space-y-3 pt-6"},Ie={class:"bg-white border-y sm:border border-gray-200 sm:rounded overflow-hidden"},De={class:"w-full text-[11px] text-left"},Ee={class:"px-4 py-2"},He={class:"font-mono text-[#1FA6A0] text-[10px] font-black"},Te={key:0,class:"text-[8px] font-black text-gray-400 uppercase tracking-tighter mt-0.5"},$e={class:"px-4 py-2 font-bold"},Ne={class:"px-4 py-2 text-center text-gray-400 font-black uppercase"},Pe={class:"px-4 py-2 text-right text-gray-400 tabular-nums"},qe={key:0},Oe={key:1,class:"fixed bottom-0 left-0 lg:left-72 right-0 z-[100] bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-[0_-8px_30px_rgb(0,0,0,0.04)] px-4 py-4 sm:px-8"},We={class:"max-w-4xl mx-auto flex flex-col sm:flex-row gap-4 items-center justify-between"},Ke={class:"flex items-center gap-3 w-full sm:w-auto"},Qe=["disabled"],Ge={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Je=B({__name:"Create",props:{rooms:{type:Array,default:()=>[]},classifications:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},subCategories:{type:Array,default:()=>[]},departments:{type:Array,default:()=>[]},roomAssetsSummary:{type:Array,default:()=>[]},recentAdditions:{type:Array,default:()=>[]}},setup(B){const Je=B,Xe=_(null),Ye=_(null),Ze=_(!1),et=e({entry_type:"individual",room_id:new URLSearchParams(window.location.search).get("room_id")||"",category_id:"",sub_category_id:"",note:"",count:1,status:"active",is_shared:!1,shared_department_ids:[],infos:[{key:"",value:"",image:null}],is_parent:!1,components:[]}),tt=w(()=>et.infos.some(e=>e.value&&e.value.trim().length>0));t(tt,e=>{e&&(et.count=1)});const at=_({category_id:"",sub_category_id:"",status:"active",note:"",temp_id:null,sub_category_name:"",infos:[{key:"",value:"",image:null}]}),st=_("");t(st,e=>{if(e){const[t,a]=e.split(":");at.value.category_id=parseInt(t),at.value.sub_category_id=a?parseInt(a):""}else at.value.category_id="",at.value.sub_category_id=""});const ot=_("");t(ot,e=>{if(e){const[t,a]=e.split(":");et.category_id=parseInt(t),et.sub_category_id=a?parseInt(a):""}else et.category_id="",et.sub_category_id=""}),a(()=>{if(window.addEventListener("keydown",bt),et.category_id){const e=Je.classifications.find(e=>e.category_id===et.category_id&&e.sub_category_id===(et.sub_category_id||null));e&&(ot.value=e.id)}});const lt=_(null),rt=async(e,t,a)=>{const s=e.target.files[0];if(!s)return;const o={maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{const e=await F(s,o);"parent"===t?et.infos[a].image=e:at.value.infos[a].image=e}catch(l){"parent"===t?et.infos[a].image=s:at.value.infos[a].image=s}},nt=e=>e?URL.createObjectURL(e):null,it=w(()=>et.category_id&&Je.subCategories?Je.subCategories.filter(e=>e.category_id===et.category_id&&e.id!==et.sub_category_id).slice(0,10):[]),dt=w(()=>et.category_id),ct=()=>{et.infos.push({key:"",value:"",image:null})},ut=()=>{at.value.infos.push({key:"",value:"",image:null})},pt=()=>{if(!at.value.category_id)return void(window.showToast&&window.showToast("error","Please select a component classification"));const e=Je.categories.find(e=>e.id===at.value.category_id),t=Je.subCategories.find(e=>e.id===at.value.sub_category_id),a=at.value.infos.filter(e=>e.key&&""!==e.key.trim()&&e.value&&""!==e.value.trim()).map(e=>({...e})),s=e&&(e.name||e.label)||"Unknown",o=t&&(t.name||t.label)||"",l=o?`${s} - ${o}`:s;et.components=[...et.components,{category_id:at.value.category_id,sub_category_id:at.value.sub_category_id,status:at.value.status,note:at.value.note,temp_id:Date.now()+Math.random(),sub_category_name:l,infos:a}],st.value="",at.value.category_id="",at.value.sub_category_id="",at.value.note="",at.value.infos=[{key:"",value:""}],setTimeout(()=>{lt.value?.open()},50)};t(()=>et.room_id,e=>{var t;e&&((t=e)&&A.get(route("assets.create"),{room_id:t},{preserveState:!0,preserveScroll:!0,only:["recentAdditions","roomAssetsSummary"],onStart:()=>{Ze.value=!0},onFinish:()=>{Ze.value=!1}}))});const gt=e=>{et.entry_type=e,et.is_parent="bundle"===e,et.count=1},yt=w(()=>et.processing?"Saving...":"bundle"===et.entry_type?`Register  (${et.components.length} items)`:"series"===et.entry_type?`Register ${et.count} Assets`:"Register Asset"),mt=()=>{et.post(route("assets.store"),{forceFormData:!0,preserveScroll:!0,onStart:()=>{Ze.value=!0},onFinish:()=>{Ze.value=!1},onSuccess:()=>{Xe.value=et.is_parent?"System Bundle & Components Registered Successfully.":(et.count>1?et.count+" assets":"Asset")+" registered successfully.";const e=et.room_id,t=et.category_id,a=et.sub_category_id,s=et.entry_type;et.reset("note","count","infos","is_parent","components"),et.count=1,et.infos=[{key:"",value:"",image:null}],et.components=[],et.room_id=e,et.category_id=t,et.sub_category_id=a,et.entry_type=s,et.is_parent="bundle"===s,setTimeout(()=>{Xe.value=null},4e3),et.is_parent||document.querySelector('input[placeholder*="Classification"]')?.focus()}})},bt=e=>{"Enter"===e.key&&e.ctrlKey&&mt()};return(e,t)=>(s(),o(v,null,[l(r(n),{title:"Asset Registration"}),l(C,null,{header:i(()=>[d("div",L,[t[10]||(t[10]=d("div",{class:"flex items-center gap-3"},[d("div",{class:"h-8 w-1 bg-[#1FA6A0] rounded-full"}),d("div",null,[d("h2",{class:"text-lg font-black text-gray-900 uppercase tracking-tighter"},"Fast Registration"),d("div",{class:"flex items-center gap-1.5 leading-none"},[d("p",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider"},"Speed Mode Enabled"),d("span",{class:"text-[8px] px-1 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded font-black tracking-tighter uppercase"},"Enterprise Serials V2 Active")])])],-1)),l(r(k),{href:e.route("assets.index"),class:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-[11px] font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest"},{default:i(()=>[...t[9]||(t[9]=[d("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Back to Inventory ",-1)])]),_:1},8,["href"])])]),default:i(()=>[d("div",U,[l(c,{name:"fade"},{default:i(()=>[Xe.value?(s(),o("div",z,[t[11]||(t[11]=d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),u(" "+p(Xe.value),1)])):g("",!0)]),_:1}),d("form",{onSubmit:y(mt,["prevent"]),class:"space-y-6 pb-40"},[d("div",R,[d("div",I,[d("button",{type:"button",onClick:t[0]||(t[0]=e=>gt("individual")),class:m(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2","individual"===r(et).entry_type?"bg-white text-[#1FA6A0] border-b-2 border-[#1FA6A0]":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[12]||(t[12]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),u(" Standard Item ",-1)])],2),d("button",{type:"button",onClick:t[1]||(t[1]=e=>gt("bundle")),class:m(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2","bundle"===r(et).entry_type?"bg-white text-indigo-600 border-b-2 border-indigo-500":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[13]||(t[13]=[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),u(" Bundle System ",-1)])],2)]),d("div",D,["bundle"===r(et).entry_type?(s(),o("div",E,[...t[14]||(t[14]=[d("div",{class:"p-2 bg-blue-100 text-blue-600 rounded"},[d("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1),d("div",null,[d("h4",{class:"text-sm font-bold text-blue-900 uppercase"},"Single-Page System Entry"),d("p",{class:"text-xs text-blue-700 leading-relaxed mt-1"},[u(" Define the "),d("strong",null,"Parent Asset"),u(" (e.g. Computer Set) below, then add all its components. Everything will be saved in one transaction. ")])],-1)])])):g("",!0),d("div",H,[d("div",T,[d("div",$,[l(S,{modelValue:r(et).room_id,"onUpdate:modelValue":t[2]||(t[2]=e=>r(et).room_id=e),options:B.rooms,label:"Location / Room",placeholder:"Select room...",class:"w-full"},null,8,["modelValue","options"]),l(S,{modelValue:ot.value,"onUpdate:modelValue":t[3]||(t[3]=e=>ot.value=e),options:B.classifications,label:"Asset Classification",placeholder:"Search classification (e.g. Computers - DELL)",class:"w-full"},null,8,["modelValue","options"]),l(j,{message:r(et).errors.category_id},null,8,["message"]),l(j,{message:r(et).errors.sub_category_id},null,8,["message"])]),d("div",N,[d("div",null,[t[16]||(t[16]=d("label",{for:"status",class:"form-group-label"},"Operational Status",-1)),b(d("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=e=>r(et).status=e),class:"w-full"},[...t[15]||(t[15]=[d("option",{value:"active"},"Active",-1),d("option",{value:"maintenance"},"Maintenance",-1),d("option",{value:"damaged"},"Damaged",-1),d("option",{value:"retired"},"Retired",-1)])],512),[[x,r(et).status]])]),"bundle"!==r(et).entry_type?(s(),o("div",P,[t[18]||(t[18]=d("label",{for:"count",class:"form-group-label"},"Quantity",-1)),l(V,{id:"count",ref_key:"countInput",ref:Ye,modelValue:r(et).count,"onUpdate:modelValue":t[5]||(t[5]=e=>r(et).count=e),modelModifiers:{number:!0},type:"number",min:"1",disabled:tt.value,class:m(["w-full transition-all",tt.value?"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner opacity-75":""])},null,8,["modelValue","disabled","class"]),tt.value?(s(),o("div",q,[...t[17]||(t[17]=[d("div",{class:"p-0.5 bg-amber-100 text-amber-600 rounded-full"},[d("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M12 15v2m0-8V7m0 0a2 2 0 100 4 2 2 0 000-4z"})])],-1),d("span",{class:"text-[9px] font-black uppercase tracking-tighter text-amber-600 italic"},"Unique item detected → quantity locked to 1",-1)])])):g("",!0)])):g("",!0)])])]),d("div",O,[d("div",{class:"flex items-center justify-between"},[t[19]||(t[19]=d("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Inventory Specifications (Parent)",-1)),d("button",{type:"button",onClick:ct,class:"text-[10px] font-black text-[#1FA6A0] uppercase hover:underline"},"+ Add Entry")]),d("div",W,[(s(!0),o(v,null,f(r(et).infos,(e,a)=>(s(),o("div",{key:a,class:"p-3 bg-gray-50/50 rounded flex gap-2 items-center border border-gray-100"},[d("div",K,[l(M,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,"category-id":dt.value,placeholder:"Label"},null,8,["modelValue","onUpdate:modelValue","category-id"])]),d("div",Q,[l(V,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"w-full text-xs",placeholder:"Value..."},null,8,["modelValue","onUpdate:modelValue"])]),d("div",G,[d("label",J,[d("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:e=>rt(e,"parent",a)},null,40,X),d("div",{class:m(["p-2 rounded border transition-all flex items-center justify-center",e.image?"border-[#1FA6A0] bg-[#1FA6A0]/10 text-[#1FA6A0]":"border-gray-200 bg-white text-gray-400 hover:border-[#1FA6A0] hover:text-[#1FA6A0]"])},[e.image?(s(),o("div",Z,[...t[21]||(t[21]=[d("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),d("span",{class:"text-[9px] font-bold uppercase"},"Ready",-1)])])):(s(),o("svg",Y,[...t[20]||(t[20]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),e.image?(s(),o("div",ee,[d("div",te,[d("img",{src:nt(e.image),class:"w-24 h-24 object-cover rounded"},null,8,ae)])])):g("",!0)]),r(et).infos.length>1?(s(),o("button",{key:0,onClick:e=>(e=>{1!==et.infos.length?et.infos.splice(e,1):et.infos[0]={key:"",value:"",image:null}})(a),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[22]||(t[22]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,se)):g("",!0)])]))),128))])]),d("div",oe,[t[23]||(t[23]=d("label",{class:"form-group-label"},"Internal Remarks",-1)),b(d("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>r(et).note=e),rows:"2",class:"w-full !italic !text-gray-500",placeholder:"Add optional inventory remarks here..."},null,512),[[h,r(et).note]])]),"bundle"===r(et).entry_type?(s(),o("div",le,[t[33]||(t[33]=d("h4",{class:"text-xs font-black uppercase tracking-widest text-[#1FA6A0] mb-4 flex items-center gap-2"},[d("span",{class:"bg-[#1FA6A0]/10 p-1 rounded"},[d("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])]),u(" System Components ")],-1)),d("div",re,[d("div",ne,[d("div",ie,[l(S,{modelValue:st.value,"onUpdate:modelValue":t[7]||(t[7]=e=>st.value=e),options:B.classifications,label:"Component Classification",placeholder:"Search classification...",class:"w-full"},null,8,["modelValue","options"])]),d("div",de,[t[25]||(t[25]=d("label",{class:"form-group-label"},"Lifecycle",-1)),b(d("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>at.value.status=e),class:"w-full !bg-white"},[...t[24]||(t[24]=[d("option",{value:"active"},"Active",-1),d("option",{value:"maintenance"},"Maintenance",-1),d("option",{value:"damaged"},"Damaged",-1)])],512),[[x,at.value.status]])]),d("div",{class:"col-span-6 md:col-span-4"},[d("button",{type:"button",onClick:pt,class:"w-full h-[40px] bg-gray-800 text-white text-[10px] font-black uppercase tracking-wider rounded hover:bg-black transition-colors flex items-center justify-center gap-1 shadow-sm"},[...t[26]||(t[26]=[u(" Add To System ",-1),d("kbd",{class:"hidden md:inline font-mono px-1 py-0.5 bg-gray-700 rounded text-[9px] text-gray-300"},"↵",-1)])])])]),d("div",ce,[d("div",{class:"flex items-center justify-between"},[t[27]||(t[27]=d("h5",{class:"text-[9px] font-black uppercase tracking-widest text-blue-400"},"Component Specs",-1)),d("button",{type:"button",onClick:ut,class:"text-[9px] font-bold text-blue-500 hover:text-blue-700 uppercase"},"+ Add Spec")]),(s(!0),o(v,null,f(at.value.infos,(e,a)=>(s(),o("div",{key:a,class:"flex gap-2"},[d("div",ue,[l(V,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,class:"w-full h-8 text-[11px]",placeholder:"Label (e.g. Serial)"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",pe,[l(V,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"w-full h-8 text-[11px]",placeholder:"Value"},null,8,["modelValue","onUpdate:modelValue"])]),d("div",ge,[d("label",ye,[d("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:e=>rt(e,"component",a)},null,40,me),d("div",{class:m(["p-1.5 rounded border transition-all flex items-center justify-center",e.image?"border-blue-400 bg-blue-50 text-blue-500":"border-gray-200 bg-white text-gray-300 hover:border-blue-400 hover:text-blue-400"])},[e.image?(s(),o("div",xe,[...t[29]||(t[29]=[d("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),d("span",{class:"text-[8px] font-black"},"OK",-1)])])):(s(),o("svg",be,[...t[28]||(t[28]=[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),e.image?(s(),o("div",ve,[d("div",fe,[d("img",{src:nt(e.image),class:"w-20 h-20 object-cover rounded"},null,8,he)])])):g("",!0)]),at.value.infos.length>1?(s(),o("button",{key:0,onClick:e=>(e=>{1!==at.value.infos.length?at.value.infos.splice(e,1):at.value.infos[0]={key:"",value:"",image:null}})(a),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[30]||(t[30]=[d("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ke)):g("",!0)])]))),128))]),it.value.length>0?(s(),o("div",we,[(s(!0),o(v,null,f(it.value,e=>(s(),o("button",{key:e.id,type:"button",onClick:t=>(e=>{const t=Je.subCategories.find(t=>t.id===e),a=Je.categories.find(e=>e.id===et.category_id);t&&a&&(et.components=[...et.components,{category_id:et.category_id,sub_category_id:e,status:"active",note:"",temp_id:Date.now()+Math.random(),sub_category_name:`${a.name||a.label||"Unknown"} - ${t.name||t.label||""}`,infos:[]}])})(e.id),class:"px-2 py-1 rounded border border-gray-200 bg-white text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-all active:scale-95"}," + "+p(e.label),9,_e))),128))])):r(et).sub_category_id?(s(),o("p",Ae,"No specific component suggestions for this type.")):g("",!0)]),r(et).components.length>0?(s(),o("div",Ce,[d("table",Ve,[t[32]||(t[32]=d("thead",{class:"bg-gray-50 text-[10px] uppercase font-bold text-gray-400"},[d("tr",null,[d("th",{class:"px-4 py-2"},"Component"),d("th",{class:"px-4 py-2"},"Status"),d("th",{class:"px-4 py-2 text-right"})])],-1)),d("tbody",je,[(s(!0),o(v,null,f(r(et).components,(e,a)=>(s(),o("tr",{key:e.temp_id},[d("td",Se,[d("div",Me,p(e.sub_category_name||"Missing Name"),1),e.infos&&e.infos.length?(s(),o("div",Fe,[(s(!0),o(v,null,f(e.infos,e=>(s(),o("span",{key:e.key,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[9px] font-medium bg-gray-100 text-gray-600"},p(e.key||"Missing")+": "+p(e.value||"Data"),1))),128))])):g("",!0)]),d("td",Be,p(e.status),1),d("td",Le,[d("button",{type:"button",onClick:e=>{return t=a,void et.components.splice(t,1);var t},class:"text-red-400 hover:text-red-600"},[...t[31]||(t[31]=[d("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ue)])]))),128))])])])):(s(),o("p",ze,"No components added yet."))])):g("",!0)])]),r(et).room_id?(s(),o("div",Re,[t[36]||(t[36]=d("div",{class:"flex items-center justify-between px-1"},[d("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Recent Activity in this Room"),d("span",{class:"text-[9px] font-bold text-gray-500 uppercase tracking-widest px-2 py-0.5 bg-gray-100 rounded"},"Live View")],-1)),d("div",Ie,[d("table",De,[t[35]||(t[35]=d("thead",{class:"bg-gray-50/50 border-b border-gray-100"},[d("tr",{class:"text-gray-400 font-bold uppercase tracking-wider"},[d("th",{class:"px-4 py-3"},"Code"),d("th",{class:"px-4 py-3"},"Asset Classification"),d("th",{class:"px-4 py-3 text-center"},"Status"),d("th",{class:"px-4 py-3 text-right"},"Added")])],-1)),d("tbody",{class:m(["divide-y divide-gray-50",{"animate-pulse opacity-50":Ze.value}])},[(s(!0),o(v,null,f(Je.recentAdditions,e=>(s(),o("tr",{key:e.id,class:"border-b border-gray-50 text-[11px] hover:bg-gray-50/50"},[d("td",Ee,[d("div",He,p(e.full_serial||e.asset_code),1),e.bundle_serial?(s(),o("div",Te,"Reference: "+p(e.bundle_serial),1)):g("",!0)]),d("td",$e,p(e.name),1),d("td",Ne,p(e.status),1),d("td",Pe,p(e.time),1)]))),128)),0===Je.recentAdditions.length?(s(),o("tr",qe,[...t[34]||(t[34]=[d("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-400 italic"},"No assets registered in this room today.",-1)])])):g("",!0)],2)])])])):g("",!0),"Assets/Create"===e.$page.component?(s(),o("div",Oe,[d("div",We,[t[40]||(t[40]=d("div",{class:"hidden md:flex flex-col"},[d("span",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none"},"Registration Flow"),d("span",{class:"text-xs font-bold text-[#1FA6A0] mt-1 uppercase tracking-tighter"},"Inventory Mode Active")],-1)),d("div",Ke,[l(r(k),{href:e.route("assets.index"),class:"flex-1 sm:flex-none px-6 py-3 text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-gray-700 transition-colors text-center"},{default:i(()=>[...t[37]||(t[37]=[u(" CANCEL ",-1)])]),_:1},8,["href"]),d("button",{type:"submit",disabled:r(et).processing,class:"flex-[2] sm:flex-none sm:min-w-[240px] h-12 bg-[#1FA6A0] text-white text-[11px] font-black uppercase tracking-[0.2em] rounded-lg shadow-lg shadow-[#1FA6A0]/20 active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-2 group"},[r(et).processing?(s(),o("svg",Ge,[...t[38]||(t[38]=[d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(s(),o(v,{key:1},[t[39]||(t[39]=d("svg",{class:"h-4 w-4 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),u(" "+p(yt.value),1)],64))],8,Qe)])])])):g("",!0)],32)])]),_:1})],64))}},[["__scopeId","data-v-6d97c7fd"]]);export{Je as default};
