import{u as e,o as t,a as s,k as a,m as r,p as o,w as i,b as l,q as n,s as d,v as m,t as c,d as u,l as p,e as g,c as f,F as x,g as h,A as y}from"./vendor-DGI0tb4d.js";import{_ as b}from"./AuthenticatedLayout-odOuIOG-.js";import{P as v}from"./PrimaryButton-CXxvsKbC.js";import{_ as w}from"./TextInput-7Tb4wL4u.js";import{_ as j}from"./InputLabel-ttg1gjZN.js";import{_}from"./InputError-CSjO0CYp.js";import{i as k}from"./browser-image-compression-Dr3HYh3O.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const L={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},B={class:"py-8"},C={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},M={class:"p-6 grid gap-6"},S={class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},I={class:"text-center"},P={class:"mt-4 flex text-sm leading-6 text-gray-600 justify-center"},z={for:"image",class:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-indigo-500"},D={key:0,class:"mt-2 text-sm font-semibold text-green-600"},V={class:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-100"},W={__name:"Create",setup(W){const A=e({name:"",description:"",image:null}),F=async e=>{const t=e.target.files[0];if(!t)return;const s={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{const e=await k(t,s);A.image=e}catch(a){A.image=t}},G=y(),O=h(()=>G.props.auth?.permissions??[]);return(e,h)=>(t(),s(x,null,[a(r(o),{title:"Add Location"}),a(b,null,{header:i(()=>[l("div",L,[h[4]||(h[4]=l("div",null,[l("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Create Location "),l("p",{class:"mt-1 text-sm text-gray-500"}," Establish a new structural location, zone, or area. ")],-1)),a(r(p),{href:e.route("locations.index"),class:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:i(()=>[...h[3]||(h[3]=[l("svg",{class:"mr-2 -ml-1 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" Back to Locations ",-1)])]),_:1},8,["href"])])]),default:i(()=>{return[l("div",B,[l("div",C,[l("form",{class:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-soft",onSubmit:h[2]||(h[2]=n(t=>r(A).post(e.route("locations.store"),{forceFormData:!0}),["prevent"]))},[h[11]||(h[11]=l("div",{class:"border-b border-gray-100 bg-gray-50 px-6 py-4"},[l("h3",{class:"text-lg font-semibold text-gray-900"},"Location Details"),l("p",{class:"text-sm text-gray-500"},"Provide the fundamental details for this premise.")],-1)),l("div",M,[l("div",null,[a(j,{for:"name",value:"Location Name"}),a(w,{id:"name",modelValue:r(A).name,"onUpdate:modelValue":h[0]||(h[0]=e=>r(A).name=e),class:"mt-1 block w-full",placeholder:"e.g. Main Campus, Health Sciences Wing"},null,8,["modelValue"]),a(_,{class:"mt-2",message:r(A).errors.name},null,8,["message"])]),l("div",null,[a(j,{for:"description",value:"Description"}),d(l("textarea",{id:"description","onUpdate:modelValue":h[1]||(h[1]=e=>r(A).description=e),rows:"3",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"Optional description or notes about this location."},null,512),[[m,r(A).description]]),a(_,{class:"mt-2",message:r(A).errors.description},null,8,["message"])]),l("div",null,[a(j,{for:"image",value:"Location Image (Optional)"}),l("div",S,[l("div",I,[h[7]||(h[7]=l("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0zM15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),l("div",P,[l("label",z,[h[5]||(h[5]=l("span",null,"Upload a file",-1)),l("input",{id:"image",type:"file",accept:"image/*",capture:"environment",class:"sr-only",onChange:F},null,32)]),h[6]||(h[6]=l("p",{class:"pl-1"},"or drag and drop",-1))]),h[8]||(h[8]=l("p",{class:"text-xs leading-5 text-gray-600"},"PNG, JPG, GIF up to 2MB",-1)),r(A).image?(t(),s("p",D," Selected: "+c(r(A).image.name),1)):u("",!0)])]),a(_,{class:"mt-2",message:r(A).errors.image},null,8,["message"])])]),l("div",V,[a(r(p),{href:e.route("locations.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:i(()=>[...h[9]||(h[9]=[g(" Cancel ",-1)])]),_:1},8,["href"]),(o="location-create",O.value.includes(o)?(t(),f(v,{key:0,disabled:r(A).processing},{default:i(()=>[...h[10]||(h[10]=[l("svg",{class:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),g(" Save Location ",-1)])]),_:1},8,["disabled"])):u("",!0))])],32)])])];var o}),_:1})],64))}};export{W as default};
