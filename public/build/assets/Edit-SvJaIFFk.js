import{u as e,o as t,a as s,k as l,m as o,p as a,w as r,b as i,q as d,s as n,v as u,t as c,d as b,x as m,N as p,e as f,l as g,F as x}from"./vendor-DGI0tb4d.js";import{_ as y}from"./AuthenticatedLayout-Cfq4davl.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const w={class:"py-12"},h={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},_={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},v={key:0,class:"text-red-500 text-xs mt-1"},k={class:"grid grid-cols-2 gap-6"},U={key:0,class:"text-red-500 text-xs mt-1"},j={key:0,class:"mb-2"},S=["src"],D={key:1,class:"text-red-500 text-xs mt-1"},P={class:"flex flex-col gap-4 p-4 bg-slate-50 rounded-lg"},V={class:"flex items-center gap-6"},A={class:"flex items-center gap-2 mt-6"},F={key:0,class:"text-xs p-3 rounded bg-white border border-gray-100 italic"},E={class:"font-bold uppercase"},C={key:0,class:"text-red-500 mt-1"},I={key:1,class:"text-green-600 mt-1 font-mono"},N={class:"flex items-center justify-end gap-4"},T=["disabled"],q={__name:"Edit",props:{news:Object},setup(q){const B=q,O=e({title:B.news.title,description:B.news.description,content:B.news.content||"",image_file:null,category:B.news.category||"Academic",publish_date:B.news.publish_date?new Date(B.news.publish_date).toISOString().split("T")[0]:"",status:B.news.status,publish_to_facebook:B.news.publish_to_facebook,_method:"PUT"}),L=()=>{O.post(route("media.news.update",B.news.id),{forceFormData:!0})};return(e,B)=>(t(),s(x,null,[l(o(a),{title:"Edit News"}),l(y,null,{header:r(()=>[...B[8]||(B[8]=[i("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit News Article",-1)])]),default:r(()=>[i("div",w,[i("div",h,[i("div",_,[i("form",{onSubmit:d(L,["prevent"]),class:"p-6 space-y-6"},[i("div",null,[B[9]||(B[9]=i("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),n(i("input",{"onUpdate:modelValue":B[0]||(B[0]=e=>o(O).title=e),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[u,o(O).title]]),o(O).errors.title?(t(),s("div",v,c(o(O).errors.title),1)):b("",!0)]),i("div",k,[i("div",null,[B[11]||(B[11]=i("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1)),n(i("select",{"onUpdate:modelValue":B[1]||(B[1]=e=>o(O).category=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...B[10]||(B[10]=[i("option",null,"Academic",-1),i("option",null,"Student Life",-1),i("option",null,"Partnerships",-1),i("option",null,"Events",-1),i("option",null,"Official",-1)])],512),[[m,o(O).category]])]),i("div",null,[B[12]||(B[12]=i("label",{class:"block text-sm font-medium text-gray-700"},"Publish Date",-1)),n(i("input",{"onUpdate:modelValue":B[2]||(B[2]=e=>o(O).publish_date=e),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[u,o(O).publish_date]])])]),i("div",null,[B[13]||(B[13]=i("label",{class:"block text-sm font-medium text-gray-700"},"Short Description (Summary)",-1)),n(i("textarea",{"onUpdate:modelValue":B[3]||(B[3]=e=>o(O).description=e),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[u,o(O).description]]),o(O).errors.description?(t(),s("div",U,c(o(O).errors.description),1)):b("",!0)]),i("div",null,[B[14]||(B[14]=i("label",{class:"block text-sm font-medium text-gray-700"},"Full Content",-1)),n(i("textarea",{"onUpdate:modelValue":B[4]||(B[4]=e=>o(O).content=e),rows:"6",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[u,o(O).content]])]),i("div",null,[B[15]||(B[15]=i("label",{class:"block text-sm font-medium text-gray-700"},"Featured Image",-1)),q.news.image?(t(),s("div",j,[i("img",{src:q.news.image,alt:"Current",class:"h-20 w-auto rounded border"},null,8,S)])):b("",!0),i("input",{type:"file",onInput:B[5]||(B[5]=e=>o(O).image_file=e.target.files[0]),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),o(O).errors.image_file?(t(),s("div",D,c(o(O).errors.image_file),1)):b("",!0)]),i("div",P,[i("div",V,[i("div",null,[B[17]||(B[17]=i("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),n(i("select",{"onUpdate:modelValue":B[6]||(B[6]=e=>o(O).status=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...B[16]||(B[16]=[i("option",{value:"draft"},"Draft",-1),i("option",{value:"published"},"Published",-1),i("option",{value:"archived"},"Archived",-1)])],512),[[m,o(O).status]])]),i("div",A,[n(i("input",{"onUpdate:modelValue":B[7]||(B[7]=e=>o(O).publish_to_facebook=e),type:"checkbox",id:"fb_check",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[p,o(O).publish_to_facebook]]),B[18]||(B[18]=i("label",{for:"fb_check",class:"text-sm font-bold text-blue-800"},"Publish to University Facebook Page",-1))])]),"none"!==q.news.facebook_publish_status?(t(),s("div",F,[B[19]||(B[19]=f(" FB Status: ",-1)),i("span",E,c(q.news.facebook_publish_status),1),q.news.facebook_error?(t(),s("div",C,"Error: "+c(q.news.facebook_error),1)):b("",!0),q.news.facebook_post_id?(t(),s("div",I,"Post ID: "+c(q.news.facebook_post_id),1)):b("",!0)])):b("",!0)]),i("div",N,[l(o(g),{href:e.route("media.news.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:r(()=>[...B[20]||(B[20]=[f("Cancel",-1)])]),_:1},8,["href"]),i("button",{type:"submit",disabled:o(O).processing,class:"px-6 py-2.5 bg-[#064e3b] text-white font-bold rounded-lg hover:bg-[#065f46] transition-all disabled:opacity-50"},c(o(O).processing?"Updating...":"Update News Article"),9,T)])],32)])])])]),_:1})],64))}};export{q as default};
