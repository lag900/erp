import{u as C,o as n,c as d,a as r,b as s,h as _,w as u,d as e,e as S,i as m,k as c,f as V,F as x,m as B,t as y,g as j,l as v,j as M,p as P,q as $}from"./app-CehYguHu.js";import{_ as D}from"./AuthenticatedLayout-CfY1nA_Q.js";import{P as N}from"./PrimaryButton-BWR49dfZ.js";import{_ as h}from"./TextInput-CVQfVas4.js";import{_ as g}from"./InputLabel-BdAlJ2D5.js";import{_ as f}from"./InputError-51rjNbxD.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";const A={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},T={class:"flex items-center gap-3"},U={class:"py-8"},E={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},F={class:"border-b border-slate-100 bg-slate-50/50 px-8 py-6 flex items-center justify-between"},q={class:"p-6 grid gap-6 sm:grid-cols-2"},z={class:"sm:col-span-2"},L={class:"relative mt-1"},G=["value"],I={class:"sm:col-span-2"},R={class:"sm:col-span-2"},H={class:"sm:col-span-2"},J={class:"mt-2 flex gap-6"},K={key:0,class:"shrink-0 relative"},O={class:"relative h-24 w-24 overflow-hidden rounded-lg border border-gray-200"},Q=["src","alt"],W={class:"grow rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},X={class:"text-center"},Y={class:"mt-4 flex text-sm leading-6 text-gray-600 justify-center"},Z={for:"image",class:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-indigo-500"},ee={key:0,class:"mt-2 text-sm font-semibold text-green-600"},te={class:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-100"},ce={__name:"Edit",props:{subCategory:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(i){const p=i,w=$(),k=P(()=>w.props.auth?.permissions??[]),b=l=>k.value.includes(l),o=C({_method:"PUT",category_id:p.subCategory.category_id,name:p.subCategory.name,code:p.subCategory.code||"",image:null});return(l,t)=>(n(),d(x,null,[r(s(_),{title:"Edit Subcategory"}),r(D,null,{header:u(()=>[e("div",A,[t[7]||(t[7]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Edit Subcategory "),e("p",{class:"mt-1 text-sm text-gray-500"}," Update subcategory details or classification. ")],-1)),e("div",T,[r(s(v),{href:l.route("subcategories.index"),class:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:u(()=>[...t[6]||(t[6]=[e("svg",{class:"mr-2 -ml-1 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Subcategories ",-1)])]),_:1},8,["href"])])])]),default:u(()=>[e("div",U,[e("div",E,[e("form",{class:"overflow-hidden rounded-[32px] border border-slate-200 bg-white shadow-premium",onSubmit:t[5]||(t[5]=S(a=>s(o).post(l.route("subcategories.update",i.subCategory.id),{forceFormData:!0,onSuccess:()=>l.window.showToast("success","Sub-category updated successfully.")}),["prevent"]))},[e("div",F,[t[9]||(t[9]=e("div",null,[e("h3",{class:"text-xl font-bold text-slate-800 tracking-tight"},"Technical Node Profile"),e("p",{class:"text-[13px] font-medium text-slate-400"},"Refine specialized asset classification details.")],-1)),b("sub_category-delete")?(n(),d("button",{key:0,type:"button",class:"inline-flex items-center rounded-xl bg-rose-50 px-4 py-2 text-xs font-bold text-rose-600 border border-rose-100 transition-all hover:bg-rose-100 hover:scale-105 active:scale-95",onClick:t[0]||(t[0]=a=>l.window.showConfirm({title:"Decommission Sub-category?",message:`Are you sure you want to decommission ${i.subCategory.name}? This will retire the technical spec.`,confirmText:"Decommission",onConfirm:()=>l.$inertia.delete(l.route("subcategories.destroy",i.subCategory.id))}))},[...t[8]||(t[8]=[e("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Decommission ",-1)])])):c("",!0)]),e("div",q,[e("div",z,[r(g,{for:"category_id",value:"Parent Category"}),e("div",L,[V(e("select",{id:"category_id","onUpdate:modelValue":t[1]||(t[1]=a=>s(o).category_id=a),class:"block w-full appearance-none rounded-lg border-gray-300 bg-white py-2 pl-3 pr-10 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-primary"},[t[10]||(t[10]=e("option",{value:"",disabled:""},"Select category...",-1)),(n(!0),d(x,null,B(i.categories,a=>(n(),d("option",{key:a.id,value:a.id},y(a.name),9,G))),128))],512),[[j,s(o).category_id]]),t[11]||(t[11]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),r(f,{class:"mt-2",message:s(o).errors.category_id},null,8,["message"])]),e("div",I,[r(g,{for:"name",value:"Subcategory Name"}),r(h,{id:"name",modelValue:s(o).name,"onUpdate:modelValue":t[2]||(t[2]=a=>s(o).name=a),class:"mt-1 block w-full"},null,8,["modelValue"]),r(f,{class:"mt-2",message:s(o).errors.name},null,8,["message"])]),e("div",R,[r(g,{for:"code",value:"Subcategory Code"}),r(h,{id:"code",modelValue:s(o).code,"onUpdate:modelValue":t[3]||(t[3]=a=>s(o).code=a),class:"mt-1 block w-full font-mono bg-gray-50 uppercase",placeholder:"e.g. DESK"},null,8,["modelValue"]),t[12]||(t[12]=e("p",{class:"mt-1 text-xs text-gray-500"},"Short unique code used in generating asset identification numbers (QR codes).",-1)),r(f,{class:"mt-2",message:s(o).errors.code},null,8,["message"])]),e("div",H,[r(g,{for:"image",value:"Subcategory Image"}),e("div",J,[i.subCategory.image_url?(n(),d("div",K,[e("div",O,[e("img",{src:i.subCategory.image_url,alt:i.subCategory.name,class:"h-full w-full object-cover"},null,8,Q)]),t[13]||(t[13]=e("p",{class:"mt-1 text-center text-xs text-gray-500"},"Current",-1))])):c("",!0),e("div",W,[e("div",X,[t[15]||(t[15]=e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),e("div",Y,[e("label",Z,[e("span",null,y(i.subCategory.image_url?"Replace image":"Upload a file"),1),e("input",{id:"image",type:"file",accept:"image/*",class:"sr-only",onInput:t[4]||(t[4]=a=>s(o).image=a.target.files[0])},null,32)]),t[14]||(t[14]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[16]||(t[16]=e("p",{class:"text-xs leading-5 text-gray-600"},"PNG, JPG, GIF up to 2MB",-1)),s(o).image?(n(),d("p",ee," Selected: "+y(s(o).image.name),1)):c("",!0)])])]),r(f,{class:"mt-2",message:s(o).errors.image},null,8,["message"])])]),e("div",te,[r(s(v),{href:l.route("subcategories.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:u(()=>[...t[17]||(t[17]=[m(" Cancel ",-1)])]),_:1},8,["href"]),b("sub_category-edit")?(n(),M(N,{key:0,disabled:s(o).processing},{default:u(()=>[...t[18]||(t[18]=[e("svg",{class:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),m(" Save Changes ",-1)])]),_:1},8,["disabled"])):c("",!0)])],32)])])]),_:1})],64))}};export{ce as default};
