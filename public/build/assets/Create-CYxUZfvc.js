import{u as b,o as d,c,a as r,b as o,h as w,w as n,d as e,e as k,f as _,v as B,t as C,k as g,l as f,i as m,j as L,F as M,p as j,q as V}from"./app-CehYguHu.js";import{_ as F}from"./AuthenticatedLayout-CfY1nA_Q.js";import{P as N}from"./PrimaryButton-BWR49dfZ.js";import{_ as P}from"./TextInput-CVQfVas4.js";import{_ as u}from"./InputLabel-BdAlJ2D5.js";import{_ as p}from"./InputError-51rjNbxD.js";import{i as S}from"./browser-image-compression-DILJcqf6.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";const D={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},$={class:"py-8"},z={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},I={class:"p-6 grid gap-6"},U={class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},W={class:"text-center"},G={class:"mt-4 flex text-sm leading-6 text-gray-600 justify-center"},O={for:"image",class:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-indigo-500"},E={key:0,class:"mt-2 text-sm font-semibold text-green-600"},H={class:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-100"},oe={__name:"Create",setup(T){const s=b({name:"",description:"",image:null}),x=async a=>{const t=a.target.files[0];if(!t)return;const i={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{const l=await S(t,i);s.image=l}catch(l){console.error("Image compression failed:",l),s.image=t}},y=V(),h=j(()=>y.props.auth?.permissions??[]),v=a=>h.value.includes(a);return(a,t)=>(d(),c(M,null,[r(o(w),{title:"Add Location"}),r(F,null,{header:n(()=>[e("div",D,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Create Location "),e("p",{class:"mt-1 text-sm text-gray-500"}," Establish a new structural location, zone, or area. ")],-1)),r(o(f),{href:a.route("locations.index"),class:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:n(()=>[...t[3]||(t[3]=[e("svg",{class:"mr-2 -ml-1 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Back to Locations ",-1)])]),_:1},8,["href"])])]),default:n(()=>[e("div",$,[e("div",z,[e("form",{class:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-soft",onSubmit:t[2]||(t[2]=k(i=>o(s).post(a.route("locations.store"),{forceFormData:!0}),["prevent"]))},[t[11]||(t[11]=e("div",{class:"border-b border-gray-100 bg-gray-50 px-6 py-4"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Location Details"),e("p",{class:"text-sm text-gray-500"},"Provide the fundamental details for this premise.")],-1)),e("div",I,[e("div",null,[r(u,{for:"name",value:"Location Name"}),r(P,{id:"name",modelValue:o(s).name,"onUpdate:modelValue":t[0]||(t[0]=i=>o(s).name=i),class:"mt-1 block w-full",placeholder:"e.g. Main Campus, Health Sciences Wing"},null,8,["modelValue"]),r(p,{class:"mt-2",message:o(s).errors.name},null,8,["message"])]),e("div",null,[r(u,{for:"description",value:"Description"}),_(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=i=>o(s).description=i),rows:"3",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",placeholder:"Optional description or notes about this location."},null,512),[[B,o(s).description]]),r(p,{class:"mt-2",message:o(s).errors.description},null,8,["message"])]),e("div",null,[r(u,{for:"image",value:"Location Image (Optional)"}),e("div",U,[e("div",W,[t[7]||(t[7]=e("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0zM15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("div",G,[e("label",O,[t[5]||(t[5]=e("span",null,"Upload a file",-1)),e("input",{id:"image",type:"file",accept:"image/*",capture:"environment",class:"sr-only",onChange:x},null,32)]),t[6]||(t[6]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[8]||(t[8]=e("p",{class:"text-xs leading-5 text-gray-600"},"PNG, JPG, GIF up to 2MB",-1)),o(s).image?(d(),c("p",E," Selected: "+C(o(s).image.name),1)):g("",!0)])]),r(p,{class:"mt-2",message:o(s).errors.image},null,8,["message"])])]),e("div",H,[r(o(f),{href:a.route("locations.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:n(()=>[...t[9]||(t[9]=[m(" Cancel ",-1)])]),_:1},8,["href"]),v("location-create")?(d(),L(N,{key:0,disabled:o(s).processing},{default:n(()=>[...t[10]||(t[10]=[e("svg",{class:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),m(" Save Location ",-1)])]),_:1},8,["disabled"])):g("",!0)])],32)])])]),_:1})],64))}};export{oe as default};
