import{u as e,y as t,o as s,a,k as o,m as l,p as r,b as n,t as d,w as i,e as c,d as p,T as u,q as x,s as g,x as b,F as y,z as m,B as v}from"./vendor-DGI0tb4d.js";/* empty css                                                              */import{_ as f}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{_ as h}from"./InputLabel-ttg1gjZN.js";import{S as w}from"./SearchableSelect-aRakfeG3.js";import{a as k}from"./utils-B98O4e5m.js";const A={class:"min-h-screen bg-gray-100 flex flex-col"},_={class:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 shadow-sm z-10"},C={class:"flex items-center gap-2"},F={class:"text-lg font-bold text-gray-900"},S={class:"text-xs text-gray-500 mt-1 font-mono"},j={key:0,class:"absolute top-20 left-1/2 transform -translate-x-1/2 z-50 bg-[#1FA6A0] text-white py-2 px-6 rounded-full text-sm font-bold shadow-lg flex items-center gap-2"},M={class:"flex-1 overflow-hidden flex flex-col md:flex-row"},B={class:"flex-1 p-6 md:p-10 overflow-y-auto flex flex-col"},V={class:"max-w-xl mx-auto w-full space-y-8 flex-1"},z={class:"grid grid-cols-12 gap-3 items-end"},L={class:"col-span-12 md:col-span-5"},T={class:"col-span-6 md:col-span-3"},U={class:"flex flex-wrap gap-2 pt-2"},P={class:"flex-1"},R={class:"flex items-center justify-between mb-3"},q={class:"text-xs font-black text-gray-400 uppercase tracking-widest"},H={key:0,class:"text-[10px] text-orange-500 font-bold animate-pulse"},I={class:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm"},D={class:"w-full text-left"},K={class:"divide-y divide-gray-50"},O={class:"px-4 py-3 text-sm font-bold text-gray-800"},E={class:"px-4 py-3 text-xs text-gray-500 uppercase font-medium"},N={class:"px-4 py-3 text-right"},Y=["onClick"],G={key:0},J={class:"pt-4 sticky bottom-0 bg-gray-100 pb-2"},Q=["disabled"],W={key:0,class:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},X={key:1},Z={class:"w-full md:w-80 bg-white border-l border-gray-200 overflow-y-auto p-6 hidden md:block"},$={class:"relative pl-4 space-y-6"},ee={class:"relative"},te={class:"text-xs text-gray-400 mt-1"},se={class:"text-xs font-bold text-gray-700 leading-none"},ae={class:"text-[10px] text-gray-400 mt-0.5 font-mono"},oe={key:0,class:"pl-2 pt-4"},le=f({__name:"AddComponents",props:{asset:{type:Object,required:!0},subCategories:{type:Array,required:!0}},setup(f){const le=f,re=e({sub_category_id:"",status:"active",asset_code:"",note:""}),ne=t(le.asset.children||[]),de=t([]),ie=t(null),ce=t(null),pe=t(!1),ue=()=>{if(!re.sub_category_id)return;const e=le.subCategories.find(e=>e.id===re.sub_category_id);de.value.push({...re.data(),temp_id:Date.now(),sub_category_name:e?.name||"Unknown"});const t=re.status;re.reset(),re.status=t,setTimeout(()=>{ie.value?.open()},100)},xe=()=>{0!==de.value.length&&(pe.value=!0,k.post(route("assets.store-components",le.asset.id),{components:de.value}).then(e=>{ne.value=[...e.data.components,...ne.value],de.value=[],ce.value="All components saved successfully!",setTimeout(()=>{ce.value=null},3e3)}).catch(e=>{alert("Failed to save components. Please check for errors.")}).finally(()=>{pe.value=!1}))},ge=e=>{const t=le.subCategories.find(t=>t.name.toLowerCase().includes(e.toLowerCase()));t&&(re.sub_category_id=t.id)},be=()=>{v.visit(route("assets.show",le.asset.id))};return(e,t)=>(s(),a(y,null,[o(l(r),{title:"Add Components to System"}),n("div",A,[n("div",_,[n("div",null,[n("div",C,[t[6]||(t[6]=n("span",{class:"bg-[#1FA6A0] text-white text-[10px] font-black uppercase px-2 py-0.5 rounded"},"Composite System",-1)),n("h2",F,d(le.asset.sub_category?.name||"Asset Bundle"),1)]),n("p",S,d(le.asset.asset_code),1)]),n("button",{onClick:be,class:"text-xs font-bold text-gray-500 hover:text-gray-900 uppercase tracking-widest border border-gray-300 px-6 py-2.5 rounded hover:bg-gray-50 bg-white transition-colors shadow-sm"}," Finish & Close ")]),o(u,{name:"fade"},{default:i(()=>[ce.value?(s(),a("div",j,[t[7]||(t[7]=n("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),c(" "+d(ce.value),1)])):p("",!0)]),_:1}),n("div",M,[n("div",B,[n("div",V,[n("div",null,[t[11]||(t[11]=n("h3",{class:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-[#1FA6A0]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),c(" Build System Inventory ")],-1)),n("form",{onSubmit:x(ue,["prevent"]),class:"space-y-4 bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative"},[t[10]||(t[10]=n("div",{class:"absolute -left-1 top-6 bottom-6 w-1 bg-[#1FA6A0] rounded-r"},null,-1)),n("div",z,[n("div",L,[o(w,{ref_key:"componentSelectRef",ref:ie,modelValue:l(re).sub_category_id,"onUpdate:modelValue":t[0]||(t[0]=e=>l(re).sub_category_id=e),options:f.subCategories,label:"Component",placeholder:"Select OR Type...",class:"w-full",autofocus:""},null,8,["modelValue","options"])]),n("div",T,[o(h,{value:"Status",class:"text-[10px] uppercase font-bold text-gray-400 mb-1"}),g(n("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l(re).status=e),class:"w-full text-sm py-2 rounded border-gray-200 bg-gray-50 font-bold focus:ring-[#1FA6A0] focus:border-[#1FA6A0]"},[...t[8]||(t[8]=[n("option",{value:"active"},"Active",-1),n("option",{value:"maintenance"},"Maintenance",-1),n("option",{value:"damaged"},"Damaged",-1)])],512),[[b,l(re).status]])]),t[9]||(t[9]=n("div",{class:"col-span-6 md:col-span-4"},[n("button",{type:"submit",class:"w-full h-[38px] bg-gray-800 text-white text-[10px] font-black uppercase tracking-wider rounded hover:bg-black transition-colors flex items-center justify-center gap-1"},[c(" Add Row "),n("kbd",{class:"hidden md:inline font-mono px-1 py-0.5 bg-gray-700 rounded text-[9px] text-gray-300"},"â†µ")])],-1))]),n("div",U,[n("button",{type:"button",onClick:t[2]||(t[2]=e=>ge("Monitor")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Monitor"),n("button",{type:"button",onClick:t[3]||(t[3]=e=>ge("Keyboard")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Keyboard"),n("button",{type:"button",onClick:t[4]||(t[4]=e=>ge("Mouse")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ Mouse"),n("button",{type:"button",onClick:t[5]||(t[5]=e=>ge("CPU")),class:"px-2 py-1 rounded border border-gray-100 bg-gray-50 text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-colors"},"+ CPU")])],32)]),n("div",P,[n("div",R,[n("h4",q,"Pending Components ("+d(de.value.length)+")",1),de.value.length>0?(s(),a("span",H,"Not Saved Yet")):p("",!0)]),n("div",I,[n("table",D,[t[14]||(t[14]=n("thead",{class:"bg-gray-50 border-b border-gray-100"},[n("tr",null,[n("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase"},"Component"),n("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase"},"Status"),n("th",{class:"px-4 py-3 text-[10px] font-bold text-gray-400 uppercase text-right"},"Action")])],-1)),n("tbody",K,[(s(!0),a(y,null,m(de.value,(e,o)=>(s(),a("tr",{key:e.temp_id,class:"group hover:bg-orange-50/30 transition-colors"},[n("td",O,d(e.sub_category_name),1),n("td",E,d(e.status),1),n("td",N,[n("button",{onClick:e=>{return t=o,void de.value.splice(t,1);var t},class:"text-red-400 hover:text-red-600 p-1"},[...t[12]||(t[12]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Y)])]))),128)),0===de.value.length?(s(),a("tr",G,[...t[13]||(t[13]=[n("td",{colspan:"3",class:"px-4 py-8 text-center text-gray-400 text-xs italic"}," Add components above to build your list. ",-1)])])):p("",!0)])])])]),n("div",J,[n("button",{onClick:xe,disabled:0===de.value.length||pe.value,class:"w-full h-14 bg-[#1FA6A0] text-white text-xs font-black uppercase tracking-[0.2em] rounded-lg shadow-lg shadow-[#1FA6A0]/20 hover:bg-[#178a85] active:scale-95 transition-all disabled:opacity-50 disabled:grayscale flex items-center justify-center gap-3"},[pe.value?(s(),a("svg",W,[...t[15]||(t[15]=[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(s(),a("span",X,"Save All Components ("+d(de.value.length)+")",1))],8,Q)])])]),n("div",Z,[t[21]||(t[21]=n("h3",{class:"text-xs font-black text-gray-400 uppercase tracking-widest mb-6"},"System Snapshot",-1)),n("div",$,[t[20]||(t[20]=n("div",{class:"absolute left-0 top-2 bottom-0 w-0.5 bg-gray-100"},null,-1)),n("div",ee,[t[16]||(t[16]=n("div",{class:"absolute -left-[21px] top-0 w-3 h-3 rounded-full bg-blue-500 ring-4 ring-white"},null,-1)),t[17]||(t[17]=n("p",{class:"text-sm font-bold text-gray-900 leading-none"},"System Root",-1)),n("p",te,d(le.asset.sub_category?.name),1)]),(s(!0),a(y,null,m(ne.value,e=>(s(),a("div",{key:e.id,class:"relative"},[t[18]||(t[18]=n("div",{class:"absolute -left-[21px] top-1 w-2.5 h-2.5 rounded-full bg-green-400 ring-4 ring-white"},null,-1)),n("p",se,d(e.name),1),n("p",ae,d(e.asset_code),1)]))),128)),0===ne.value.length?(s(),a("div",oe,[...t[19]||(t[19]=[n("p",{class:"text-[10px] text-gray-300 uppercase tracking-wider"},"Empty System",-1)])])):p("",!0)])])])])],64))}},[["__scopeId","data-v-e28b948c"]]);export{le as default};
