import{u as M,A as z,o,c as n,a as u,b as j,h as C,w as l,d as e,t as i,F as x,m as B,j as m,i as v,k as p,r as A,p as y,q as R}from"./app-BX5kK8gL.js";import{_ as V}from"./AuthenticatedLayout-WTG0r7J_.js";import{_ as S}from"./TextInput-D8M23_PG.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-Doqh3QbT.js";import"./SecondaryButton-CW323Hov.js";const N={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},D={class:"py-10"},F={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},H={class:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},L={class:"relative w-full sm:w-96"},P={class:"flex gap-4"},$={class:"flex items-center gap-2 px-4 py-2 bg-white rounded-xl border border-gray-100 shadow-soft"},q={class:"text-xs font-black uppercase text-gray-500 tracking-tighter"},I={key:0,class:"flex flex-col items-center justify-center rounded-3xl border border-dashed border-gray-200 bg-white p-20 text-center"},T={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},E={class:"flex items-start justify-between"},G={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gray-50 text-gray-400 group-hover:bg-primary/10 group-hover:text-primary transition-colors"},U={key:0,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K={class:"flex flex-col items-end gap-1"},O={class:"rounded-lg bg-gray-100 px-2 py-1 text-[10px] font-black uppercase tracking-widest text-gray-500 ring-1 ring-inset ring-gray-200"},Q={class:"mt-6 flex flex-1 flex-col"},W={class:"text-xl font-black tracking-tighter text-gray-900 group-hover:text-primary transition-colors"},X={class:"mt-2 text-sm leading-relaxed text-gray-500"},Y={class:"mt-8 flex items-center justify-between border-t border-gray-50 pt-6"},Z={class:"flex gap-2"},ae={__name:"Index",props:{roles:{type:Array,required:!0}},setup(g){const f=g,a=A(""),w=M({}),k=R(),_=y(()=>k.props.auth?.permissions??[]),d=r=>_.value.includes(r),h=y(()=>{const r=a.value.trim().toLowerCase();return r?f.roles.filter(t=>t.name.toLowerCase().includes(r)):f.roles}),b=r=>{window.confirm("Permanently de-authorize this role? This cannot be undone.")&&w.delete(route("roles.destroy",r))};return(r,t)=>{const c=z("AppButton");return o(),n(x,null,[u(j(C),{title:"Role Registry"}),u(V,null,{header:l(()=>[e("div",N,[t[3]||(t[3]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Identity Registry "),e("p",{class:"mt-1 text-sm text-gray-500"},"Manage organizational roles and their high-level access tiers.")],-1)),d("role-create")?(o(),m(c,{key:0,href:r.route("roles.create"),variant:"primary"},{icon:l(()=>[...t[1]||(t[1]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})],-1)])]),default:l(()=>[t[2]||(t[2]=v(" Add Security Persona ",-1))]),_:1},8,["href"])):p("",!0)])]),default:l(()=>[e("div",D,[e("div",F,[e("div",H,[e("div",L,[t[4]||(t[4]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),u(S,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),type:"text",class:"block w-full border-gray-200 pl-10 h-11 rounded-xl shadow-soft focus:ring-primary/20",placeholder:"Search identity titles..."},null,8,["modelValue"])]),e("div",P,[e("div",$,[t[5]||(t[5]=e("span",{class:"flex h-2 w-2 rounded-full bg-primary animate-pulse"},null,-1)),e("span",q,i(g.roles.length)+" Roles Defined",1)])])]),h.value.length===0?(o(),n("div",I,[...t[6]||(t[6]=[e("div",{class:"flex h-16 w-16 items-center justify-center rounded-full bg-gray-50 text-gray-300"},[e("svg",{class:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),e("h3",{class:"mt-4 text-lg font-bold text-gray-900 uppercase"},"Silence in the Registry",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"No organizational roles match your search criteria.",-1)])])):(o(),n("div",T,[(o(!0),n(x,null,B(h.value,s=>(o(),n("div",{key:s.id,class:"group relative flex flex-col overflow-hidden rounded-3xl border border-gray-100 bg-white p-6 shadow-soft transition-all duration-300 hover:-translate-y-1 hover:border-primary/20 hover:shadow-xl"},[e("div",E,[e("div",G,[s.name==="SuperAdmin"?(o(),n("svg",U,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},null,-1)])])):(o(),n("svg",J,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),e("div",K,[e("span",O,i(s.permissions_count)+" Gates ",1)])]),e("div",Q,[e("h3",W,i(s.name),1),e("p",X," Defined functional boundaries for "+i(s.name)+" across all institutional modules. ",1)]),e("div",Y,[e("div",Z,[d("role-edit")?(o(),m(c,{key:0,href:r.route("roles.edit",s.id),variant:"secondary",size:"sm"},{default:l(()=>[...t[9]||(t[9]=[v(" Map Permissions ",-1)])]),_:1},8,["href"])):p("",!0)]),d("role-delete")&&s.name!=="SuperAdmin"?(o(),m(c,{key:0,variant:"ghost",size:"xs",class:"!p-2 hover:!bg-rose-50 hover:!text-rose-500",onClick:ee=>b(s.id),title:"De-authorize Role"},{icon:l(()=>[...t[10]||(t[10]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),_:1},8,["onClick"])):p("",!0)])]))),128))]))])])]),_:1})],64)}}};export{ae as default};
