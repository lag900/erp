import{C as e,D as l,G as a,I as t,o,a as r,t as n,d as s,b as u,n as i,k as d,w as c,s as v,q as p,v as m,F as f,z as b,T as g,y as x,g as y}from"./vendor-DGI0tb4d.js";import{_ as h}from"./_plugin-vue_export-helper-BCo6x5W8.js";const w=["for"],k={class:"relative"},A=["id","disabled"],S={key:0,class:"absolute z-[150] mt-2 w-full bg-white rounded-[12px] border border-[#E5E7EB] shadow-[0_10px_40px_-10px_rgba(0,0,0,0.1)] overflow-hidden"},_={class:"p-2 bg-gray-50/50 border-b border-gray-100"},F={class:"relative"},V=["placeholder"],C={class:"max-h-[280px] overflow-y-auto custom-scrollbar"},E={key:0,class:"px-5 py-8 text-center"},L={class:"text-[13px] text-gray-400 font-medium"},B={role:"listbox",class:"p-1"},M=["onClick","aria-selected"],j={class:"text-[14px] font-semibold truncate leading-none"},z={key:0,class:"h-4 w-4 text-[#1FA6A0]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},D=h({__name:"SearchableSelect",props:{modelValue:{type:[String,Number],default:null},options:{type:Array,required:!0},placeholder:{type:String,default:"Select an option..."},label:{type:String,default:""},searchPlaceholder:{type:String,default:"Search..."},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(h,{expose:D,emit:q}){const I=h,N=q,$=x(!1),P=x(""),R=x(null),U=x(null),G=y(()=>Array.isArray(I.options)?I.options.map(e=>e?{id:e.id??e.value??null,label:String(e.label??e.name??e.text??"")}:null).filter(e=>null!==e&&null!==e.id):[]),K=y(()=>{const e=G.value;if(0===e.length)return[];if(!P.value||!P.value.trim())return e;const l=P.value.toLowerCase().trim();return e.filter(e=>e.label.toLowerCase().includes(l))}),T=y(()=>{const e=G.value;return 0===e.length||null===I.modelValue||void 0===I.modelValue||""===I.modelValue?null:e.find(e=>String(e.id)===String(I.modelValue))||null}),H=e=>{e&&null!==e.id&&void 0!==e.id&&(N("update:modelValue",e.id),$.value=!1,P.value="")},J=()=>{I.disabled||($.value=!$.value,$.value&&(P.value="",t(()=>{U.value&&U.value.focus()})))},O=e=>{R.value&&!R.value.contains(e.target)&&($.value=!1,P.value="")},Q=e=>{$.value&&("Escape"===e.key?($.value=!1,P.value="",e.preventDefault()):"Enter"===e.key&&1===K.value.length?(H(K.value[0]),e.preventDefault()):"ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.preventDefault())};return e(()=>I.modelValue,e=>{e||(P.value="")}),e(()=>I.options,(e,l)=>{if(I.label,null!==I.modelValue&&void 0!==I.modelValue&&""!==I.modelValue){const e=G.value;!e.some(e=>String(e.id)===String(I.modelValue))&&e.length>0&&N("update:modelValue",null)}P.value&&0===K.value.length&&G.value.length>0&&(P.value="")},{deep:!0,immediate:!0}),l(()=>{document.addEventListener("click",O),document.addEventListener("keydown",Q)}),a(()=>{document.removeEventListener("click",O),document.removeEventListener("keydown",Q)}),D({focus:()=>{R.value?.querySelector("button")&&R.value.querySelector("button").focus()},open:()=>{I.disabled||($.value=!0,t(()=>{U.value&&U.value.focus()}))}}),(e,l)=>(o(),r("div",{class:"relative",ref_key:"dropdownRef",ref:R},[h.label?(o(),r("label",{key:0,for:`ss-${h.label}`,class:"form-group-label"},n(h.label),9,w)):s("",!0),u("div",k,[u("button",{id:`ss-${h.label}`,type:"button",disabled:h.disabled,onClick:J,class:i(["flex items-center justify-between w-full h-[44px] px-4 bg-[#F8FAFC] border border-[#E5E7EB] rounded-[10px] text-[15px] font-medium text-gray-700 transition-all hover:border-[#1FA6A0] focus:border-[#1FA6A0] focus:bg-white focus:shadow-[0_0_0_4px_rgba(31,166,160,0.1)] disabled:opacity-50 disabled:cursor-not-allowed text-left group",{"border-[#1FA6A0] bg-white ring-4 ring-[#1FA6A0]/10":$.value}])},[u("span",{class:i(["truncate",{"text-gray-400":!T.value}])},n(T.value?T.value.label:h.placeholder),3),(o(),r("svg",{class:i(["h-5 w-5 text-gray-400 group-hover:text-[#1FA6A0] transition-transform flex-shrink-0 ml-2",{"rotate-180 text-[#1FA6A0]":$.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[...l[3]||(l[3]=[u("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2))],10,A),d(g,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"transform opacity-0 -translate-y-2","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-2"},{default:c(()=>[$.value?(o(),r("div",S,[u("div",_,[u("div",F,[v(u("input",{ref_key:"searchInputRef",ref:U,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e),type:"text",class:"w-full h-[38px] !bg-white !rounded-[8px] !text-[13px] !pl-9 !border-gray-200",placeholder:h.searchPlaceholder,onClick:l[1]||(l[1]=p(()=>{},["stop"])),onKeydown:l[2]||(l[2]=p(()=>{},["stop"]))},null,40,V),[[m,P.value]]),l[4]||(l[4]=u("div",{class:"absolute inset-y-0 left-3 flex items-center pointer-events-none"},[u("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),u("div",C,[0===K.value.length?(o(),r("div",E,[l[5]||(l[5]=u("svg",{class:"mx-auto h-8 w-8 text-gray-200 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 9.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),u("p",L,n(P.value?"No matches found":"No options available"),1)])):s("",!0),u("ul",B,[(o(!0),r(f,null,b(K.value,e=>(o(),r("li",{key:`opt-${e.id}`,onClick:l=>H(e),role:"option","aria-selected":String(e.id)===String(h.modelValue),class:i(["flex items-center justify-between px-4 py-2.5 rounded-[8px] cursor-pointer transition-all hover:bg-[#F8FAFC]",{"bg-[#E6F4F3]/50 text-[#1FA6A0]":String(e.id)===String(h.modelValue)}])},[u("span",j,n(e.label),1),String(e.id)===String(h.modelValue)?(o(),r("svg",z,[...l[6]||(l[6]=[u("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):s("",!0)],10,M))),128))])])])):s("",!0)]),_:1})])],512))}},[["__scopeId","data-v-c8e325be"]]);export{D as S};
