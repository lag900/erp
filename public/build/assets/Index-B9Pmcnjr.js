import{o as e,a as t,b as a,F as s,z as r,c as l,n as o,m as i,l as n,d,J as c,y as u,B as p,C as g,D as v,k as x,p as f,w as m,s as b,x as y,e as h,t as w,q as _,K as k,g as C,A as j}from"./vendor-DGI0tb4d.js";import{_ as A}from"./AuthenticatedLayout-Cfq4davl.js";import{_ as M}from"./TextInput-7Tb4wL4u.js";import{_ as S}from"./app-B9CltQZa.js";import{r as T,a as D}from"./debounce-D19TCx3D.js";import{a as L}from"./utils-B98O4e5m.js";import{_ as B}from"./_plugin-vue_export-helper-BCo6x5W8.js";/* empty css                                                              */import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const V={key:0},H={class:"flex flex-wrap -mb-1"},U=["innerHTML"],I={__name:"Pagination",props:{links:{type:Array,required:!0}},setup:c=>(u,p)=>c.links.length>3?(e(),t("div",V,[a("div",H,[(e(!0),t(s,null,r(c.links,(a,r)=>(e(),t(s,{key:r},[null===a.url?(e(),t("div",{key:0,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded-xl",innerHTML:a.label},null,8,U)):(e(),l(i(n),{key:1,class:o(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded-xl hover:bg-white focus:border-primary focus:text-primary transition-all shadow-sm",{"bg-primary text-white font-bold border-primary":a.active,"bg-gray-50 text-gray-700":!a.active}]),href:a.url,innerHTML:a.label,"preserve-scroll":""},null,8,["class","href","innerHTML"]))],64))),128))])])):d("",!0)};var F,G;const z=c(function(){if(G)return F;G=1;var e=T(),t=D();return F=function(a,s,r){var l=!0,o=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return t(r)&&(l="leading"in r?!!r.leading:l,o="trailing"in r?!!r.trailing:o),e(a,s,{leading:l,maxWait:s,trailing:o})}}()),E={class:"flex flex-wrap items-center justify-between gap-4"},R={class:"flex gap-3"},O={class:"py-8"},N={class:"space-y-6"},q={class:"bg-white border border-slate-200 rounded-3xl p-7 shadow-soft space-y-6"},P={class:"flex flex-col md:flex-row items-end gap-5"},J={class:"flex-1 w-full"},K={class:"relative group"},Q={class:"w-full md:w-72"},W={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},$=["value"],X=["disabled"],Y=["value"],Z=["value"],ee={key:0},te={value:""},ae=["value"],se={class:"flex items-center justify-between px-2"},re={class:"flex items-center gap-3"},le={class:"text-xs font-bold text-gray-500 uppercase tracking-widest"},oe={class:"text-gray-900"},ie={key:0,class:"flex items-center gap-1.5 rounded-full bg-primary/5 px-3 py-1 ring-1 ring-primary/20"},ne={class:"text-[10px] font-black uppercase tracking-tighter text-primary"},de={class:"flex flex-col lg:flex-row gap-8"},ce={class:"flex-1 w-full overflow-hidden"},ue={key:0,class:"rounded-3xl border border-dashed border-gray-200 bg-white p-24 text-center shadow-soft"},pe={key:1,class:"space-y-6"},ge={class:"table-container"},ve={class:"ent-table"},xe={class:"divide-y divide-gray-50"},fe={class:"group border-b border-gray-100 hover:bg-gray-50/30 transition-colors"},me={class:"px-6 py-4"},be=["onClick"],ye=["src"],he={key:1,class:"h-6 w-6 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we={class:"px-6 py-4"},_e={class:"flex items-center gap-3"},ke={class:"flex-1 min-w-0"},Ce={class:"flex flex-col gap-1"},je={class:"flex items-center gap-2"},Ae={key:0,class:"text-slate-400 font-medium ml-1"},Me=["onClick"],Se={key:1,class:"series-badge"},Te={key:2,class:"series-badge"},De={class:"text-[10px] font-black font-mono text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-200 self-start shadow-sm tracking-tight"},Le={class:"px-6 py-4"},Be={class:"flex flex-col"},Ve={class:"text-[13px] font-semibold text-[#1F2937]"},He={class:"text-[11px] font-bold text-[#6B7280] uppercase tracking-tight"},Ue={class:"px-6 py-4"},Ie={class:"flex items-center gap-2"},Fe={key:0,class:"text-[10px] font-bold text-gray-400 bg-gray-50 border border-gray-100 px-1.5 py-0.5 rounded"},Ge={class:"px-6 py-4"},ze={class:"flex flex-col leading-tight gap-1"},Ee={class:"text-[11px] text-gray-500 font-medium"},Re={class:"text-[10px] text-gray-400"},Oe={class:"px-6 py-4 text-right"},Ne={class:"flex justify-end gap-2 px-2"},qe=["onClick"],Pe={class:"px-6 py-2 flex justify-center"},Je=["onClick"],Ke=["src"],Qe={key:1,class:"h-4 w-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={class:"px-6 py-2 pl-12 relative"},$e={class:"flex flex-col gap-1"},Xe={class:"flex items-center gap-2"},Ye={key:0,class:"series-badge !text-[11px] !px-2 !py-0.5"},Ze={key:1,class:"series-badge !text-[11px] !px-2 !py-0.5"},et={class:"text-[9px] font-black font-mono text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 self-start"},tt={class:"px-6 py-2 text-center"},at={class:"text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded bg-white border border-gray-100 text-gray-500"},st={class:"px-6 py-2"},rt={class:"flex flex-col leading-tight gap-0.5"},lt={class:"text-[10px] text-gray-500 font-medium"},ot={class:"text-[9px] text-gray-400"},it={class:"px-6 py-2 text-right"},nt={key:1,class:"bg-gray-50/30"},dt={key:0,class:"w-full lg:w-80"},ct={class:"sticky top-8 rounded-[32px] border border-slate-200 bg-white p-8 shadow-premium"},ut={class:"space-y-3"},pt=["onDragover","onDrop"],gt={class:"flex items-center gap-4 overflow-hidden"},vt={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-white border border-slate-100 shadow-sm transition-transform group-hover:scale-110"},xt={class:"text-xs font-bold text-[#3d4adb]"},ft={class:"truncate text-xs font-bold text-slate-700 uppercase tracking-tighter"},mt=["src"],bt={class:"absolute top-4 right-4 flex gap-2"},yt=B({__name:"Index",props:{assets:Object,filters:Object,meta:Object},setup(c){const T=c,D=j(),B=C(()=>D.props.auth?.permissions??[]),V=e=>B.value.includes(e),H=C(()=>D.props.auth?.user?.roles?.includes("SuperAdmin")),U=C(()=>D.props.auth?.user?.roles?.includes("Admin")),F=u([]),G=u([]),yt=u({search:T.filters.search||"",statuses:T.filters.statuses||[],building_id:T.filters.building_id||"",room_id:T.filters.room_id||"",category_id:T.filters.category_id||"",sub_category_id:T.filters.sub_category_id||"",department_id:T.filters.department_id||"",created_by:T.filters.created_by||"",date_from:T.filters.date_from||"",date_to:T.filters.date_to||"",asset_type:T.filters.asset_type||""}),ht=u(null),wt=e=>{ht.value=e},_t=z(()=>{const e={};for(const[t,a]of Object.entries(yt.value))if(null!==a&&""!==a&&void 0!==a)if(Array.isArray(a)){const s=a.filter(e=>""!==e&&null!==e);s.length>0&&(e[t]=s)}else e[t]=a;p.get(route("assets.index"),e,{preserveState:!0,preserveScroll:!0,replace:!0})},500);g(()=>yt.value,()=>{_t()},{deep:!0}),g(()=>yt.value.building_id,async e=>{if(!e)return F.value=[],void(yt.value.room_id="");try{const t=await L.get(route("api.rooms",{building_id:e}));F.value=t.data}catch(t){}}),g(()=>yt.value.category_id,async e=>{if(!e)return G.value=[],void(yt.value.sub_category_id="");try{const t=await L.get(route("api.sub-categories",{category_id:e}));G.value=t.data}catch(t){}});const kt=C(()=>{let e=0;return yt.value.search&&e++,yt.value.statuses.length>0&&e++,yt.value.building_id&&e++,yt.value.room_id&&e++,yt.value.category_id&&e++,yt.value.sub_category_id&&e++,yt.value.department_id&&e++,yt.value.created_by&&e++,yt.value.date_from&&e++,yt.value.date_to&&e++,e}),Ct=()=>{yt.value={search:"",statuses:[],building_id:"",room_id:"",category_id:"",sub_category_id:"",department_id:"",created_by:"",date_from:"",date_to:"",asset_type:""},p.get(route("assets.index"),{},{preserveState:!0,preserveScroll:!0,replace:!0})},jt=e=>{switch(e){case"active":return"badge-success";case"maintenance":return"badge-warning";case"damaged":return"badge-danger";case"retired":default:return"badge-neutral";case"donated":return"badge-primary";case"lost":return"bg-slate-800 text-white border-slate-900 badge-base"}},At=u(null),Mt=u(null),St=u([]),Tt=async e=>{try{await L.delete(route("assets.destroy",e)),p.reload({only:["assets"],onSuccess:()=>{window.showToast("success","Asset successfully archived.")}})}catch(t){window.showToast("error",t.response?.data?.error||"Failed to archive asset.")}};return v(async()=>{if(yt.value.building_id)try{const e=await L.get(route("api.rooms",{building_id:yt.value.building_id}));F.value=e.data}catch(e){}if(yt.value.category_id)try{const e=await L.get(route("api.sub-categories",{category_id:yt.value.category_id}));G.value=e.data}catch(e){}}),(u,g)=>(e(),t(s,null,[x(i(f),{title:"Enterprise Asset Inventory"}),x(A,null,{header:m(()=>[a("div",E,[g[12]||(g[12]=a("div",null,[a("h2",{class:"text-2xl font-bold leading-tight text-slate-800 tracking-tight"}," Asset Inventory "),a("p",{class:"mt-1.5 text-[11px] font-bold text-slate-400 uppercase tracking-widest"}," Global Asset Governance & Life-cycle Management ")],-1)),a("div",R,[V("asset-create")?(e(),l(S,{key:0,href:u.route("assets.create"),variant:"primary",class:"!rounded-xl shadow-premium px-6"},{icon:m(()=>[...g[10]||(g[10]=[a("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])]),default:m(()=>[g[11]||(g[11]=h(" Register Asset ",-1))]),_:1},8,["href"])):d("",!0)])])]),default:m(()=>[a("div",O,[a("div",N,[a("div",q,[a("div",P,[a("div",J,[g[14]||(g[14]=a("label",{class:"label-enterprise"},"Global Search",-1)),a("div",K,[x(M,{modelValue:yt.value.search,"onUpdate:modelValue":g[0]||(g[0]=e=>yt.value.search=e),type:"text",class:"w-full !pl-12",placeholder:"Search by code, room, or category..."},null,8,["modelValue"]),g[13]||(g[13]=a("div",{class:"absolute inset-y-0 left-4 flex items-center text-slate-300 group-focus-within:text-[#3d4adb] transition-colors"},[a("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),a("div",Q,[g[16]||(g[16]=a("label",{class:"label-enterprise"},"Classification",-1)),b(a("select",{"onUpdate:modelValue":g[1]||(g[1]=e=>yt.value.asset_type=e),class:"w-full"},[...g[15]||(g[15]=[a("option",{value:""},"Global Hierarchy",-1),a("option",{value:"individual"},"Standalone Items",-1),a("option",{value:"bundle"},"System Bundles",-1),a("option",{value:"component"},"System Components",-1)])],512),[[y,yt.value.asset_type]])]),a("button",{onClick:Ct,class:"h-[44px] px-6 rounded-xl border border-slate-200 bg-white text-[11px] font-bold text-slate-400 hover:bg-slate-50 hover:text-slate-800 transition-all uppercase tracking-widest flex items-center justify-center gap-2"},[...g[17]||(g[17]=[a("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),h(" Clear Filters ",-1)])])]),a("div",W,[a("div",null,[g[19]||(g[19]=a("label",{class:"label-enterprise"},"Building",-1)),b(a("select",{"onUpdate:modelValue":g[2]||(g[2]=e=>yt.value.building_id=e),class:"w-full"},[g[18]||(g[18]=a("option",{value:""},"All Buildings",-1)),(e(!0),t(s,null,r(c.meta.buildings,a=>(e(),t("option",{key:a.id,value:a.id},w(a.name),9,$))),128))],512),[[y,yt.value.building_id]])]),a("div",null,[g[21]||(g[21]=a("label",{class:"label-enterprise"},"Location / Room",-1)),b(a("select",{"onUpdate:modelValue":g[3]||(g[3]=e=>yt.value.room_id=e),disabled:!yt.value.building_id,class:"w-full"},[g[20]||(g[20]=a("option",{value:""},"All Rooms",-1)),(e(!0),t(s,null,r(F.value,a=>(e(),t("option",{key:a.id,value:a.id},w(a.name),9,Y))),128))],8,X),[[y,yt.value.room_id]])]),a("div",null,[g[23]||(g[23]=a("label",{class:"label-enterprise"},"Category",-1)),b(a("select",{"onUpdate:modelValue":g[4]||(g[4]=e=>yt.value.category_id=e),class:"w-full"},[g[22]||(g[22]=a("option",{value:""},"All Categories",-1)),(e(!0),t(s,null,r(c.meta.categories,a=>(e(),t("option",{key:a.id,value:a.id},w(a.name),9,Z))),128))],512),[[y,yt.value.category_id]])]),a("div",null,[g[25]||(g[25]=a("label",{class:"label-enterprise"},"System Status",-1)),b(a("select",{"onUpdate:modelValue":g[5]||(g[5]=e=>yt.value.statuses[0]=e),class:"w-full"},[...g[24]||(g[24]=[a("option",{value:""},"All Statuses",-1),a("option",{value:"active"},"Active (Functional)",-1),a("option",{value:"maintenance"},"Maintenance",-1),a("option",{value:"damaged"},"Damaged",-1),a("option",{value:"retired"},"Retired",-1),a("option",{value:"lost"},"Lost",-1)])],512),[[y,yt.value.statuses[0]]])]),yt.value.category_id?(e(),t("div",ee,[g[26]||(g[26]=a("label",{class:"label-enterprise"},"Sub-category",-1)),b(a("select",{"onUpdate:modelValue":g[6]||(g[6]=e=>yt.value.sub_category_id=e),class:"w-full !border-[#3d4adb]/30"},[a("option",te,"All "+w(c.meta.categories.find(e=>e.id===yt.value.category_id)?.name)+" Sub-categories",1),(e(!0),t(s,null,r(G.value,a=>(e(),t("option",{key:a.id,value:a.id},w(a.name),9,ae))),128))],512),[[y,yt.value.sub_category_id]])])):d("",!0)])]),a("div",se,[a("div",re,[a("span",le,[g[27]||(g[27]=h(" Showing ",-1)),a("span",oe,w(c.assets.total),1),g[28]||(g[28]=h(" assets ",-1))]),kt.value>0?(e(),t("div",ie,[g[29]||(g[29]=a("span",{class:"flex h-2 w-2 rounded-full bg-primary animate-pulse"},null,-1)),a("span",ne,"Filters active ("+w(kt.value)+")",1)])):d("",!0)])]),a("div",de,[a("div",ce,[0===c.assets.data.length?(e(),t("div",ue,[g[30]||(g[30]=a("div",{class:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-gray-50 text-gray-300"},[a("svg",{class:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),g[31]||(g[31]=a("h3",{class:"mt-6 text-xl font-black text-gray-900 uppercase"},"No Matches Found",-1)),g[32]||(g[32]=a("p",{class:"mt-2 text-gray-400 font-medium"},"Try refining your enterprise filters or check the audit logs.",-1)),a("button",{onClick:Ct,class:"mt-8 text-sm font-black text-primary uppercase tracking-widest hover:underline"},"Clear all filters")])):(e(),t("div",pe,[a("div",ge,[a("table",ve,[g[46]||(g[46]=a("thead",null,[a("tr",null,[a("th",{class:"!w-16"},"Item"),a("th",null,"Identifier & Label"),a("th",null,"Location"),a("th",null,"Governance"),a("th",null,"History"),a("th",{class:"text-right"},"Action")])],-1)),a("tbody",xe,[(e(!0),t(s,null,r(c.assets.data,c=>{return e(),t(s,{key:c.id},[a("tr",fe,[a("td",me,[a("div",{class:"h-12 w-12 rounded-xl border border-slate-100 bg-slate-50 overflow-hidden flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:e=>wt(c.image_url)},[c.image_url?(e(),t("img",{key:0,src:c.image_url,class:"h-full w-full object-cover"},null,8,ye)):(e(),t("svg",he,[...g[33]||(g[33]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,be)]),a("td",we,[a("div",_e,[a("div",ke,[a("div",Ce,[a("div",je,[x(i(n),{href:u.route("assets.show",c.id),class:"text-[14px] font-bold text-slate-800 hover:text-[#3d4adb] leading-tight"},{default:m(()=>[h(w(c.category||"General Asset")+" ",1),c.subCategory?(e(),t("span",Ae,"â€” "+w(c.subCategory),1)):d("",!0)]),_:2},1032,["href"]),c.is_parent?(e(),t("div",{key:0,class:"flex h-5 w-5 items-center justify-center rounded bg-indigo-50 text-indigo-600 cursor-pointer hover:bg-indigo-100 transition-colors ml-1",onClick:e=>{return t=c.id,void(St.value.includes(t)?St.value=St.value.filter(e=>e!==t):St.value.push(t));var t},title:"Expand System Components"},[(e(),t("svg",{class:o(["h-3 w-3",{"rotate-90":St.value.includes(c.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...g[34]||(g[34]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,Me)):d("",!0),c.bundle_serial?(e(),t("span",Se,w(c.bundle_serial),1)):c.series_no||c.parent_id?(e(),t("span",Te,w(c.short_code),1)):d("",!0)]),a("div",De,w(c.full_serial||c.asset_code||"PENDING"),1)])])])]),a("td",Le,[a("div",Be,[a("p",Ve,w(c.room?.name||"Central Hall"),1),a("p",He,w(c.owner_department||"University"),1)])]),a("td",Ue,[a("div",Ie,[a("span",{class:o(["inline-flex items-center rounded-md border px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",jt(c.status)])},w((p=c.status,{active:"Active",maintenance:"Maintenance",damaged:"Damaged",retired:"Retired",donated:"Donated",lost:"Lost"}[p]||p||"Unknown")),3),c.count>1?(e(),t("span",Fe,"Qty: "+w(c.count),1)):d("",!0)])]),a("td",Ge,[a("div",ze,[a("span",Ee,[g[35]||(g[35]=a("span",{class:"text-gray-400 text-[10px]"},"Created by:",-1)),h(" "+w(c.created_by),1)]),a("span",Re," Date: "+w(c.created_at_formatted),1)])]),a("td",Oe,[a("div",Ne,[x(i(n),{href:u.route("assets.show",c.id),class:"px-3 py-1.5 rounded-lg border border-slate-100 text-[10px] font-black uppercase tracking-widest text-[#3d4adb] hover:bg-[#3d4adb] hover:text-white transition-all shadow-sm"},{default:m(()=>[...g[36]||(g[36]=[h(" Verify",-1)])]),_:1},8,["href"]),V("asset-edit")?(e(),l(i(n),{key:0,href:u.route("assets.edit",c.id),class:"px-3 py-1.5 rounded-lg border border-gray-100 text-[10px] font-black uppercase tracking-widest text-gray-500 hover:bg-gray-50 transition-all shadow-sm"},{default:m(()=>[...g[37]||(g[37]=[h(" Edit",-1)])]),_:1},8,["href"])):d("",!0),V("asset-delete")?(e(),t("button",{key:1,onClick:e=>(e=>{window.showConfirm({title:"Archive Asset Record?",message:`Are you sure you want to archive ${e.asset_code}? This will remove it from active inventory while preserving history for audit compliance.`,confirmText:"Archive Asset",confirmVariant:"danger",onConfirm:()=>Tt(e.id)})})(c),class:"p-2 rounded-lg text-rose-400 hover:text-rose-600 hover:bg-rose-50 transition-all flex items-center justify-center border border-transparent hover:border-rose-100",title:"Archive Asset"},[...g[38]||(g[38]=[a("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qe)):d("",!0)])])]),c.is_parent&&St.value.includes(c.id)?(e(!0),t(s,{key:0},r(c.children,s=>(e(),t("tr",{key:"child-"+s.id,class:"bg-gray-50/20 border-b border-gray-100"},[a("td",Pe,[a("div",{class:"h-8 w-8 rounded border border-gray-200 bg-white overflow-hidden flex items-center justify-center shadow-xs cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:e=>wt(s.image_url)},[s.image_url?(e(),t("img",{key:0,src:s.image_url,class:"h-full w-full object-cover"},null,8,Ke)):(e(),t("svg",Qe,[...g[39]||(g[39]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,Je)]),a("td",We,[g[40]||(g[40]=a("div",{class:"absolute left-6 top-0 bottom-0 w-px bg-gray-200"},null,-1)),g[41]||(g[41]=a("div",{class:"absolute left-6 top-1/2 w-4 h-px bg-gray-200"},null,-1)),a("div",$e,[a("div",Xe,[x(i(n),{href:u.route("assets.show",s.id),class:"text-[11px] font-bold text-[#1F2937] hover:text-[#3d4adb] truncate"},{default:m(()=>[h(w(s.name),1)]),_:2},1032,["href"]),s.bundle_serial?(e(),t("span",Ye,w(s.bundle_serial),1)):s.series_no?(e(),t("span",Ze,w(s.short_code),1)):d("",!0)]),a("span",et,w(s.full_serial||s.asset_code),1)])]),g[44]||(g[44]=a("td",{class:"px-6 py-2"},[a("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter"},"System Component")],-1)),a("td",tt,[a("span",at,w(s.status),1)]),a("td",st,[a("div",rt,[a("span",lt,[g[42]||(g[42]=a("span",{class:"text-gray-400 text-[9px]"},"Created by:",-1)),h(" "+w(s.created_by),1)]),a("span",ot," Date: "+w(s.created_at_formatted),1)])]),a("td",it,[x(i(n),{href:u.route("assets.show",s.id),class:"text-[10px] font-bold text-[#3d4adb] hover:underline uppercase"},{default:m(()=>[...g[43]||(g[43]=[h(" Details",-1)])]),_:1},8,["href"])])]))),128)):d("",!0),c.is_parent&&0===c.children.length&&St.value.includes(c.id)?(e(),t("tr",nt,[...g[45]||(g[45]=[a("td",{colspan:"6",class:"px-6 py-4 text-center text-[11px] text-gray-400 italic border-b border-gray-50"}," No components registered in this system yet. ",-1)])])):d("",!0)],64);var p}),128))])])]),x(I,{links:c.assets.links},null,8,["links"])]))]),(H.value||U.value)&&c.meta.departments.length>0?(e(),t("div",dt,[a("div",ct,[g[47]||(g[47]=a("h3",{class:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-8 flex items-center"},[a("svg",{class:"mr-3 h-4 w-4 text-[#3d4adb]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),h(" Transfer Hub ")],-1)),g[48]||(g[48]=a("p",{class:"text-[11px] text-slate-400 mb-8 font-medium leading-relaxed uppercase tracking-tighter"},"Drag an asset into a department below to reassign ownership.",-1)),a("div",ut,[(e(!0),t(s,null,r(c.meta.departments,s=>(e(),t("div",{key:s.id,class:"relative group",onDragover:e=>{return t=e,a=s.id,t.preventDefault(),void(Mt.value=a);var t,a},onDrop:e=>(async(e,t)=>{e.preventDefault();const a=At.value;At.value=null,Mt.value=null,a&&t&&window.showConfirm({title:"Transfer Asset Ownership?",message:"Are you sure you want to reassign this asset to a different department? This will be logged in the movement history.",confirmText:"Transfer",onConfirm:async()=>{try{await L.post(route("assets.transfer",a),{department_id:t,reason:"Department transfer via Drag & Drop"}),p.reload({only:["assets"]}),window.showToast("success","Asset ownership transferred.")}catch(e){window.showToast("error",e.response?.data?.message||"Transfer failed.")}}})})(e,s.id)},[a("div",{class:o(["flex items-center justify-between rounded-2xl border p-4 transition-all duration-300",[Mt.value===s.id?"border-[#3d4adb] bg-[#3d4adb]/5 scale-[1.02] shadow-inner":"border-transparent bg-slate-50/50 hover:bg-white hover:border-slate-200 hover:shadow-soft"]])},[a("div",gt,[a("div",vt,[a("span",xt,w(s.name.substring(0,2).toUpperCase()),1)]),a("span",ft,w(s.name),1)])],2)],40,pt))),128))])])])):d("",!0)])])])]),_:1}),(e(),l(k,{to:"body"},[ht.value?(e(),t("div",{key:0,class:"fixed inset-0 z-[999] flex items-center justify-center bg-gray-900/90 backdrop-blur-md p-4 sm:p-20",onClick:g[9]||(g[9]=e=>ht.value=null)},[a("div",{class:"relative max-h-full max-w-5xl rounded-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",onClick:g[8]||(g[8]=_(()=>{},["stop"]))},[a("img",{src:ht.value,class:"max-h-[85vh] w-auto object-contain"},null,8,mt),a("div",bt,[a("button",{onClick:g[7]||(g[7]=e=>ht.value=null),class:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-md hover:bg-white/40 shadow-lg"},[...g[49]||(g[49]=[a("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])):d("",!0)]))],64))}},[["__scopeId","data-v-05b3216c"]]);export{yt as default};
