import{u as C,o as r,c as n,a as f,b as d,h as V,w as a,d as t,F as _,m as B,t as x,j as l,l as m,i as p,k as u,r as N,p as v,q as L}from"./app-BX5kK8gL.js";import{_ as F}from"./AuthenticatedLayout-WTG0r7J_.js";import{_ as A}from"./TextInput-D8M23_PG.js";import{D as $}from"./DangerButton-Doqh3QbT.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton-CW323Hov.js";const j={class:"flex flex-wrap items-center justify-between gap-3"},q={class:"py-6"},E={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},S={class:"mb-4"},I={key:0,class:"rounded bg-white p-6 shadow"},M={key:1,class:"overflow-hidden rounded bg-white shadow"},P={class:"min-w-full divide-y divide-gray-200 text-sm"},T={class:"divide-y divide-gray-200"},U={class:"px-4 py-3 text-gray-800"},z={class:"px-4 py-3 text-gray-700"},G={class:"px-4 py-3 text-gray-600"},H={class:"px-4 py-3"},J={class:"flex flex-wrap gap-2"},ee={__name:"Index",props:{departments:{type:Array,required:!0}},setup(b){const g=b,c=N(""),w=L(),k=v(()=>w.props.auth?.permissions??[]),i=s=>k.value.includes(s),y=C({}),h=v(()=>{const s=c.value.trim().toLowerCase();return s?g.departments.filter(e=>e.name.toLowerCase().includes(s)||(e.code||"").toLowerCase().includes(s)||(e.description||"").toLowerCase().includes(s)):g.departments}),D=s=>{y.delete(route("departments.destroy",s))};return(s,e)=>(r(),n(_,null,[f(d(V),{title:"Departments"}),f(F,null,{header:a(()=>[t("div",j,[e[2]||(e[2]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Departments ",-1)),i("department-create")?(r(),l(d(m),{key:0,href:s.route("departments.create"),class:"rounded bg-indigo-600 px-3 py-2 text-sm text-white hover:bg-indigo-700"},{default:a(()=>[...e[1]||(e[1]=[p(" Add Department ",-1)])]),_:1},8,["href"])):u("",!0)])]),default:a(()=>[t("div",q,[t("div",E,[t("div",S,[f(A,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),type:"text",class:"mt-1 block w-full",placeholder:"Search departments..."},null,8,["modelValue"])]),h.value.length===0?(r(),n("div",I,[...e[3]||(e[3]=[t("p",{class:"text-gray-600"},"No departments found.",-1)])])):(r(),n("div",M,[t("table",P,[e[8]||(e[8]=t("thead",{class:"bg-gray-50 text-left text-gray-600"},[t("tr",null,[t("th",{class:"px-4 py-3 font-medium"},"Name"),t("th",{class:"px-4 py-3 font-medium"},"Code"),t("th",{class:"px-4 py-3 font-medium"},"Description"),t("th",{class:"px-4 py-3 font-medium"},"Actions")])],-1)),t("tbody",T,[(r(!0),n(_,null,B(h.value,o=>(r(),n("tr",{key:o.id},[t("td",U,x(o.name),1),t("td",z,x(o.code||"-"),1),t("td",G,x(o.description||"-"),1),t("td",H,[t("div",J,[i("department-assign-users")?(r(),l(d(m),{key:0,href:s.route("departments.members",o.id),class:"text-indigo-600 hover:text-indigo-700"},{default:a(()=>[...e[4]||(e[4]=[p(" Members ",-1)])]),_:1},8,["href"])):u("",!0),i("department-edit")?(r(),l(d(m),{key:1,href:s.route("departments.edit",o.id),class:"text-indigo-600 hover:text-indigo-700"},{default:a(()=>[...e[5]||(e[5]=[p(" Edit ",-1)])]),_:1},8,["href"])):u("",!0),i("branding-manage")?(r(),l(d(m),{key:2,href:s.route("departments.branding",o.id),class:"text-indigo-600 hover:text-indigo-700"},{default:a(()=>[...e[6]||(e[6]=[p(" Branding ",-1)])]),_:1},8,["href"])):u("",!0),i("department-delete")?(r(),l($,{key:3,type:"button",class:"text-xs",disabled:d(y).processing,onClick:K=>D(o.id)},{default:a(()=>[...e[7]||(e[7]=[p(" Delete ",-1)])]),_:1},8,["disabled","onClick"])):u("",!0)])])]))),128))])])]))])])]),_:1})],64))}};export{ee as default};
