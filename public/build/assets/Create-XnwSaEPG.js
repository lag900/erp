import{y as e,u as t,C as a,D as s,o,a as l,k as r,m as n,p as i,w as d,b as c,T as u,e as p,t as g,d as y,q as m,n as x,s as b,x as v,F as f,z as h,v as k,l as w,g as _}from"./vendor-DGI0tb4d.js";import{_ as A}from"./AuthenticatedLayout-DmLSy_bE.js";import{_ as C}from"./TextInput-7Tb4wL4u.js";import{_ as j}from"./InputError-CSjO0CYp.js";import{S as V}from"./SearchableSelect-aRakfeG3.js";import{_ as S}from"./SmartSpecInput-C7EzbFRj.js";import{a as M}from"./utils-B98O4e5m.js";import{i as F}from"./browser-image-compression-Dr3HYh3O.js";import{_ as L}from"./_plugin-vue_export-helper-BCo6x5W8.js";/* empty css                                                              */import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const B={class:"flex items-center justify-between py-1"},U={class:"max-w-4xl mx-auto py-2"},z={key:0,class:"mb-4 flex items-center justify-center gap-2 bg-[#1FA6A0] text-white py-2 px-4 rounded text-sm font-bold shadow-sm"},R={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden"},I={class:"flex border-b border-gray-100 bg-gray-50/50"},D={class:"p-6 md:p-8 flex flex-col gap-8"},E={key:0,class:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3"},H={class:"space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"space-y-4"},P={class:"space-y-4"},N={key:0},q={key:0,class:"flex items-center gap-1.5 mt-1.5 animate-in fade-in slide-in-from-top-1 duration-300"},O={class:"pt-6 border-t border-gray-100 space-y-4"},W={class:"space-y-3"},K={class:"flex-1"},Q={class:"flex-1"},G={class:"flex items-center gap-2"},J={class:"cursor-pointer group relative"},X=["onChange"],Y={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={key:1,class:"flex items-center gap-1"},ee={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},te={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},ae=["src"],se=["onClick"],oe={class:"pt-4"},le={key:1,class:"border-t border-blue-100 pt-6 mt-4 relative"},re={class:"bg-blue-50/50 p-4 rounded-lg border border-blue-100 space-y-4"},ne={class:"grid grid-cols-12 gap-3 items-end"},ie={class:"col-span-12 md:col-span-5 space-y-3"},de={class:"col-span-6 md:col-span-3"},ce={class:"space-y-2 border-l-2 border-blue-200 pl-4 py-2"},ue={class:"flex-1"},pe={class:"flex-1"},ge={class:"flex items-center gap-2"},ye={class:"cursor-pointer group relative"},me=["onChange"],xe={key:0,class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},be={key:1,class:"flex items-center gap-1"},ve={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},fe={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},he=["src"],ke=["onClick"],we={key:0,class:"flex flex-wrap gap-2"},_e=["onClick"],Ae={key:1,class:"text-[9px] text-gray-400 italic"},Ce={key:0,class:"mt-4 border border-gray-200 rounded overflow-hidden"},je={class:"w-full text-left bg-white"},Ve={class:"divide-y divide-gray-100"},Se={class:"px-4 py-2"},Me={class:"text-xs font-bold text-gray-800"},Fe={key:0,class:"mt-1 flex flex-wrap gap-1"},Le={class:"px-4 py-2 text-[10px] uppercase font-bold text-gray-500"},Be={class:"px-4 py-2 text-right"},Ue=["onClick"],ze={key:1,class:"mt-4 text-center text-xs text-gray-400 italic"},Re={key:0,class:"space-y-3 pt-6"},Ie={key:0,class:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4"},De={class:"text-[9px] font-black text-gray-400 uppercase tracking-tighter truncate w-full px-1"},Ee={class:"text-xs font-black text-gray-900 mt-0.5"},He={class:"bg-white border-y sm:border border-gray-200 sm:rounded overflow-hidden"},Te={class:"w-full text-[11px] text-left"},$e={class:"px-4 py-2"},Pe={class:"font-mono text-[#1FA6A0] text-[10px] font-black"},Ne={key:0,class:"text-[8px] font-black text-gray-400 uppercase tracking-tighter mt-0.5"},qe={class:"px-4 py-2 font-bold"},Oe={class:"px-4 py-2 text-center text-gray-400 font-black uppercase"},We={class:"px-4 py-2 text-right text-gray-400 tabular-nums"},Ke={key:0},Qe={key:1},Ge={key:1,class:"fixed bottom-0 left-0 lg:left-72 right-0 z-[100] bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-[0_-8px_30px_rgb(0,0,0,0.04)] px-4 py-4 sm:px-8"},Je={class:"max-w-4xl mx-auto flex flex-col sm:flex-row gap-4 items-center justify-between"},Xe={class:"flex items-center gap-3 w-full sm:w-auto"},Ye=["disabled"],Ze={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},et=L({__name:"Create",props:{rooms:{type:Array,default:()=>[]},classifications:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},subCategories:{type:Array,default:()=>[]},departments:{type:Array,default:()=>[]},roomAssetsSummary:{type:Array,default:()=>[]},recentAdditions:{type:Array,default:()=>[]}},setup(L){const et=L,tt=e(null),at=e(null),st=e(!1),ot=e(et.recentAdditions||[]),lt=e(et.roomAssetsSummary||[]),rt=t({entry_type:"individual",room_id:new URLSearchParams(window.location.search).get("room_id")||"",category_id:"",sub_category_id:"",note:"",count:1,status:"active",is_shared:!1,shared_department_ids:[],infos:[{key:"",value:"",image:null}],is_parent:!1,components:[]}),nt=_(()=>rt.infos.some(e=>e.value&&e.value.trim().length>0));a(nt,e=>{e&&(rt.count=1)});const it=e({category_id:"",sub_category_id:"",status:"active",note:"",temp_id:null,sub_category_name:"",infos:[{key:"",value:"",image:null}]}),dt=e("");a(dt,e=>{if(e){const[t,a]=e.split(":");it.value.category_id=parseInt(t),it.value.sub_category_id=a?parseInt(a):""}else it.value.category_id="",it.value.sub_category_id=""});const ct=e("");a(ct,e=>{if(e){const[t,a]=e.split(":");rt.category_id=parseInt(t),rt.sub_category_id=a?parseInt(a):""}else rt.category_id="",rt.sub_category_id=""}),s(()=>{if(window.addEventListener("keydown",_t),rt.category_id){const e=et.classifications.find(e=>e.category_id===rt.category_id&&e.sub_category_id===(rt.sub_category_id||null));e&&(ct.value=e.id)}});const ut=e(null),pt=async(e,t,a)=>{const s=e.target.files[0];if(!s)return;const o={maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{const e=await F(s,o);"parent"===t?rt.infos[a].image=e:it.value.infos[a].image=e}catch(l){"parent"===t?rt.infos[a].image=s:it.value.infos[a].image=s}},gt=e=>e?URL.createObjectURL(e):null,yt=_(()=>rt.category_id&&et.subCategories?et.subCategories.filter(e=>e.category_id===rt.category_id&&e.id!==rt.sub_category_id).slice(0,10):[]),mt=_(()=>rt.category_id),xt=()=>{rt.infos.push({key:"",value:"",image:null})},bt=()=>{it.value.infos.push({key:"",value:"",image:null})},vt=()=>{if(!it.value.category_id)return void(window.showToast&&window.showToast("error","Please select a component classification"));const e=et.categories.find(e=>e.id===it.value.category_id),t=et.subCategories.find(e=>e.id===it.value.sub_category_id),a=it.value.infos.filter(e=>e.key&&""!==e.key.trim()&&e.value&&""!==e.value.trim()).map(e=>({...e})),s=e&&(e.name||e.label)||"Unknown",o=t&&(t.name||t.label)||"",l=o?`${s} - ${o}`:s;rt.components=[...rt.components,{category_id:it.value.category_id,sub_category_id:it.value.sub_category_id,status:it.value.status,note:it.value.note,temp_id:Date.now()+Math.random(),sub_category_name:l,infos:a}],dt.value="",it.value.category_id="",it.value.sub_category_id="",it.value.note="",it.value.infos=[{key:"",value:""}],setTimeout(()=>{ut.value?.open()},50)},ft=async e=>{if(!e)return ot.value=[],void(lt.value=[]);st.value=!0;try{const t=await M.get(route("api.rooms.context",{room:e}));ot.value=t.data.recent,lt.value=t.data.summary;const a=new URL(window.location.href);a.searchParams.set("room_id",e),window.history.replaceState({},"",a)}catch(t){window.showToast&&window.showToast("error","Failed to load room activity data.")}finally{st.value=!1}};a(()=>rt.room_id,e=>{ft(e)},{immediate:!0}),a(()=>et.recentAdditions,e=>{e&&(ot.value=e)}),a(()=>et.roomAssetsSummary,e=>{e&&(lt.value=e)});const ht=e=>{rt.entry_type=e,rt.is_parent="bundle"===e,rt.count=1},kt=_(()=>rt.processing?"Saving...":"bundle"===rt.entry_type?`Register  (${rt.components.length} items)`:"series"===rt.entry_type?`Register ${rt.count} Assets`:"Register Asset"),wt=()=>{rt.post(route("assets.store"),{forceFormData:!0,preserveScroll:!0,onStart:()=>{st.value=!0},onFinish:()=>{st.value=!1},onSuccess:()=>{tt.value=rt.is_parent?"System Bundle & Components Registered Successfully.":(rt.count>1?rt.count+" assets":"Asset")+" registered successfully.";const e=rt.room_id,t=rt.category_id,a=rt.sub_category_id,s=rt.entry_type;rt.reset("note","count","infos","is_parent","components"),rt.count=1,rt.infos=[{key:"",value:"",image:null}],rt.components=[],rt.room_id=e,rt.category_id=t,rt.sub_category_id=a,rt.entry_type=s,rt.is_parent="bundle"===s,setTimeout(()=>{tt.value=null},4e3),ft(e),rt.is_parent||document.querySelector('input[placeholder*="Classification"]')?.focus()}})},_t=e=>{"Enter"===e.key&&e.ctrlKey&&wt()};return(e,t)=>(o(),l(f,null,[r(n(i),{title:"Asset Registration"}),r(A,null,{header:d(()=>[c("div",B,[t[10]||(t[10]=c("div",{class:"flex items-center gap-3"},[c("div",{class:"h-8 w-1 bg-[#1FA6A0] rounded-full"}),c("div",null,[c("h2",{class:"text-lg font-black text-gray-900 uppercase tracking-tighter"},"Fast Registration"),c("div",{class:"flex items-center gap-1.5 leading-none"},[c("p",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider"},"Speed Mode Enabled"),c("span",{class:"text-[8px] px-1 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded font-black tracking-tighter uppercase"},"Enterprise Serials V2 Active")])])],-1)),r(n(w),{href:e.route("assets.index"),class:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-[11px] font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest"},{default:d(()=>[...t[9]||(t[9]=[c("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Back to Inventory ",-1)])]),_:1},8,["href"])])]),default:d(()=>[c("div",U,[r(u,{name:"fade"},{default:d(()=>[tt.value?(o(),l("div",z,[t[11]||(t[11]=c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),p(" "+g(tt.value),1)])):y("",!0)]),_:1}),c("form",{onSubmit:m(wt,["prevent"]),class:"space-y-6 pb-40"},[c("div",R,[c("div",I,[c("button",{type:"button",onClick:t[0]||(t[0]=e=>ht("individual")),class:x(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2","individual"===n(rt).entry_type?"bg-white text-[#1FA6A0] border-b-2 border-[#1FA6A0]":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[12]||(t[12]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),p(" Standard Item ",-1)])],2),c("button",{type:"button",onClick:t[1]||(t[1]=e=>ht("bundle")),class:x(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2","bundle"===n(rt).entry_type?"bg-white text-indigo-600 border-b-2 border-indigo-500":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[13]||(t[13]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),p(" Bundle System ",-1)])],2)]),c("div",D,["bundle"===n(rt).entry_type?(o(),l("div",E,[...t[14]||(t[14]=[c("div",{class:"p-2 bg-blue-100 text-blue-600 rounded"},[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1),c("div",null,[c("h4",{class:"text-sm font-bold text-blue-900 uppercase"},"Single-Page System Entry"),c("p",{class:"text-xs text-blue-700 leading-relaxed mt-1"},[p(" Define the "),c("strong",null,"Parent Asset"),p(" (e.g. Computer Set) below, then add all its components. Everything will be saved in one transaction. ")])],-1)])])):y("",!0),c("div",H,[c("div",T,[c("div",$,[r(V,{modelValue:n(rt).room_id,"onUpdate:modelValue":t[2]||(t[2]=e=>n(rt).room_id=e),options:L.rooms,label:"Location / Room",placeholder:"Select room...",class:"w-full"},null,8,["modelValue","options"]),r(V,{modelValue:ct.value,"onUpdate:modelValue":t[3]||(t[3]=e=>ct.value=e),options:L.classifications,label:"Asset Classification",placeholder:"Search classification (e.g. Computers - DELL)",class:"w-full"},null,8,["modelValue","options"]),r(j,{message:n(rt).errors.category_id},null,8,["message"]),r(j,{message:n(rt).errors.sub_category_id},null,8,["message"])]),c("div",P,[c("div",null,[t[16]||(t[16]=c("label",{for:"status",class:"form-group-label"},"Operational Status",-1)),b(c("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=e=>n(rt).status=e),class:"w-full"},[...t[15]||(t[15]=[c("option",{value:"active"},"Active",-1),c("option",{value:"maintenance"},"Maintenance",-1),c("option",{value:"damaged"},"Damaged",-1),c("option",{value:"retired"},"Retired",-1)])],512),[[v,n(rt).status]])]),"bundle"!==n(rt).entry_type?(o(),l("div",N,[t[18]||(t[18]=c("label",{for:"count",class:"form-group-label"},"Quantity",-1)),r(C,{id:"count",ref_key:"countInput",ref:at,modelValue:n(rt).count,"onUpdate:modelValue":t[5]||(t[5]=e=>n(rt).count=e),modelModifiers:{number:!0},type:"number",min:"1",disabled:nt.value,class:x(["w-full transition-all",nt.value?"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner opacity-75":""])},null,8,["modelValue","disabled","class"]),nt.value?(o(),l("div",q,[...t[17]||(t[17]=[c("div",{class:"p-0.5 bg-amber-100 text-amber-600 rounded-full"},[c("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M12 15v2m0-8V7m0 0a2 2 0 100 4 2 2 0 000-4z"})])],-1),c("span",{class:"text-[9px] font-black uppercase tracking-tighter text-amber-600 italic"},"Unique item detected → quantity locked to 1",-1)])])):y("",!0)])):y("",!0)])])]),c("div",O,[c("div",{class:"flex items-center justify-between"},[t[19]||(t[19]=c("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Inventory Specifications (Parent)",-1)),c("button",{type:"button",onClick:xt,class:"text-[10px] font-black text-[#1FA6A0] uppercase hover:underline"},"+ Add Entry")]),c("div",W,[(o(!0),l(f,null,h(n(rt).infos,(e,a)=>(o(),l("div",{key:a,class:"p-3 bg-gray-50/50 rounded flex gap-2 items-center border border-gray-100"},[c("div",K,[r(S,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,"category-id":mt.value,placeholder:"Label"},null,8,["modelValue","onUpdate:modelValue","category-id"])]),c("div",Q,[r(C,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"w-full text-xs",placeholder:"Value..."},null,8,["modelValue","onUpdate:modelValue"])]),c("div",G,[c("label",J,[c("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:e=>pt(e,"parent",a)},null,40,X),c("div",{class:x(["p-2 rounded border transition-all flex items-center justify-center",e.image?"border-[#1FA6A0] bg-[#1FA6A0]/10 text-[#1FA6A0]":"border-gray-200 bg-white text-gray-400 hover:border-[#1FA6A0] hover:text-[#1FA6A0]"])},[e.image?(o(),l("div",Z,[...t[21]||(t[21]=[c("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),c("span",{class:"text-[9px] font-bold uppercase"},"Ready",-1)])])):(o(),l("svg",Y,[...t[20]||(t[20]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),e.image?(o(),l("div",ee,[c("div",te,[c("img",{src:gt(e.image),class:"w-24 h-24 object-cover rounded"},null,8,ae)])])):y("",!0)]),n(rt).infos.length>1?(o(),l("button",{key:0,onClick:e=>(e=>{1!==rt.infos.length?rt.infos.splice(e,1):rt.infos[0]={key:"",value:"",image:null}})(a),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[22]||(t[22]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,se)):y("",!0)])]))),128))])]),c("div",oe,[t[23]||(t[23]=c("label",{class:"form-group-label"},"Internal Remarks",-1)),b(c("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>n(rt).note=e),rows:"2",class:"w-full !italic !text-gray-500",placeholder:"Add optional inventory remarks here..."},null,512),[[k,n(rt).note]])]),"bundle"===n(rt).entry_type?(o(),l("div",le,[t[33]||(t[33]=c("h4",{class:"text-xs font-black uppercase tracking-widest text-[#1FA6A0] mb-4 flex items-center gap-2"},[c("span",{class:"bg-[#1FA6A0]/10 p-1 rounded"},[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])]),p(" System Components ")],-1)),c("div",re,[c("div",ne,[c("div",ie,[r(V,{modelValue:dt.value,"onUpdate:modelValue":t[7]||(t[7]=e=>dt.value=e),options:L.classifications,label:"Component Classification",placeholder:"Search classification...",class:"w-full"},null,8,["modelValue","options"])]),c("div",de,[t[25]||(t[25]=c("label",{class:"form-group-label"},"Lifecycle",-1)),b(c("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>it.value.status=e),class:"w-full !bg-white"},[...t[24]||(t[24]=[c("option",{value:"active"},"Active",-1),c("option",{value:"maintenance"},"Maintenance",-1),c("option",{value:"damaged"},"Damaged",-1)])],512),[[v,it.value.status]])]),c("div",{class:"col-span-6 md:col-span-4"},[c("button",{type:"button",onClick:vt,class:"w-full h-[40px] bg-gray-800 text-white text-[10px] font-black uppercase tracking-wider rounded hover:bg-black transition-colors flex items-center justify-center gap-1 shadow-sm"},[...t[26]||(t[26]=[p(" Add To System ",-1),c("kbd",{class:"hidden md:inline font-mono px-1 py-0.5 bg-gray-700 rounded text-[9px] text-gray-300"},"↵",-1)])])])]),c("div",ce,[c("div",{class:"flex items-center justify-between"},[t[27]||(t[27]=c("h5",{class:"text-[9px] font-black uppercase tracking-widest text-blue-400"},"Component Specs",-1)),c("button",{type:"button",onClick:bt,class:"text-[9px] font-bold text-blue-500 hover:text-blue-700 uppercase"},"+ Add Spec")]),(o(!0),l(f,null,h(it.value.infos,(e,a)=>(o(),l("div",{key:a,class:"flex gap-2"},[c("div",ue,[r(C,{modelValue:e.key,"onUpdate:modelValue":t=>e.key=t,class:"w-full h-8 text-[11px]",placeholder:"Label (e.g. Serial)"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",pe,[r(C,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,class:"w-full h-8 text-[11px]",placeholder:"Value"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",ge,[c("label",ye,[c("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:e=>pt(e,"component",a)},null,40,me),c("div",{class:x(["p-1.5 rounded border transition-all flex items-center justify-center",e.image?"border-blue-400 bg-blue-50 text-blue-500":"border-gray-200 bg-white text-gray-300 hover:border-blue-400 hover:text-blue-400"])},[e.image?(o(),l("div",be,[...t[29]||(t[29]=[c("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),c("span",{class:"text-[8px] font-black"},"OK",-1)])])):(o(),l("svg",xe,[...t[28]||(t[28]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),e.image?(o(),l("div",ve,[c("div",fe,[c("img",{src:gt(e.image),class:"w-20 h-20 object-cover rounded"},null,8,he)])])):y("",!0)]),it.value.infos.length>1?(o(),l("button",{key:0,onClick:e=>(e=>{1!==it.value.infos.length?it.value.infos.splice(e,1):it.value.infos[0]={key:"",value:"",image:null}})(a),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[30]||(t[30]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ke)):y("",!0)])]))),128))]),yt.value.length>0?(o(),l("div",we,[(o(!0),l(f,null,h(yt.value,e=>(o(),l("button",{key:e.id,type:"button",onClick:t=>(e=>{const t=et.subCategories.find(t=>t.id===e),a=et.categories.find(e=>e.id===rt.category_id);t&&a&&(rt.components=[...rt.components,{category_id:rt.category_id,sub_category_id:e,status:"active",note:"",temp_id:Date.now()+Math.random(),sub_category_name:`${a.name||a.label||"Unknown"} - ${t.name||t.label||""}`,infos:[]}])})(e.id),class:"px-2 py-1 rounded border border-gray-200 bg-white text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-all active:scale-95"}," + "+g(e.label),9,_e))),128))])):n(rt).sub_category_id?(o(),l("p",Ae,"No specific component suggestions for this type.")):y("",!0)]),n(rt).components.length>0?(o(),l("div",Ce,[c("table",je,[t[32]||(t[32]=c("thead",{class:"bg-gray-50 text-[10px] uppercase font-bold text-gray-400"},[c("tr",null,[c("th",{class:"px-4 py-2"},"Component"),c("th",{class:"px-4 py-2"},"Status"),c("th",{class:"px-4 py-2 text-right"})])],-1)),c("tbody",Ve,[(o(!0),l(f,null,h(n(rt).components,(e,a)=>(o(),l("tr",{key:e.temp_id},[c("td",Se,[c("div",Me,g(e.sub_category_name||"Missing Name"),1),e.infos&&e.infos.length?(o(),l("div",Fe,[(o(!0),l(f,null,h(e.infos,e=>(o(),l("span",{key:e.key,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[9px] font-medium bg-gray-100 text-gray-600"},g(e.key||"Missing")+": "+g(e.value||"Data"),1))),128))])):y("",!0)]),c("td",Le,g(e.status),1),c("td",Be,[c("button",{type:"button",onClick:e=>{return t=a,void rt.components.splice(t,1);var t},class:"text-red-400 hover:text-red-600"},[...t[31]||(t[31]=[c("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ue)])]))),128))])])])):(o(),l("p",ze,"No components added yet."))])):y("",!0)])]),n(rt).room_id?(o(),l("div",Re,[t[38]||(t[38]=c("div",{class:"flex items-center justify-between px-1"},[c("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Current Room Inventory & Activity"),c("span",{class:"text-[9px] font-bold text-gray-500 uppercase tracking-widest px-2 py-0.5 bg-gray-100 rounded"},"Live Context")],-1)),lt.value.length>0?(o(),l("div",Ie,[(o(!0),l(f,null,h(lt.value.slice(0,4),e=>(o(),l("div",{key:e.category_id,class:"bg-gray-50 border border-gray-100 rounded-lg p-2 flex flex-col items-center justify-center text-center"},[c("span",De,g(e.category_name),1),c("span",Ee,[p(g(e.total_count)+" ",1),t[34]||(t[34]=c("span",{class:"text-[9px] text-gray-400 font-normal"},"items",-1))])]))),128))])):y("",!0),c("div",He,[c("table",Te,[t[37]||(t[37]=c("thead",{class:"bg-gray-50/50 border-b border-gray-100"},[c("tr",{class:"text-gray-400 font-bold uppercase tracking-wider"},[c("th",{class:"px-4 py-3"},"Code"),c("th",{class:"px-4 py-3"},"Asset Classification"),c("th",{class:"px-4 py-3 text-center"},"Status"),c("th",{class:"px-4 py-3 text-right"},"Added")])],-1)),c("tbody",{class:x(["divide-y divide-gray-50",{"animate-pulse opacity-50":st.value}])},[(o(!0),l(f,null,h(ot.value,e=>(o(),l("tr",{key:e.id,class:"border-b border-gray-50 text-[11px] hover:bg-gray-50/50"},[c("td",$e,[c("div",Pe,g(e.full_serial||e.asset_code),1),e.bundle_serial?(o(),l("div",Ne,"Reference: "+g(e.bundle_serial),1)):y("",!0)]),c("td",qe,g(e.name),1),c("td",Oe,g(e.status),1),c("td",We,g(e.time),1)]))),128)),0!==ot.value.length||st.value?y("",!0):(o(),l("tr",Ke,[...t[35]||(t[35]=[c("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-400 italic"},"No assets registered in this room.",-1)])])),st.value&&0===ot.value.length?(o(),l("tr",Qe,[...t[36]||(t[36]=[c("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-400"},"Loading activity...",-1)])])):y("",!0)],2)])])])):y("",!0),"Assets/Create"===e.$page.component?(o(),l("div",Ge,[c("div",Je,[t[42]||(t[42]=c("div",{class:"hidden md:flex flex-col"},[c("span",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none"},"Registration Flow"),c("span",{class:"text-xs font-bold text-[#1FA6A0] mt-1 uppercase tracking-tighter"},"Inventory Mode Active")],-1)),c("div",Xe,[r(n(w),{href:e.route("assets.index"),class:"flex-1 sm:flex-none px-6 py-3 text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-gray-700 transition-colors text-center"},{default:d(()=>[...t[39]||(t[39]=[p(" CANCEL ",-1)])]),_:1},8,["href"]),c("button",{type:"submit",disabled:n(rt).processing,class:"flex-[2] sm:flex-none sm:min-w-[240px] h-12 bg-[#1FA6A0] text-white text-[11px] font-black uppercase tracking-[0.2em] rounded-lg shadow-lg shadow-[#1FA6A0]/20 active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-2 group"},[n(rt).processing?(o(),l("svg",Ze,[...t[40]||(t[40]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(o(),l(f,{key:1},[t[41]||(t[41]=c("svg",{class:"h-4 w-4 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),p(" "+g(kt.value),1)],64))],8,Ye)])])])):y("",!0)],32)])]),_:1})],64))}},[["__scopeId","data-v-f0df8507"]]);export{et as default};
