import{J as e,y as t,B as a,C as s,D as r,o as l,a as o,k as i,m as n,p as d,w as c,b as u,s as p,x as g,e as v,F as x,z as f,t as m,d as b,l as h,n as y,c as w,q as _,K as k,g as j,A as C}from"./vendor-DGI0tb4d.js";import{_ as A}from"./AuthenticatedLayout-DmLSy_bE.js";import{_ as M}from"./TextInput-7Tb4wL4u.js";import{_ as S}from"./app-8mzpaiXE.js";import{_ as D}from"./Pagination-cB6t8acL.js";import{r as B,a as V}from"./debounce-D19TCx3D.js";import{a as T}from"./utils-B98O4e5m.js";import{_ as L}from"./_plugin-vue_export-helper-BCo6x5W8.js";/* empty css                                                              */import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";var H,U;const I=e(function(){if(U)return H;U=1;var e=B(),t=V();return H=function(a,s,r){var l=!0,o=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return t(r)&&(l="leading"in r?!!r.leading:l,o="trailing"in r?!!r.trailing:o),e(a,s,{leading:l,maxWait:s,trailing:o})}}()),F={class:"flex flex-wrap items-center justify-between gap-4"},G={class:"flex gap-3"},z={class:"py-8"},E={class:"space-y-6"},R={class:"bg-white border border-slate-200 rounded-3xl p-7 shadow-soft space-y-6"},O={class:"flex flex-col md:flex-row items-end gap-5"},N={class:"flex-1 w-full"},P={class:"relative group"},q={class:"w-full md:w-72"},J={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},K=["value"],Q=["disabled"],W=["value"],$=["value"],X={key:0},Y={value:""},Z=["value"],ee={class:"flex items-center justify-between px-2"},te={class:"flex items-center gap-3"},ae={class:"text-xs font-bold text-gray-500 uppercase tracking-widest"},se={class:"text-gray-900"},re={key:0,class:"flex items-center gap-1.5 rounded-full bg-primary/5 px-3 py-1 ring-1 ring-primary/20"},le={class:"text-[10px] font-black uppercase tracking-tighter text-primary"},oe={class:"flex flex-col lg:flex-row gap-8"},ie={class:"flex-1 w-full overflow-hidden"},ne={key:0,class:"rounded-3xl border border-dashed border-gray-200 bg-white p-24 text-center shadow-soft"},de={key:1,class:"space-y-6"},ce={class:"table-container"},ue={class:"ent-table"},pe={class:"divide-y divide-gray-50"},ge={class:"group border-b border-gray-100 hover:bg-gray-50/30 transition-colors"},ve={class:"px-6 py-4"},xe=["onClick"],fe=["src"],me={key:1,class:"h-6 w-6 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},be={class:"px-6 py-4"},he={class:"flex items-center gap-3"},ye={class:"flex-1 min-w-0"},we={class:"flex flex-col gap-1"},_e={class:"flex items-center gap-2"},ke={key:0,class:"text-slate-400 font-medium ml-1"},je=["onClick"],Ce={key:1,class:"series-badge"},Ae={key:2,class:"series-badge"},Me={class:"text-[10px] font-black font-mono text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-200 self-start shadow-sm tracking-tight"},Se={class:"px-6 py-4"},De={class:"flex flex-col"},Be={class:"text-[13px] font-semibold text-[#1F2937]"},Ve={class:"text-[11px] font-bold text-[#6B7280] uppercase tracking-tight"},Te={class:"px-6 py-4"},Le={class:"flex items-center gap-2"},He={key:0,class:"text-[10px] font-bold text-gray-400 bg-gray-50 border border-gray-100 px-1.5 py-0.5 rounded"},Ue={class:"px-6 py-4"},Ie={class:"flex flex-col leading-tight gap-1"},Fe={class:"text-[11px] text-gray-500 font-medium"},Ge={class:"text-[10px] text-gray-400"},ze={class:"px-6 py-4 text-right"},Ee={class:"flex justify-end gap-2 px-2"},Re=["onClick"],Oe={class:"px-6 py-2 flex justify-center"},Ne=["onClick"],Pe=["src"],qe={key:1,class:"h-4 w-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Je={class:"px-6 py-2 pl-12 relative"},Ke={class:"flex flex-col gap-1"},Qe={class:"flex items-center gap-2"},We={key:0,class:"series-badge !text-[11px] !px-2 !py-0.5"},$e={key:1,class:"series-badge !text-[11px] !px-2 !py-0.5"},Xe={class:"text-[9px] font-black font-mono text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 self-start"},Ye={class:"px-6 py-2 text-center"},Ze={class:"text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded bg-white border border-gray-100 text-gray-500"},et={class:"px-6 py-2"},tt={class:"flex flex-col leading-tight gap-0.5"},at={class:"text-[10px] text-gray-500 font-medium"},st={class:"text-[9px] text-gray-400"},rt={class:"px-6 py-2 text-right"},lt={key:1,class:"bg-gray-50/30"},ot={key:0,class:"w-full lg:w-80"},it={class:"sticky top-8 rounded-[32px] border border-slate-200 bg-white p-8 shadow-premium"},nt={class:"space-y-3"},dt=["onDragover","onDrop"],ct={class:"flex items-center gap-4 overflow-hidden"},ut={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-white border border-slate-100 shadow-sm transition-transform group-hover:scale-110"},pt={class:"text-xs font-bold text-[#3d4adb]"},gt={class:"truncate text-xs font-bold text-slate-700 uppercase tracking-tighter"},vt=["src"],xt={class:"absolute top-4 right-4 flex gap-2"},ft=L({__name:"Index",props:{assets:Object,filters:Object,meta:Object},setup(e){const B=e,V=C(),L=j(()=>V.props.auth?.permissions??[]),H=e=>L.value.includes(e),U=j(()=>V.props.auth?.user?.roles?.includes("SuperAdmin")),ft=j(()=>V.props.auth?.user?.roles?.includes("Admin")),mt=t([]),bt=t([]),ht=t({search:B.filters.search||"",statuses:B.filters.statuses||[],building_id:B.filters.building_id||"",room_id:B.filters.room_id||"",category_id:B.filters.category_id||"",sub_category_id:B.filters.sub_category_id||"",department_id:B.filters.department_id||"",created_by:B.filters.created_by||"",date_from:B.filters.date_from||"",date_to:B.filters.date_to||"",asset_type:B.filters.asset_type||""}),yt=t(null),wt=e=>{yt.value=e},_t=I(()=>{const e={};for(const[t,a]of Object.entries(ht.value))if(null!==a&&""!==a&&void 0!==a)if(Array.isArray(a)){const s=a.filter(e=>""!==e&&null!==e);s.length>0&&(e[t]=s)}else e[t]=a;a.get(route("assets.index"),e,{preserveState:!0,preserveScroll:!0,replace:!0})},500);s(()=>ht.value,()=>{_t()},{deep:!0}),s(()=>ht.value.building_id,async e=>{if(!e)return mt.value=[],void(ht.value.room_id="");try{const t=await T.get(route("api.rooms",{building_id:e}));mt.value=t.data}catch(t){}}),s(()=>ht.value.category_id,async e=>{if(!e)return bt.value=[],void(ht.value.sub_category_id="");try{const t=await T.get(route("api.sub-categories",{category_id:e}));bt.value=t.data}catch(t){}});const kt=j(()=>{let e=0;return ht.value.search&&e++,ht.value.statuses.length>0&&e++,ht.value.building_id&&e++,ht.value.room_id&&e++,ht.value.category_id&&e++,ht.value.sub_category_id&&e++,ht.value.department_id&&e++,ht.value.created_by&&e++,ht.value.date_from&&e++,ht.value.date_to&&e++,e}),jt=()=>{ht.value={search:"",statuses:[],building_id:"",room_id:"",category_id:"",sub_category_id:"",department_id:"",created_by:"",date_from:"",date_to:"",asset_type:""},a.get(route("assets.index"),{},{preserveState:!0,preserveScroll:!0,replace:!0})},Ct=e=>{switch(e){case"active":return"badge-success";case"maintenance":return"badge-warning";case"damaged":return"badge-danger";case"retired":default:return"badge-neutral";case"donated":return"badge-primary";case"lost":return"bg-slate-800 text-white border-slate-900 badge-base"}},At=t(null),Mt=t(null),St=t([]),Dt=async e=>{try{await T.delete(route("assets.destroy",e)),a.reload({only:["assets"],onSuccess:()=>{window.showToast("success","Asset successfully archived.")}})}catch(t){window.showToast("error",t.response?.data?.error||"Failed to archive asset.")}};return r(async()=>{if(ht.value.building_id)try{const e=await T.get(route("api.rooms",{building_id:ht.value.building_id}));mt.value=e.data}catch(e){}if(ht.value.category_id)try{const e=await T.get(route("api.sub-categories",{category_id:ht.value.category_id}));bt.value=e.data}catch(e){}}),(t,s)=>(l(),o(x,null,[i(n(d),{title:"Enterprise Asset Inventory"}),i(A,null,{header:c(()=>[u("div",F,[s[12]||(s[12]=u("div",null,[u("h2",{class:"text-2xl font-bold leading-tight text-slate-800 tracking-tight"}," Asset Inventory "),u("p",{class:"mt-1.5 text-[11px] font-bold text-slate-400 uppercase tracking-widest"}," Global Asset Governance & Life-cycle Management ")],-1)),u("div",G,[H("asset-create")?(l(),w(S,{key:0,href:t.route("assets.create"),variant:"primary",class:"!rounded-xl shadow-premium px-6"},{icon:c(()=>[...s[10]||(s[10]=[u("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])]),default:c(()=>[s[11]||(s[11]=v(" Register Asset ",-1))]),_:1},8,["href"])):b("",!0)])])]),default:c(()=>[u("div",z,[u("div",E,[u("div",R,[u("div",O,[u("div",N,[s[14]||(s[14]=u("label",{class:"label-enterprise"},"Global Search",-1)),u("div",P,[i(M,{modelValue:ht.value.search,"onUpdate:modelValue":s[0]||(s[0]=e=>ht.value.search=e),type:"text",class:"w-full !pl-12",placeholder:"Search by code, room, or category..."},null,8,["modelValue"]),s[13]||(s[13]=u("div",{class:"absolute inset-y-0 left-4 flex items-center text-slate-300 group-focus-within:text-[#3d4adb] transition-colors"},[u("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),u("div",q,[s[16]||(s[16]=u("label",{class:"label-enterprise"},"Classification",-1)),p(u("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>ht.value.asset_type=e),class:"w-full"},[...s[15]||(s[15]=[u("option",{value:""},"Global Hierarchy",-1),u("option",{value:"individual"},"Standalone Items",-1),u("option",{value:"bundle"},"System Bundles",-1),u("option",{value:"component"},"System Components",-1)])],512),[[g,ht.value.asset_type]])]),u("button",{onClick:jt,class:"h-[44px] px-6 rounded-xl border border-slate-200 bg-white text-[11px] font-bold text-slate-400 hover:bg-slate-50 hover:text-slate-800 transition-all uppercase tracking-widest flex items-center justify-center gap-2"},[...s[17]||(s[17]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),v(" Clear Filters ",-1)])])]),u("div",J,[u("div",null,[s[19]||(s[19]=u("label",{class:"label-enterprise"},"Building",-1)),p(u("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>ht.value.building_id=e),class:"w-full"},[s[18]||(s[18]=u("option",{value:""},"All Buildings",-1)),(l(!0),o(x,null,f(e.meta.buildings,e=>(l(),o("option",{key:e.id,value:e.id},m(e.name),9,K))),128))],512),[[g,ht.value.building_id]])]),u("div",null,[s[21]||(s[21]=u("label",{class:"label-enterprise"},"Location / Room",-1)),p(u("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>ht.value.room_id=e),disabled:!ht.value.building_id,class:"w-full"},[s[20]||(s[20]=u("option",{value:""},"All Rooms",-1)),(l(!0),o(x,null,f(mt.value,e=>(l(),o("option",{key:e.id,value:e.id},m(e.name),9,W))),128))],8,Q),[[g,ht.value.room_id]])]),u("div",null,[s[23]||(s[23]=u("label",{class:"label-enterprise"},"Category",-1)),p(u("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>ht.value.category_id=e),class:"w-full"},[s[22]||(s[22]=u("option",{value:""},"All Categories",-1)),(l(!0),o(x,null,f(e.meta.categories,e=>(l(),o("option",{key:e.id,value:e.id},m(e.name),9,$))),128))],512),[[g,ht.value.category_id]])]),u("div",null,[s[25]||(s[25]=u("label",{class:"label-enterprise"},"System Status",-1)),p(u("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>ht.value.statuses[0]=e),class:"w-full"},[...s[24]||(s[24]=[u("option",{value:""},"All Statuses",-1),u("option",{value:"active"},"Active (Functional)",-1),u("option",{value:"maintenance"},"Maintenance",-1),u("option",{value:"damaged"},"Damaged",-1),u("option",{value:"retired"},"Retired",-1),u("option",{value:"lost"},"Lost",-1)])],512),[[g,ht.value.statuses[0]]])]),ht.value.category_id?(l(),o("div",X,[s[26]||(s[26]=u("label",{class:"label-enterprise"},"Sub-category",-1)),p(u("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>ht.value.sub_category_id=e),class:"w-full !border-[#3d4adb]/30"},[u("option",Y,"All "+m(e.meta.categories.find(e=>e.id===ht.value.category_id)?.name)+" Sub-categories",1),(l(!0),o(x,null,f(bt.value,e=>(l(),o("option",{key:e.id,value:e.id},m(e.name),9,Z))),128))],512),[[g,ht.value.sub_category_id]])])):b("",!0)])]),u("div",ee,[u("div",te,[u("span",ae,[s[27]||(s[27]=v(" Showing ",-1)),u("span",se,m(e.assets.total),1),s[28]||(s[28]=v(" assets ",-1))]),kt.value>0?(l(),o("div",re,[s[29]||(s[29]=u("span",{class:"flex h-2 w-2 rounded-full bg-primary animate-pulse"},null,-1)),u("span",le,"Filters active ("+m(kt.value)+")",1)])):b("",!0)])]),u("div",oe,[u("div",ie,[0===e.assets.data.length?(l(),o("div",ne,[s[30]||(s[30]=u("div",{class:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-gray-50 text-gray-300"},[u("svg",{class:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),s[31]||(s[31]=u("h3",{class:"mt-6 text-xl font-black text-gray-900 uppercase"},"No Matches Found",-1)),s[32]||(s[32]=u("p",{class:"mt-2 text-gray-400 font-medium"},"Try refining your enterprise filters or check the audit logs.",-1)),u("button",{onClick:jt,class:"mt-8 text-sm font-black text-primary uppercase tracking-widest hover:underline"},"Clear all filters")])):(l(),o("div",de,[u("div",ce,[u("table",ue,[s[46]||(s[46]=u("thead",null,[u("tr",null,[u("th",{class:"!w-16"},"Item"),u("th",null,"Identifier & Label"),u("th",null,"Location"),u("th",null,"Governance"),u("th",null,"History"),u("th",{class:"text-right"},"Action")])],-1)),u("tbody",pe,[(l(!0),o(x,null,f(e.assets.data,e=>{return l(),o(x,{key:e.id},[u("tr",ge,[u("td",ve,[u("div",{class:"h-12 w-12 rounded-xl border border-slate-100 bg-slate-50 overflow-hidden flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:t=>wt(e.image_url)},[e.image_url?(l(),o("img",{key:0,src:e.image_url,class:"h-full w-full object-cover"},null,8,fe)):(l(),o("svg",me,[...s[33]||(s[33]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,xe)]),u("td",be,[u("div",he,[u("div",ye,[u("div",we,[u("div",_e,[i(n(h),{href:t.route("assets.show",e.id),class:"text-[14px] font-bold text-slate-800 hover:text-[#3d4adb] leading-tight"},{default:c(()=>[v(m(e.category||"General Asset")+" ",1),e.subCategory?(l(),o("span",ke,"â€” "+m(e.subCategory),1)):b("",!0)]),_:2},1032,["href"]),e.is_parent?(l(),o("div",{key:0,class:"flex h-5 w-5 items-center justify-center rounded bg-indigo-50 text-indigo-600 cursor-pointer hover:bg-indigo-100 transition-colors ml-1",onClick:t=>{return a=e.id,void(St.value.includes(a)?St.value=St.value.filter(e=>e!==a):St.value.push(a));var a},title:"Expand System Components"},[(l(),o("svg",{class:y(["h-3 w-3",{"rotate-90":St.value.includes(e.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[34]||(s[34]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,je)):b("",!0),e.bundle_serial?(l(),o("span",Ce,m(e.bundle_serial),1)):e.series_no||e.parent_id?(l(),o("span",Ae,m(e.short_code),1)):b("",!0)]),u("div",Me,m(e.full_serial||e.asset_code||"PENDING"),1)])])])]),u("td",Se,[u("div",De,[u("p",Be,m(e.room?.name||"Central Hall"),1),u("p",Ve,m(e.owner_department||"University"),1)])]),u("td",Te,[u("div",Le,[u("span",{class:y(["inline-flex items-center rounded-md border px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",Ct(e.status)])},m((a=e.status,{active:"Active",maintenance:"Maintenance",damaged:"Damaged",retired:"Retired",donated:"Donated",lost:"Lost"}[a]||a||"Unknown")),3),e.count>1?(l(),o("span",He,"Qty: "+m(e.count),1)):b("",!0)])]),u("td",Ue,[u("div",Ie,[u("span",Fe,[s[35]||(s[35]=u("span",{class:"text-gray-400 text-[10px]"},"Created by:",-1)),v(" "+m(e.created_by),1)]),u("span",Ge," Date: "+m(e.created_at_formatted),1)])]),u("td",ze,[u("div",Ee,[i(n(h),{href:t.route("assets.show",e.id),class:"px-3 py-1.5 rounded-lg border border-slate-100 text-[10px] font-black uppercase tracking-widest text-[#3d4adb] hover:bg-[#3d4adb] hover:text-white transition-all shadow-sm"},{default:c(()=>[...s[36]||(s[36]=[v(" Verify",-1)])]),_:1},8,["href"]),H("asset-edit")?(l(),w(n(h),{key:0,href:t.route("assets.edit",e.id),class:"px-3 py-1.5 rounded-lg border border-gray-100 text-[10px] font-black uppercase tracking-widest text-gray-500 hover:bg-gray-50 transition-all shadow-sm"},{default:c(()=>[...s[37]||(s[37]=[v(" Edit",-1)])]),_:1},8,["href"])):b("",!0),H("asset-delete")?(l(),o("button",{key:1,onClick:t=>(e=>{window.showConfirm({title:"Archive Asset Record?",message:`Are you sure you want to archive ${e.asset_code}? This will remove it from active inventory while preserving history for audit compliance.`,confirmText:"Archive Asset",confirmVariant:"danger",onConfirm:()=>Dt(e.id)})})(e),class:"p-2 rounded-lg text-rose-400 hover:text-rose-600 hover:bg-rose-50 transition-all flex items-center justify-center border border-transparent hover:border-rose-100",title:"Archive Asset"},[...s[38]||(s[38]=[u("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Re)):b("",!0)])])]),e.is_parent&&St.value.includes(e.id)?(l(!0),o(x,{key:0},f(e.children,e=>(l(),o("tr",{key:"child-"+e.id,class:"bg-gray-50/20 border-b border-gray-100"},[u("td",Oe,[u("div",{class:"h-8 w-8 rounded border border-gray-200 bg-white overflow-hidden flex items-center justify-center shadow-xs cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:t=>wt(e.image_url)},[e.image_url?(l(),o("img",{key:0,src:e.image_url,class:"h-full w-full object-cover"},null,8,Pe)):(l(),o("svg",qe,[...s[39]||(s[39]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,Ne)]),u("td",Je,[s[40]||(s[40]=u("div",{class:"absolute left-6 top-0 bottom-0 w-px bg-gray-200"},null,-1)),s[41]||(s[41]=u("div",{class:"absolute left-6 top-1/2 w-4 h-px bg-gray-200"},null,-1)),u("div",Ke,[u("div",Qe,[i(n(h),{href:t.route("assets.show",e.id),class:"text-[11px] font-bold text-[#1F2937] hover:text-[#3d4adb] truncate"},{default:c(()=>[v(m(e.name),1)]),_:2},1032,["href"]),e.bundle_serial?(l(),o("span",We,m(e.bundle_serial),1)):e.series_no?(l(),o("span",$e,m(e.short_code),1)):b("",!0)]),u("span",Xe,m(e.full_serial||e.asset_code),1)])]),s[44]||(s[44]=u("td",{class:"px-6 py-2"},[u("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter"},"System Component")],-1)),u("td",Ye,[u("span",Ze,m(e.status),1)]),u("td",et,[u("div",tt,[u("span",at,[s[42]||(s[42]=u("span",{class:"text-gray-400 text-[9px]"},"Created by:",-1)),v(" "+m(e.created_by),1)]),u("span",st," Date: "+m(e.created_at_formatted),1)])]),u("td",rt,[i(n(h),{href:t.route("assets.show",e.id),class:"text-[10px] font-bold text-[#3d4adb] hover:underline uppercase"},{default:c(()=>[...s[43]||(s[43]=[v(" Details",-1)])]),_:1},8,["href"])])]))),128)):b("",!0),e.is_parent&&0===e.children.length&&St.value.includes(e.id)?(l(),o("tr",lt,[...s[45]||(s[45]=[u("td",{colspan:"6",class:"px-6 py-4 text-center text-[11px] text-gray-400 italic border-b border-gray-50"}," No components registered in this system yet. ",-1)])])):b("",!0)],64);var a}),128))])])]),i(D,{links:e.assets.links},null,8,["links"])]))]),(U.value||ft.value)&&e.meta.departments.length>0?(l(),o("div",ot,[u("div",it,[s[47]||(s[47]=u("h3",{class:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-8 flex items-center"},[u("svg",{class:"mr-3 h-4 w-4 text-[#3d4adb]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),v(" Transfer Hub ")],-1)),s[48]||(s[48]=u("p",{class:"text-[11px] text-slate-400 mb-8 font-medium leading-relaxed uppercase tracking-tighter"},"Drag an asset into a department below to reassign ownership.",-1)),u("div",nt,[(l(!0),o(x,null,f(e.meta.departments,e=>(l(),o("div",{key:e.id,class:"relative group",onDragover:t=>{return a=t,s=e.id,a.preventDefault(),void(Mt.value=s);var a,s},onDrop:t=>(async(e,t)=>{e.preventDefault();const s=At.value;At.value=null,Mt.value=null,s&&t&&window.showConfirm({title:"Transfer Asset Ownership?",message:"Are you sure you want to reassign this asset to a different department? This will be logged in the movement history.",confirmText:"Transfer",onConfirm:async()=>{try{await T.post(route("assets.transfer",s),{department_id:t,reason:"Department transfer via Drag & Drop"}),a.reload({only:["assets"]}),window.showToast("success","Asset ownership transferred.")}catch(e){window.showToast("error",e.response?.data?.message||"Transfer failed.")}}})})(t,e.id)},[u("div",{class:y(["flex items-center justify-between rounded-2xl border p-4 transition-all duration-300",[Mt.value===e.id?"border-[#3d4adb] bg-[#3d4adb]/5 scale-[1.02] shadow-inner":"border-transparent bg-slate-50/50 hover:bg-white hover:border-slate-200 hover:shadow-soft"]])},[u("div",ct,[u("div",ut,[u("span",pt,m(e.name.substring(0,2).toUpperCase()),1)]),u("span",gt,m(e.name),1)])],2)],40,dt))),128))])])])):b("",!0)])])])]),_:1}),(l(),w(k,{to:"body"},[yt.value?(l(),o("div",{key:0,class:"fixed inset-0 z-[999] flex items-center justify-center bg-gray-900/90 backdrop-blur-md p-4 sm:p-20",onClick:s[9]||(s[9]=e=>yt.value=null)},[u("div",{class:"relative max-h-full max-w-5xl rounded-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",onClick:s[8]||(s[8]=_(()=>{},["stop"]))},[u("img",{src:yt.value,class:"max-h-[85vh] w-auto object-contain"},null,8,vt),u("div",xt,[u("button",{onClick:s[7]||(s[7]=e=>yt.value=null),class:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-md hover:bg-white/40 shadow-lg"},[...s[49]||(s[49]=[u("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])):b("",!0)]))],64))}},[["__scopeId","data-v-05b3216c"]]);export{ft as default};
