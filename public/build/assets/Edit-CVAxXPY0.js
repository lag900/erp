import{u as e,o as s,a,k as t,m as r,p as o,w as l,b as i,q as n,e as d,d as c,s as u,F as m,z as g,t as p,x as f,l as y,c as b,g as x,A as v}from"./vendor-DGI0tb4d.js";import{_ as h}from"./AuthenticatedLayout-DmLSy_bE.js";import{P as w}from"./PrimaryButton-CXxvsKbC.js";import{_}from"./TextInput-7Tb4wL4u.js";import{_ as k}from"./InputLabel-ttg1gjZN.js";import{_ as C}from"./InputError-CSjO0CYp.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const j={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},S={class:"flex items-center gap-3"},V={class:"py-8"},B={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},A={class:"border-b border-slate-100 bg-slate-50/50 px-8 py-6 flex items-center justify-between"},M={class:"p-6 grid gap-6 sm:grid-cols-2"},P={class:"sm:col-span-2"},T={class:"relative mt-1"},U=["value"],D={class:"sm:col-span-2"},E={class:"sm:col-span-2"},I={class:"sm:col-span-2"},z={class:"sm:col-span-2"},L={class:"mt-2 flex gap-6"},q={key:0,class:"shrink-0 relative"},N={class:"relative h-24 w-24 overflow-hidden rounded-lg border border-gray-200"},F=["src","alt"],G={class:"grow rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},R={class:"text-center"},$={class:"mt-4 flex text-sm leading-6 text-gray-600 justify-center"},H={for:"image",class:"relative cursor-pointer rounded-md bg-white font-semibold text-primary focus-within:outline-none focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2 hover:text-indigo-500"},J={key:0,class:"mt-2 text-sm font-semibold text-green-600"},K={class:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t border-gray-100"},O={__name:"Edit",props:{subCategory:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(O){const Q=O,W=v(),X=x(()=>W.props.auth?.permissions??[]),Y=e=>X.value.includes(e),Z=e({_method:"PUT",category_id:Q.subCategory.category_id,name:Q.subCategory.name,name_ar:Q.subCategory.name_ar||"",code:Q.subCategory.code||"",image:null});return(e,x)=>(s(),a(m,null,[t(r(o),{title:"Edit Subcategory"}),t(h,null,{header:l(()=>[i("div",j,[x[8]||(x[8]=i("div",null,[i("h2",{class:"text-2xl font-bold leading-tight text-gray-800"}," Edit Subcategory "),i("p",{class:"mt-1 text-sm text-gray-500"}," Update subcategory details or classification. ")],-1)),i("div",S,[t(r(y),{href:e.route("subcategories.index"),class:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:l(()=>[...x[7]||(x[7]=[i("svg",{class:"mr-2 -ml-1 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),d(" Back to Subcategories ",-1)])]),_:1},8,["href"])])])]),default:l(()=>[i("div",V,[i("div",B,[i("form",{class:"overflow-hidden rounded-[32px] border border-slate-200 bg-white shadow-premium",onSubmit:x[6]||(x[6]=n(s=>r(Z).post(e.route("subcategories.update",O.subCategory.id),{forceFormData:!0,onSuccess:()=>e.window.showToast("success","Sub-category updated successfully.")}),["prevent"]))},[i("div",A,[x[10]||(x[10]=i("div",null,[i("h3",{class:"text-xl font-bold text-slate-800 tracking-tight"},"Technical Node Profile"),i("p",{class:"text-[13px] font-medium text-slate-400"},"Refine specialized asset classification details.")],-1)),Y("sub_category-delete")?(s(),a("button",{key:0,type:"button",class:"inline-flex items-center rounded-xl bg-rose-50 px-4 py-2 text-xs font-bold text-rose-600 border border-rose-100 transition-all hover:bg-rose-100 hover:scale-105 active:scale-95",onClick:x[0]||(x[0]=s=>e.window.showConfirm({title:"Decommission Sub-category?",message:`Are you sure you want to decommission ${O.subCategory.name}? This will retire the technical spec.`,confirmText:"Decommission",onConfirm:()=>e.$inertia.delete(e.route("subcategories.destroy",O.subCategory.id))}))},[...x[9]||(x[9]=[i("svg",{class:"-ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),d(" Decommission ",-1)])])):c("",!0)]),i("div",M,[i("div",P,[t(k,{for:"category_id",value:"Parent Category"}),i("div",T,[u(i("select",{id:"category_id","onUpdate:modelValue":x[1]||(x[1]=e=>r(Z).category_id=e),class:"block w-full appearance-none rounded-lg border-gray-300 bg-white py-2 pl-3 pr-10 text-sm shadow-sm focus:border-primary focus:outline-none focus:ring-primary"},[x[11]||(x[11]=i("option",{value:"",disabled:""},"Select category...",-1)),(s(!0),a(m,null,g(O.categories,e=>(s(),a("option",{key:e.id,value:e.id},p(e.name)+" "+p(e.name_ar?`(${e.name_ar})`:""),9,U))),128))],512),[[f,r(Z).category_id]]),x[12]||(x[12]=i("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),t(C,{class:"mt-2",message:r(Z).errors.category_id},null,8,["message"])]),i("div",D,[t(k,{for:"name",value:"Subcategory Name (English)"}),t(_,{id:"name",modelValue:r(Z).name,"onUpdate:modelValue":x[2]||(x[2]=e=>r(Z).name=e),class:"mt-1 block w-full"},null,8,["modelValue"]),t(C,{class:"mt-2",message:r(Z).errors.name},null,8,["message"])]),i("div",E,[t(k,{for:"name_ar",value:"Subcategory Name (Arabic)"}),t(_,{id:"name_ar",modelValue:r(Z).name_ar,"onUpdate:modelValue":x[3]||(x[3]=e=>r(Z).name_ar=e),dir:"rtl",class:"mt-1 block w-full text-right"},null,8,["modelValue"]),t(C,{class:"mt-2",message:r(Z).errors.name_ar},null,8,["message"])]),i("div",I,[t(k,{for:"code",value:"Subcategory Code"}),t(_,{id:"code",modelValue:r(Z).code,"onUpdate:modelValue":x[4]||(x[4]=e=>r(Z).code=e),class:"mt-1 block w-full font-mono bg-gray-50 uppercase",placeholder:"e.g. DESK"},null,8,["modelValue"]),x[13]||(x[13]=i("p",{class:"mt-1 text-xs text-gray-500"},"Short unique code used in generating asset identification numbers (QR codes).",-1)),t(C,{class:"mt-2",message:r(Z).errors.code},null,8,["message"])]),i("div",z,[t(k,{for:"image",value:"Subcategory Image"}),i("div",L,[O.subCategory.image_url?(s(),a("div",q,[i("div",N,[i("img",{src:O.subCategory.image_url,alt:O.subCategory.name,class:"h-full w-full object-cover"},null,8,F)]),x[14]||(x[14]=i("p",{class:"mt-1 text-center text-xs text-gray-500"},"Current",-1))])):c("",!0),i("div",G,[i("div",R,[x[16]||(x[16]=i("svg",{class:"mx-auto h-12 w-12 text-gray-300",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),i("div",$,[i("label",H,[i("span",null,p(O.subCategory.image_url?"Replace image":"Upload a file"),1),i("input",{id:"image",type:"file",accept:"image/*",class:"sr-only",onInput:x[5]||(x[5]=e=>r(Z).image=e.target.files[0])},null,32)]),x[15]||(x[15]=i("p",{class:"pl-1"},"or drag and drop",-1))]),x[17]||(x[17]=i("p",{class:"text-xs leading-5 text-gray-600"},"PNG, JPG, GIF up to 2MB",-1)),r(Z).image?(s(),a("p",J," Selected: "+p(r(Z).image.name),1)):c("",!0)])])]),t(C,{class:"mt-2",message:r(Z).errors.image},null,8,["message"])])]),i("div",K,[t(r(y),{href:e.route("subcategories.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:l(()=>[...x[18]||(x[18]=[d(" Cancel ",-1)])]),_:1},8,["href"]),Y("sub_category-edit")?(s(),b(w,{key:0,disabled:r(Z).processing},{default:l(()=>[...x[19]||(x[19]=[i("svg",{class:"mr-2 -ml-1 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),d(" Save Changes ",-1)])]),_:1},8,["disabled"])):c("",!0)])],32)])])]),_:1})],64))}};export{O as default};
