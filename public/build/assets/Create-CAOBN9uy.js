import{u as te,y as j,z as se,o as l,c as r,a as c,b as i,h as oe,w,d as e,T as ae,i as y,t as g,k as p,e as le,n as h,f as I,g as N,F as f,m as _,v as re,l as T,p as F,r as v,s as ne}from"./app-BX5kK8gL.js";import{_ as ie}from"./AuthenticatedLayout-WTG0r7J_.js";import{_ as R}from"./TextInput-D8M23_PG.js";import{_ as D}from"./InputError-C8hi-McE.js";import{S as L}from"./SearchableSelect-DdQP9iMn.js";import{_ as de}from"./SmartSpecInput-BvGBkep5.js";import{i as ue}from"./browser-image-compression-DILJcqf6.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */import"./DangerButton-Doqh3QbT.js";import"./SecondaryButton-CW323Hov.js";const pe={class:"flex items-center justify-between py-1"},ge={class:"max-w-4xl mx-auto py-2"},me={key:0,class:"mb-4 flex items-center justify-center gap-2 bg-[#1FA6A0] text-white py-2 px-4 rounded text-sm font-bold shadow-sm"},ye={class:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden"},be={class:"flex border-b border-gray-100 bg-gray-50/50"},fe={class:"p-6 md:p-8 flex flex-col gap-8"},ve={key:0,class:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3"},xe={class:"space-y-6"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"space-y-4"},ke={class:"space-y-4"},we={key:0},Ae={key:0,class:"flex items-center gap-1.5 mt-1.5 animate-in fade-in slide-in-from-top-1 duration-300"},Ce={class:"pt-6 border-t border-gray-100 space-y-4"},Ve={class:"space-y-3"},Se={class:"flex-1"},Me={class:"flex-1"},je={class:"flex items-center gap-2"},Fe={class:"cursor-pointer group relative"},Re=["onChange"],Ie={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Le={key:1,class:"flex items-center gap-1"},Ue={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},Be={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},ze=["src"],$e=["onClick"],Ee={class:"pt-4"},Ne={key:1,class:"border-t border-blue-100 pt-6 mt-4 relative"},Te={class:"bg-blue-50/50 p-4 rounded-lg border border-blue-100 space-y-4"},De={class:"grid grid-cols-12 gap-3 items-end"},He={class:"col-span-12 md:col-span-5 space-y-3"},Pe={class:"col-span-6 md:col-span-3"},qe={class:"space-y-2 border-l-2 border-blue-200 pl-4 py-2"},Oe={class:"flex-1"},Ke={class:"flex-1"},Qe={class:"flex items-center gap-2"},We={class:"cursor-pointer group relative"},Ge=["onChange"],Je={key:0,class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xe={key:1,class:"flex items-center gap-1"},Ye={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-50"},Ze={class:"bg-gray-900 text-white p-1 rounded shadow-xl border border-gray-700"},et=["src"],tt=["onClick"],st={key:0,class:"flex flex-wrap gap-2"},ot=["onClick"],at={key:1,class:"text-[9px] text-gray-400 italic"},lt={key:0,class:"mt-4 border border-gray-200 rounded overflow-hidden"},rt={class:"w-full text-left bg-white"},nt={class:"divide-y divide-gray-100"},it={class:"px-4 py-2"},dt={class:"text-xs font-bold text-gray-800"},ut={key:0,class:"mt-1 flex flex-wrap gap-1"},ct={class:"px-4 py-2 text-[10px] uppercase font-bold text-gray-500"},pt={class:"px-4 py-2 text-right"},gt=["onClick"],mt={key:1,class:"mt-4 text-center text-xs text-gray-400 italic"},yt={key:0,class:"space-y-3 pt-6"},bt={class:"bg-white border-y sm:border border-gray-200 sm:rounded overflow-hidden"},ft={class:"w-full text-[11px] text-left"},vt={class:"px-4 py-2"},xt={class:"font-mono text-[#1FA6A0] text-[10px] font-black"},ht={key:0,class:"text-[8px] font-black text-gray-400 uppercase tracking-tighter mt-0.5"},_t={class:"px-4 py-2 font-bold"},kt={class:"px-4 py-2 text-center text-gray-400 font-black uppercase"},wt={class:"px-4 py-2 text-right text-gray-400 tabular-nums"},At={key:0},Ct={key:1,class:"fixed bottom-0 left-0 lg:left-72 right-0 z-[100] bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-[0_-8px_30px_rgb(0,0,0,0.04)] px-4 py-4 sm:px-8"},Vt={class:"max-w-4xl mx-auto flex flex-col sm:flex-row gap-4 items-center justify-between"},St={class:"flex items-center gap-3 w-full sm:w-auto"},Mt=["disabled"],jt={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Ft={__name:"Create",props:{rooms:{type:Array,default:()=>[]},classifications:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},subCategories:{type:Array,default:()=>[]},departments:{type:Array,default:()=>[]},roomAssetsSummary:{type:Array,default:()=>[]},recentAdditions:{type:Array,default:()=>[]}},setup(A){const b=A,C=v(null),H=v(null),k=v(!1),s=te({entry_type:"individual",room_id:new URLSearchParams(window.location.search).get("room_id")||"",category_id:"",sub_category_id:"",note:"",count:1,status:"active",is_shared:!1,shared_department_ids:[],infos:[{key:"",value:"",image:null}],is_parent:!1,components:[]}),V=F(()=>s.infos.some(a=>a.value&&a.value.trim().length>0));j(V,a=>{a&&(s.count=1)});const n=v({category_id:"",sub_category_id:"",status:"active",note:"",temp_id:null,sub_category_name:"",infos:[{key:"",value:"",image:null}]}),S=v("");j(S,a=>{if(a){const[t,o]=a.split(":");n.value.category_id=parseInt(t),n.value.sub_category_id=o?parseInt(o):""}else n.value.category_id="",n.value.sub_category_id=""});const M=v("");j(M,a=>{if(a){const[t,o]=a.split(":");s.category_id=parseInt(t),s.sub_category_id=o?parseInt(o):""}else s.category_id="",s.sub_category_id=""}),se(()=>{if(window.addEventListener("keydown",ee),s.category_id){const a=b.classifications.find(t=>t.category_id===s.category_id&&t.sub_category_id===(s.sub_category_id||null));a&&(M.value=a.id)}});const P=v(null),U=async(a,t,o)=>{const d=a.target.files[0];if(!d)return;const u={maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:.8};try{const x=await ue(d,u);t==="parent"?s.infos[o].image=x:n.value.infos[o].image=x}catch(x){console.error("Image compression failed:",x),t==="parent"?s.infos[o].image=d:n.value.infos[o].image=d}},B=a=>a?URL.createObjectURL(a):null,z=F(()=>!s.category_id||!b.subCategories?[]:b.subCategories.filter(a=>a.category_id===s.category_id&&a.id!==s.sub_category_id).slice(0,10)),q=F(()=>s.category_id),O=()=>{s.infos.push({key:"",value:"",image:null})},K=a=>{if(s.infos.length===1){s.infos[0]={key:"",value:"",image:null};return}s.infos.splice(a,1)},Q=()=>{n.value.infos.push({key:"",value:"",image:null})},W=a=>{if(n.value.infos.length===1){n.value.infos[0]={key:"",value:"",image:null};return}n.value.infos.splice(a,1)},G=()=>{if(!n.value.category_id){window.showToast&&window.showToast("error","Please select a component classification");return}const a=b.categories.find(m=>m.id===n.value.category_id),t=b.subCategories.find(m=>m.id===n.value.sub_category_id),o=n.value.infos.filter(m=>m.key&&m.key.trim()!==""&&m.value&&m.value.trim()!=="").map(m=>({...m})),d=a&&(a.name||a.label)||"Unknown",u=t&&(t.name||t.label)||"",x=u?`${d} - ${u}`:d;s.components=[...s.components,{category_id:n.value.category_id,sub_category_id:n.value.sub_category_id,status:n.value.status,note:n.value.note,temp_id:Date.now()+Math.random(),sub_category_name:x,infos:o}],S.value="",n.value.category_id="",n.value.sub_category_id="",n.value.note="",n.value.infos=[{key:"",value:""}],setTimeout(()=>{P.value?.open()},50)},J=a=>{const t=b.subCategories.find(d=>d.id===a),o=b.categories.find(d=>d.id===s.category_id);!t||!o||(s.components=[...s.components,{category_id:s.category_id,sub_category_id:a,status:"active",note:"",temp_id:Date.now()+Math.random(),sub_category_name:`${o.name||o.label||"Unknown"} - ${t.name||t.label||""}`,infos:[]}])},X=a=>{s.components.splice(a,1)},Y=a=>{a&&ne.get(route("assets.create"),{room_id:a},{preserveState:!0,preserveScroll:!0,only:["recentAdditions","roomAssetsSummary"],onStart:()=>{k.value=!0},onFinish:()=>{k.value=!1}})};j(()=>s.room_id,a=>{a&&Y(a)});const $=a=>{s.entry_type=a,s.is_parent=a==="bundle",s.count=1},Z=F(()=>s.processing?"Saving...":s.entry_type==="bundle"?`Register  (${s.components.length} items)`:s.entry_type==="series"?`Register ${s.count} Assets`:"Register Asset"),E=()=>{s.post(route("assets.store"),{forceFormData:!0,preserveScroll:!0,onStart:()=>{k.value=!0},onFinish:()=>{k.value=!1},onSuccess:()=>{C.value=s.is_parent?"System Bundle & Components Registered Successfully.":`${s.count>1?s.count+" assets":"Asset"} registered successfully.`;const a=s.room_id,t=s.category_id,o=s.sub_category_id,d=s.entry_type;s.reset("note","count","infos","is_parent","components"),s.count=1,s.infos=[{key:"",value:"",image:null}],s.components=[],s.room_id=a,s.category_id=t,s.sub_category_id=o,s.entry_type=d,s.is_parent=d==="bundle",setTimeout(()=>{C.value=null},4e3),s.is_parent||document.querySelector('input[placeholder*="Classification"]')?.focus()}})},ee=a=>{a.key==="Enter"&&a.ctrlKey&&E()};return(a,t)=>(l(),r(f,null,[c(i(oe),{title:"Asset Registration"}),c(ie,null,{header:w(()=>[e("div",pe,[t[10]||(t[10]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"h-8 w-1 bg-[#1FA6A0] rounded-full"}),e("div",null,[e("h2",{class:"text-lg font-black text-gray-900 uppercase tracking-tighter"},"Fast Registration"),e("div",{class:"flex items-center gap-1.5 leading-none"},[e("p",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider"},"Speed Mode Enabled"),e("span",{class:"text-[8px] px-1 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded font-black tracking-tighter uppercase"},"Enterprise Serials V2 Active")])])],-1)),c(i(T),{href:a.route("assets.index"),class:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-[11px] font-bold text-gray-500 hover:bg-gray-50 transition-all uppercase tracking-widest"},{default:w(()=>[...t[9]||(t[9]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),y(" Back to Inventory ",-1)])]),_:1},8,["href"])])]),default:w(()=>[e("div",ge,[c(ae,{name:"fade"},{default:w(()=>[C.value?(l(),r("div",me,[t[11]||(t[11]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),y(" "+g(C.value),1)])):p("",!0)]),_:1}),e("form",{onSubmit:le(E,["prevent"]),class:"space-y-6 pb-40"},[e("div",ye,[e("div",be,[e("button",{type:"button",onClick:t[0]||(t[0]=o=>$("individual")),class:h(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2",i(s).entry_type==="individual"?"bg-white text-[#1FA6A0] border-b-2 border-[#1FA6A0]":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),y(" Standard Item ",-1)])],2),e("button",{type:"button",onClick:t[1]||(t[1]=o=>$("bundle")),class:h(["flex-1 py-5 text-[11px] font-black uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2",i(s).entry_type==="bundle"?"bg-white text-indigo-600 border-b-2 border-indigo-500":"text-gray-400 hover:text-gray-600 border-transparent hover:bg-gray-100"])},[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),y(" Bundle System ",-1)])],2)]),e("div",fe,[i(s).entry_type==="bundle"?(l(),r("div",ve,[...t[14]||(t[14]=[e("div",{class:"p-2 bg-blue-100 text-blue-600 rounded"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1),e("div",null,[e("h4",{class:"text-sm font-bold text-blue-900 uppercase"},"Single-Page System Entry"),e("p",{class:"text-xs text-blue-700 leading-relaxed mt-1"},[y(" Define the "),e("strong",null,"Parent Asset"),y(" (e.g. Computer Set) below, then add all its components. Everything will be saved in one transaction. ")])],-1)])])):p("",!0),e("div",xe,[e("div",he,[e("div",_e,[c(L,{modelValue:i(s).room_id,"onUpdate:modelValue":t[2]||(t[2]=o=>i(s).room_id=o),options:A.rooms,label:"Location / Room",placeholder:"Select room...",class:"w-full"},null,8,["modelValue","options"]),c(L,{modelValue:M.value,"onUpdate:modelValue":t[3]||(t[3]=o=>M.value=o),options:A.classifications,label:"Asset Classification",placeholder:"Search classification (e.g. Computers - DELL)",class:"w-full"},null,8,["modelValue","options"]),c(D,{message:i(s).errors.category_id},null,8,["message"]),c(D,{message:i(s).errors.sub_category_id},null,8,["message"])]),e("div",ke,[e("div",null,[t[16]||(t[16]=e("label",{for:"status",class:"form-group-label"},"Operational Status",-1)),I(e("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=o=>i(s).status=o),class:"w-full"},[...t[15]||(t[15]=[e("option",{value:"active"},"Active",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"damaged"},"Damaged",-1),e("option",{value:"retired"},"Retired",-1)])],512),[[N,i(s).status]])]),i(s).entry_type!=="bundle"?(l(),r("div",we,[t[18]||(t[18]=e("label",{for:"count",class:"form-group-label"},"Quantity",-1)),c(R,{id:"count",ref_key:"countInput",ref:H,modelValue:i(s).count,"onUpdate:modelValue":t[5]||(t[5]=o=>i(s).count=o),modelModifiers:{number:!0},type:"number",min:"1",disabled:V.value,class:h(["w-full transition-all",V.value?"bg-gray-100 text-gray-500 cursor-not-allowed shadow-inner opacity-75":""])},null,8,["modelValue","disabled","class"]),V.value?(l(),r("div",Ae,[...t[17]||(t[17]=[e("div",{class:"p-0.5 bg-amber-100 text-amber-600 rounded-full"},[e("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M12 15v2m0-8V7m0 0a2 2 0 100 4 2 2 0 000-4z"})])],-1),e("span",{class:"text-[9px] font-black uppercase tracking-tighter text-amber-600 italic"},"Unique item detected → quantity locked to 1",-1)])])):p("",!0)])):p("",!0)])])]),e("div",Ce,[e("div",{class:"flex items-center justify-between"},[t[19]||(t[19]=e("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Inventory Specifications (Parent)",-1)),e("button",{type:"button",onClick:O,class:"text-[10px] font-black text-[#1FA6A0] uppercase hover:underline"},"+ Add Entry")]),e("div",Ve,[(l(!0),r(f,null,_(i(s).infos,(o,d)=>(l(),r("div",{key:d,class:"p-3 bg-gray-50/50 rounded flex gap-2 items-center border border-gray-100"},[e("div",Se,[c(de,{modelValue:o.key,"onUpdate:modelValue":u=>o.key=u,"category-id":q.value,placeholder:"Label"},null,8,["modelValue","onUpdate:modelValue","category-id"])]),e("div",Me,[c(R,{modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,class:"w-full text-xs",placeholder:"Value..."},null,8,["modelValue","onUpdate:modelValue"])]),e("div",je,[e("label",Fe,[e("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:u=>U(u,"parent",d)},null,40,Re),e("div",{class:h(["p-2 rounded border transition-all flex items-center justify-center",o.image?"border-[#1FA6A0] bg-[#1FA6A0]/10 text-[#1FA6A0]":"border-gray-200 bg-white text-gray-400 hover:border-[#1FA6A0] hover:text-[#1FA6A0]"])},[o.image?(l(),r("div",Le,[...t[21]||(t[21]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),e("span",{class:"text-[9px] font-bold uppercase"},"Ready",-1)])])):(l(),r("svg",Ie,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),o.image?(l(),r("div",Ue,[e("div",Be,[e("img",{src:B(o.image),class:"w-24 h-24 object-cover rounded"},null,8,ze)])])):p("",!0)]),i(s).infos.length>1?(l(),r("button",{key:0,onClick:u=>K(d),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[22]||(t[22]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,$e)):p("",!0)])]))),128))])]),e("div",Ee,[t[23]||(t[23]=e("label",{class:"form-group-label"},"Internal Remarks",-1)),I(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>i(s).note=o),rows:"2",class:"w-full !italic !text-gray-500",placeholder:"Add optional inventory remarks here..."},null,512),[[re,i(s).note]])]),i(s).entry_type==="bundle"?(l(),r("div",Ne,[t[33]||(t[33]=e("h4",{class:"text-xs font-black uppercase tracking-widest text-[#1FA6A0] mb-4 flex items-center gap-2"},[e("span",{class:"bg-[#1FA6A0]/10 p-1 rounded"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])]),y(" System Components ")],-1)),e("div",Te,[e("div",De,[e("div",He,[c(L,{modelValue:S.value,"onUpdate:modelValue":t[7]||(t[7]=o=>S.value=o),options:A.classifications,label:"Component Classification",placeholder:"Search classification...",class:"w-full"},null,8,["modelValue","options"])]),e("div",Pe,[t[25]||(t[25]=e("label",{class:"form-group-label"},"Lifecycle",-1)),I(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>n.value.status=o),class:"w-full !bg-white"},[...t[24]||(t[24]=[e("option",{value:"active"},"Active",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"damaged"},"Damaged",-1)])],512),[[N,n.value.status]])]),e("div",{class:"col-span-6 md:col-span-4"},[e("button",{type:"button",onClick:G,class:"w-full h-[40px] bg-gray-800 text-white text-[10px] font-black uppercase tracking-wider rounded hover:bg-black transition-colors flex items-center justify-center gap-1 shadow-sm"},[...t[26]||(t[26]=[y(" Add To System ",-1),e("kbd",{class:"hidden md:inline font-mono px-1 py-0.5 bg-gray-700 rounded text-[9px] text-gray-300"},"↵",-1)])])])]),e("div",qe,[e("div",{class:"flex items-center justify-between"},[t[27]||(t[27]=e("h5",{class:"text-[9px] font-black uppercase tracking-widest text-blue-400"},"Component Specs",-1)),e("button",{type:"button",onClick:Q,class:"text-[9px] font-bold text-blue-500 hover:text-blue-700 uppercase"},"+ Add Spec")]),(l(!0),r(f,null,_(n.value.infos,(o,d)=>(l(),r("div",{key:d,class:"flex gap-2"},[e("div",Oe,[c(R,{modelValue:o.key,"onUpdate:modelValue":u=>o.key=u,class:"w-full h-8 text-[11px]",placeholder:"Label (e.g. Serial)"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Ke,[c(R,{modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,class:"w-full h-8 text-[11px]",placeholder:"Value"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Qe,[e("label",We,[e("input",{type:"file",class:"hidden",accept:"image/*",capture:"environment",onChange:u=>U(u,"component",d)},null,40,Ge),e("div",{class:h(["p-1.5 rounded border transition-all flex items-center justify-center",o.image?"border-blue-400 bg-blue-50 text-blue-500":"border-gray-200 bg-white text-gray-300 hover:border-blue-400 hover:text-blue-400"])},[o.image?(l(),r("div",Xe,[...t[29]||(t[29]=[e("svg",{class:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),e("span",{class:"text-[8px] font-black"},"OK",-1)])])):(l(),r("svg",Je,[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])]))],2),o.image?(l(),r("div",Ye,[e("div",Ze,[e("img",{src:B(o.image),class:"w-20 h-20 object-cover rounded"},null,8,et)])])):p("",!0)]),n.value.infos.length>1?(l(),r("button",{key:0,onClick:u=>W(d),type:"button",class:"text-gray-300 hover:text-red-500"},[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,tt)):p("",!0)])]))),128))]),z.value.length>0?(l(),r("div",st,[(l(!0),r(f,null,_(z.value,o=>(l(),r("button",{key:o.id,type:"button",onClick:d=>J(o.id),class:"px-2 py-1 rounded border border-gray-200 bg-white text-[10px] font-medium text-gray-500 hover:border-[#1FA6A0] hover:text-[#1FA6A0] transition-all active:scale-95"}," + "+g(o.label),9,ot))),128))])):i(s).sub_category_id?(l(),r("p",at,"No specific component suggestions for this type.")):p("",!0)]),i(s).components.length>0?(l(),r("div",lt,[e("table",rt,[t[32]||(t[32]=e("thead",{class:"bg-gray-50 text-[10px] uppercase font-bold text-gray-400"},[e("tr",null,[e("th",{class:"px-4 py-2"},"Component"),e("th",{class:"px-4 py-2"},"Status"),e("th",{class:"px-4 py-2 text-right"})])],-1)),e("tbody",nt,[(l(!0),r(f,null,_(i(s).components,(o,d)=>(l(),r("tr",{key:o.temp_id},[e("td",it,[e("div",dt,g(o.sub_category_name||"Missing Name"),1),o.infos&&o.infos.length?(l(),r("div",ut,[(l(!0),r(f,null,_(o.infos,u=>(l(),r("span",{key:u.key,class:"inline-flex items-center px-1.5 py-0.5 rounded-full text-[9px] font-medium bg-gray-100 text-gray-600"},g(u.key||"Missing")+": "+g(u.value||"Data"),1))),128))])):p("",!0)]),e("td",ct,g(o.status),1),e("td",pt,[e("button",{type:"button",onClick:u=>X(d),class:"text-red-400 hover:text-red-600"},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,gt)])]))),128))])])])):(l(),r("p",mt,"No components added yet."))])):p("",!0)])]),i(s).room_id?(l(),r("div",yt,[t[36]||(t[36]=e("div",{class:"flex items-center justify-between px-1"},[e("h4",{class:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400"},"Recent Activity in this Room"),e("span",{class:"text-[9px] font-bold text-gray-500 uppercase tracking-widest px-2 py-0.5 bg-gray-100 rounded"},"Live View")],-1)),e("div",bt,[e("table",ft,[t[35]||(t[35]=e("thead",{class:"bg-gray-50/50 border-b border-gray-100"},[e("tr",{class:"text-gray-400 font-bold uppercase tracking-wider"},[e("th",{class:"px-4 py-3"},"Code"),e("th",{class:"px-4 py-3"},"Asset Classification"),e("th",{class:"px-4 py-3 text-center"},"Status"),e("th",{class:"px-4 py-3 text-right"},"Added")])],-1)),e("tbody",{class:h(["divide-y divide-gray-50",{"animate-pulse opacity-50":k.value}])},[(l(!0),r(f,null,_(b.recentAdditions,o=>(l(),r("tr",{key:o.id,class:"border-b border-gray-50 text-[11px] hover:bg-gray-50/50"},[e("td",vt,[e("div",xt,g(o.full_serial||o.asset_code),1),o.bundle_serial?(l(),r("div",ht,"Reference: "+g(o.bundle_serial),1)):p("",!0)]),e("td",_t,g(o.name),1),e("td",kt,g(o.status),1),e("td",wt,g(o.time),1)]))),128)),b.recentAdditions.length===0?(l(),r("tr",At,[...t[34]||(t[34]=[e("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-400 italic"},"No assets registered in this room today.",-1)])])):p("",!0)],2)])])])):p("",!0),a.$page.component==="Assets/Create"?(l(),r("div",Ct,[e("div",Vt,[t[40]||(t[40]=e("div",{class:"hidden md:flex flex-col"},[e("span",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none"},"Registration Flow"),e("span",{class:"text-xs font-bold text-[#1FA6A0] mt-1 uppercase tracking-tighter"},"Inventory Mode Active")],-1)),e("div",St,[c(i(T),{href:a.route("assets.index"),class:"flex-1 sm:flex-none px-6 py-3 text-[11px] font-black uppercase tracking-widest text-gray-500 hover:text-gray-700 transition-colors text-center"},{default:w(()=>[...t[37]||(t[37]=[y(" CANCEL ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:i(s).processing,class:"flex-[2] sm:flex-none sm:min-w-[240px] h-12 bg-[#1FA6A0] text-white text-[11px] font-black uppercase tracking-[0.2em] rounded-lg shadow-lg shadow-[#1FA6A0]/20 active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-2 group"},[i(s).processing?(l(),r("svg",jt,[...t[38]||(t[38]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(l(),r(f,{key:1},[t[39]||(t[39]=e("svg",{class:"h-4 w-4 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)),y(" "+g(Z.value),1)],64))],8,Mt)])])])):p("",!0)],32)])]),_:1})],64))}},Ht=ce(Ft,[["__scopeId","data-v-6d97c7fd"]]);export{Ht as default};
