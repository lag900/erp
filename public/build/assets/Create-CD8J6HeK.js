import{u as e,o as s,a,k as t,m as r,p as o,w as i,b as l,q as n,e as p,t as c,s as u,F as d,z as m,x as g,v as x,c as f,d as y,g as b,A as h}from"./vendor-DGI0tb4d.js";import{_ as v}from"./AuthenticatedLayout-Cfq4davl.js";import{_}from"./app-Ovv-U1T0.js";import{_ as k}from"./TextInput-7Tb4wL4u.js";import{_ as w}from"./InputLabel-ttg1gjZN.js";import{_ as j}from"./InputError-CSjO0CYp.js";import{G as S}from"./GlobalCheckbox-BSagvGQB.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const A={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},B={class:"py-10"},I={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},M={class:"space-y-6"},C={class:"space-y-2"},G={class:"text-[10px] font-black uppercase text-gray-400 tracking-widest"},L={class:"text-primary"},V={class:"space-y-2"},D=["value"],U={class:"space-y-2"},E={class:"flex items-center gap-3 bg-gray-50 p-4 rounded-2xl"},q={class:"flex items-center justify-end border-t border-gray-50 pt-8"},T={__name:"Create",props:{groups:Array},setup(T){const z=e({name:"",permission_group_id:"",description:"",status:!0}),F=h(),K=b(()=>F.props.auth?.permissions??[]),N=()=>{z.name=z.name.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};return(e,b)=>(s(),a(d,null,[t(r(o),{title:"Establish Security Gate"}),t(v,null,{header:i(()=>[l("div",A,[b[7]||(b[7]=l("div",null,[l("h2",{class:"text-2xl font-black tracking-tight text-gray-900 uppercase"}," New Security Persona "),l("p",{class:"mt-1 text-sm text-gray-500"},"Define a new functional identity and its operational boundaries.")],-1)),t(_,{href:e.route("permissions.index"),variant:"secondary"},{icon:i(()=>[...b[5]||(b[5]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),default:i(()=>[b[6]||(b[6]=p(" Back to Matrix ",-1))]),_:1},8,["href"])])]),default:i(()=>{return[l("div",B,[l("div",I,[l("form",{class:"overflow-hidden rounded-[2.5rem] border border-gray-100 bg-white p-10 shadow-premium space-y-8",onSubmit:b[4]||(b[4]=n(s=>r(z).post(e.route("permissions.store")),["prevent"]))},[l("div",M,[l("div",C,[t(w,{for:"name",value:"Security Gate Label",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),t(k,{id:"name",modelValue:r(z).name,"onUpdate:modelValue":b[0]||(b[0]=e=>r(z).name=e),onInput:N,type:"text",class:"block w-full",placeholder:"e.g. Asset Intelligence Dashboard",autofocus:""},null,8,["modelValue"]),l("p",G,[b[8]||(b[8]=p("Key: ",-1)),l("span",L,c(r(z).name||"..."),1)]),t(j,{message:r(z).errors.name},null,8,["message"])]),l("div",V,[t(w,{for:"permission_group_id",value:"Module Assignment",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),u(l("select",{id:"permission_group_id","onUpdate:modelValue":b[1]||(b[1]=e=>r(z).permission_group_id=e),class:"block w-full border-gray-100 bg-gray-50 px-4 py-3 rounded-2xl text-sm transition-all focus:border-primary focus:bg-white focus:ring-primary",required:""},[b[9]||(b[9]=l("option",{value:"",disabled:""},"Select Module...",-1)),(s(!0),a(d,null,m(T.groups,e=>(s(),a("option",{key:e.id,value:e.id},c(e.name),9,D))),128))],512),[[g,r(z).permission_group_id]]),t(j,{message:r(z).errors.permission_group_id},null,8,["message"])]),l("div",U,[t(w,{for:"description",value:"Documentation",class:"text-xs font-black uppercase tracking-widest text-gray-500"}),u(l("textarea",{id:"description","onUpdate:modelValue":b[2]||(b[2]=e=>r(z).description=e),class:"block w-full rounded-2xl border-gray-100 bg-gray-50 px-4 py-3 text-sm transition-all focus:border-primary focus:bg-white focus:ring-primary h-32",placeholder:"Briefly describe the security scope..."},null,512),[[x,r(z).description]]),t(j,{message:r(z).errors.description},null,8,["message"])]),l("div",E,[t(S,{id:"status",checked:r(z).status,"onUpdate:checked":b[3]||(b[3]=e=>r(z).status=e)},null,8,["checked"]),b[10]||(b[10]=l("label",{for:"status",class:"text-sm font-bold text-gray-700 uppercase tracking-tight"},"Active In Matrix",-1))])]),l("div",q,[(o="permission-create",K.value.includes(o)?(s(),f(_,{key:0,type:"submit",variant:"primary",processing:r(z).processing,class:"h-14 px-10 rounded-2xl text-base"},{icon:i(()=>[...b[11]||(b[11]=[l("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])]),default:i(()=>[b[12]||(b[12]=p(" Establish Gate ",-1))]),_:1},8,["processing"])):y("",!0))])],32)])])];var o}),_:1})],64))}};export{T as default};
