import{u as e,o as s,a,k as r,m as t,p as l,w as d,b as o,q as i,s as n,F as m,z as u,t as p,x as c,n as g,c as f,e as _,d as v,l as y,g as x,A as b}from"./vendor-DGI0tb4d.js";import{_ as w}from"./AuthenticatedLayout-DmLSy_bE.js";import{P as h}from"./PrimaryButton-CXxvsKbC.js";import{_ as j}from"./TextInput-7Tb4wL4u.js";import{_ as k}from"./InputLabel-ttg1gjZN.js";import{_ as U}from"./InputError-CSjO0CYp.js";import{G as V}from"./GlobalCheckbox-BSagvGQB.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const A={class:"flex flex-wrap items-center justify-between gap-3"},S={class:"py-6"},B={class:"mx-auto max-w-4xl sm:px-6 lg:px-8"},D={class:"grid gap-6 sm:grid-cols-2"},q=["value"],I={class:"mt-8"},P={class:"flex items-center justify-between"},T={class:"text-xs font-medium text-gray-400"},C={class:"mt-4 grid gap-4 sm:grid-cols-2"},E={class:"flex items-center space-x-3"},G={class:"font-semibold text-gray-700"},L={class:"mt-6"},N=["value"],z={class:"mt-8 flex justify-end"},F={__name:"Create",props:{roles:{type:Array,required:!0},departments:{type:Array,required:!0}},setup(F){const R=F,H=b(),J=x(()=>H.props.auth?.permissions??[]),K=e({name:"",email:"",password:"",role_id:"",department_ids:[],default_department_id:""}),M=x(()=>R.departments.filter(e=>K.department_ids.includes(e.id)));return(e,x)=>(s(),a(m,null,[r(t(l),{title:"Add User"}),r(w,null,{header:d(()=>[o("div",A,[x[8]||(x[8]=o("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Add User ",-1)),r(t(y),{href:e.route("users.index"),class:"rounded border border-gray-300 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50"},{default:d(()=>[...x[7]||(x[7]=[_(" Back to Users ",-1)])]),_:1},8,["href"])])]),default:d(()=>{return[o("div",S,[o("div",B,[o("form",{class:"rounded bg-white p-6 shadow",novalidate:"",onSubmit:x[6]||(x[6]=i(s=>t(K).post(e.route("users.store"),{onSuccess:()=>e.window.showToast("success","User created successfully")}),["prevent"]))},[o("div",D,[o("div",null,[r(k,{for:"name",value:"Name"}),r(j,{id:"name",modelValue:t(K).name,"onUpdate:modelValue":x[0]||(x[0]=e=>t(K).name=e),class:"mt-1 block w-full",placeholder:"User Name"},null,8,["modelValue"]),r(U,{class:"mt-2",message:t(K).errors.name},null,8,["message"])]),o("div",null,[r(k,{for:"email",value:"Email"}),r(j,{id:"email",modelValue:t(K).email,"onUpdate:modelValue":x[1]||(x[1]=e=>t(K).email=e),type:"text",inputmode:"email",class:"mt-1 block w-full",placeholder:"user@example.com"},null,8,["modelValue"]),r(U,{class:"mt-2",message:t(K).errors.email},null,8,["message"])]),o("div",null,[r(k,{for:"password",value:"Password"}),r(j,{id:"password",modelValue:t(K).password,"onUpdate:modelValue":x[2]||(x[2]=e=>t(K).password=e),type:"password",class:"mt-1 block w-full",placeholder:"******"},null,8,["modelValue"]),r(U,{class:"mt-2",message:t(K).errors.password},null,8,["message"])]),o("div",null,[r(k,{for:"role_id",value:"Role"}),n(o("select",{id:"role_id","onUpdate:modelValue":x[3]||(x[3]=e=>t(K).role_id=e),class:"mt-1 block w-full rounded border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[x[9]||(x[9]=o("option",{value:"",disabled:""},"Select role",-1)),(s(!0),a(m,null,u(F.roles,e=>(s(),a("option",{key:e.id,value:e.id},p(e.name),9,q))),128))],512),[[c,t(K).role_id]]),r(U,{class:"mt-2",message:t(K).errors.role_id},null,8,["message"])])]),o("div",I,[o("div",P,[x[10]||(x[10]=o("h3",{class:"text-sm font-bold uppercase tracking-wider text-gray-500"}," Department Access ",-1)),o("span",T,p(t(K).department_ids.length)+" Selected ",1)]),o("div",C,[(s(!0),a(m,null,u(F.departments,e=>(s(),a("label",{key:e.id,class:g(["flex cursor-pointer items-center justify-between rounded-xl border-2 p-4 transition-all duration-200",t(K).department_ids.includes(e.id)?"border-primary bg-primary/5 ring-1 ring-primary":"border-gray-100 bg-white hover:border-gray-200 hover:bg-gray-50"])},[o("div",E,[o("div",{class:g(["flex h-10 w-10 items-center justify-center rounded-lg text-lg font-bold transition-colors",t(K).department_ids.includes(e.id)?"bg-primary text-white":"bg-gray-100 text-gray-400"])},p(e.name.charAt(0)),3),o("span",G,p(e.name),1)]),r(V,{value:e.id,checked:t(K).department_ids,"onUpdate:checked":x[4]||(x[4]=e=>t(K).department_ids=e)},null,8,["value","checked"])],2))),128))]),r(U,{class:"mt-2",message:t(K).errors.department_ids},null,8,["message"])]),o("div",L,[r(k,{for:"default_department_id",value:"Default Department"}),n(o("select",{id:"default_department_id","onUpdate:modelValue":x[5]||(x[5]=e=>t(K).default_department_id=e),class:"mt-1 block w-full rounded border-gray-300 text-sm shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[x[11]||(x[11]=o("option",{value:""},"Auto select",-1)),(s(!0),a(m,null,u(M.value,e=>(s(),a("option",{key:e.id,value:e.id},p(e.name),9,N))),128))],512),[[c,t(K).default_department_id]]),r(U,{class:"mt-2",message:t(K).errors.default_department_id},null,8,["message"])]),o("div",z,[(l="user-create",J.value.includes(l)?(s(),f(h,{key:0,disabled:t(K).processing},{default:d(()=>[...x[12]||(x[12]=[_(" Save User ",-1)])]),_:1},8,["disabled"])):v("",!0))])],32)])])];var l}),_:1})],64))}};export{F as default};
