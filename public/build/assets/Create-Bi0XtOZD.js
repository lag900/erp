import{u as e,C as a,o as r,a as t,k as s,m as l,p as o,w as i,b as n,q as d,F as c,z as p,t as g,d as m,l as u,e as x,c as f,g as y,A as b}from"./vendor-DGI0tb4d.js";import{_ as h}from"./AuthenticatedLayout-DmLSy_bE.js";import{P as v}from"./PrimaryButton-CXxvsKbC.js";import{_ as k}from"./TextInput-7Tb4wL4u.js";import{_ as w}from"./InputLabel-ttg1gjZN.js";import{_}from"./InputError-CSjO0CYp.js";import{G as j}from"./GlobalCheckbox-BSagvGQB.js";import"./utils-B98O4e5m.js";/* empty css                                                              */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./DangerButton-Bzsvvehx.js";import"./SecondaryButton-DsdD6xme.js";const C={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},A={class:"flex mb-2","aria-label":"Breadcrumb"},V={class:"flex items-center space-x-2 text-xs font-bold uppercase tracking-widest text-gray-400"},B={class:"py-12"},G={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},z={class:"p-8 space-y-8"},L={class:"relative"},P={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-4 rounded-2xl bg-gray-50/50 border border-gray-100"},I={class:"text-xs font-bold text-gray-600 transition-colors group-hover:text-primary uppercase tracking-tight"},U={class:"mt-2 flex justify-center rounded-2xl border-2 border-dashed border-gray-100 bg-gray-50/50 px-6 py-10 transition-all hover:bg-gray-50 hover:border-primary/20"},q={class:"text-center"},D={class:"mt-4 flex text-xs font-bold uppercase tracking-widest text-gray-500 justify-center"},M={for:"image",class:"relative cursor-pointer rounded-md font-black text-primary hover:text-primary/80 transition-colors"},N={key:0,class:"mt-4 inline-flex items-center rounded-lg bg-green-50 px-3 py-1 ring-1 ring-inset ring-green-600/20"},S={class:"text-[10px] font-black text-green-700 uppercase tracking-widest"},E={class:"bg-gray-50/80 px-8 py-6 flex items-center justify-end gap-4 border-t border-gray-100"},T={__name:"Create",props:{departments:{type:Array,required:!0}},setup(T){const F=T,H=b(),J=y(()=>H.props.auth?.permissions??[]),O=e({name:"",name_ar:"",code:"",image:null,department_ids:[]});return a(()=>O.name,e=>{if(e&&e.length>=3){const a=e.replace(/[^A-Za-z]/g,"").toUpperCase();O.code=a.substring(0,3)}else O.code=""}),(e,a)=>(r(),t(c,null,[s(l(o),{title:"Add Category"}),s(h,null,{header:i(()=>[n("div",C,[n("div",null,[n("nav",A,[n("ol",V,[n("li",null,[s(l(u),{href:e.route("categories.index"),class:"hover:text-primary transition-colors"},{default:i(()=>[...a[6]||(a[6]=[x("Categories",-1)])]),_:1},8,["href"])]),a[7]||(a[7]=n("li",null,[n("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{d:"M9 5l7 7-7 7","stroke-width":"2.5"})])],-1)),a[8]||(a[8]=n("li",{class:"text-gray-900"},"New Classification",-1))])]),a[9]||(a[9]=n("h2",{class:"text-3xl font-black leading-tight text-gray-900 uppercase tracking-tight"}," Create Category ",-1))]),s(l(u),{href:e.route("categories.index"),class:"inline-flex items-center rounded-xl border border-gray-200 bg-white px-5 py-2.5 text-sm font-bold text-gray-600 shadow-sm transition-all hover:bg-gray-50 hover:text-gray-900"},{default:i(()=>[...a[10]||(a[10]=[n("svg",{class:"mr-2 -ml-1 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),x(" Back to List ",-1)])]),_:1},8,["href"])])]),default:i(()=>{return[n("div",B,[n("div",G,[n("form",{class:"overflow-hidden rounded-3xl border border-gray-100 bg-white shadow-premium",onSubmit:a[5]||(a[5]=d(a=>l(O).post(e.route("categories.store"),{forceFormData:!0}),["prevent"]))},[a[19]||(a[19]=n("div",{class:"border-b border-gray-50 bg-gray-50/50 px-8 py-6"},[n("h3",{class:"text-sm font-black text-gray-900 uppercase tracking-widest"},"Global Classification"),n("p",{class:"mt-1 text-xs font-bold text-gray-400 uppercase tracking-widest leading-relaxed"},"Primary grouping for institutional assets")],-1)),n("div",z,[n("div",null,[s(w,{for:"name",value:"Category Name (English)",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),s(k,{id:"name",modelValue:l(O).name,"onUpdate:modelValue":a[0]||(a[0]=e=>l(O).name=e),class:"block w-full rounded-xl border-gray-200 py-3 font-bold shadow-sm transition-all focus:border-primary focus:ring-primary h-12",placeholder:"e.g. Laboratory Equipment"},null,8,["modelValue"]),s(_,{class:"mt-2",message:l(O).errors.name},null,8,["message"])]),n("div",null,[s(w,{for:"name_ar",value:"Category Name (Arabic)",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),s(k,{id:"name_ar",modelValue:l(O).name_ar,"onUpdate:modelValue":a[1]||(a[1]=e=>l(O).name_ar=e),dir:"rtl",class:"block w-full rounded-xl border-gray-200 py-3 font-bold shadow-sm transition-all focus:border-primary focus:ring-primary h-12 text-right",placeholder:"مثال: أثاث مدرسي"},null,8,["modelValue"]),s(_,{class:"mt-2",message:l(O).errors.name_ar},null,8,["message"])]),n("div",null,[s(w,{for:"code",value:"Auto-Generated Prefix",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),n("div",L,[s(k,{id:"code",modelValue:l(O).code,"onUpdate:modelValue":a[2]||(a[2]=e=>l(O).code=e),class:"block w-full rounded-xl border-gray-100 bg-gray-50/50 py-3 font-mono font-black text-primary shadow-inner h-12",placeholder:"LAB",readonly:""},null,8,["modelValue"]),a[11]||(a[11]=n("div",{class:"absolute inset-y-0 right-4 flex items-center"},[n("span",{class:"text-[10px] font-black text-gray-300 uppercase tracking-widest"},"Auto-Locked")],-1))]),a[12]||(a[12]=n("p",{class:"mt-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest"},"This prefix governs the identification series for all nested assets.",-1)),s(_,{class:"mt-2",message:l(O).errors.code},null,8,["message"])]),n("div",null,[s(w,{value:"Departmental Access",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),a[13]||(a[13]=n("p",{class:"text-[11px] font-bold text-gray-400 mb-4 uppercase tracking-tight"},"Select which faculties can register assets under this category:",-1)),n("div",P,[(r(!0),t(c,null,p(F.departments,e=>(r(),t("label",{key:e.id,class:"relative flex items-center gap-3 p-3 rounded-xl border border-transparent hover:bg-white hover:border-gray-200 transition-all cursor-pointer group"},[s(j,{id:"dept-"+e.id,checked:l(O).department_ids,"onUpdate:checked":a[3]||(a[3]=e=>l(O).department_ids=e),value:e.id,class:"!rounded-md"},null,8,["id","checked","value"]),n("span",I,g(e.name),1)]))),128))]),s(_,{class:"mt-2",message:l(O).errors.department_ids},null,8,["message"])]),n("div",null,[s(w,{for:"image",value:"Visual Identity",class:"text-[10px] font-black uppercase tracking-widest text-gray-500 mb-2"}),n("div",U,[n("div",q,[a[15]||(a[15]=n("svg",{class:"mx-auto h-12 w-12 text-gray-200",viewBox:"0 0 24 24",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),n("div",D,[n("label",M,[a[14]||(a[14]=n("span",null,"Upload Graphic Badge",-1)),n("input",{id:"image",type:"file",accept:"image/*",class:"sr-only",onInput:a[4]||(a[4]=e=>l(O).image=e.target.files[0])},null,32)])]),a[16]||(a[16]=n("p",{class:"mt-1 text-[10px] font-bold text-gray-300 uppercase tracking-widest"},"JPG, PNG or SVG. Optmized for 512x512",-1)),l(O).image?(r(),t("div",N,[n("span",S,"Icon Path: "+g(l(O).image.name),1)])):m("",!0)])]),s(_,{class:"mt-2",message:l(O).errors.image},null,8,["message"])])]),n("div",E,[s(l(u),{href:e.route("categories.index"),class:"text-xs font-black uppercase tracking-widest text-gray-400 hover:text-gray-900 transition-colors"},{default:i(()=>[...a[17]||(a[17]=[x(" Cancel Acquisition ",-1)])]),_:1},8,["href"]),(o="category-create",J.value.includes(o)?(r(),f(v,{key:0,disabled:l(O).processing,class:"!rounded-xl shadow-premium px-8 h-12 !text-[11px] font-black uppercase tracking-[0.1em]"},{default:i(()=>[...a[18]||(a[18]=[x(" Authorize & Deploy Category ",-1)])]),_:1},8,["disabled"])):m("",!0))])],32)])])];var o}),_:1})],64))}};export{T as default};
