import{o,c as a,d as e,F as g,m as h,j as F,n as H,b as C,l as T,k as u,E as Z,r as k,s as L,y as I,x as A,z as ee,a as y,h as te,w as f,f as M,g as D,i as p,t as i,_ as se,e as re,G as oe,p as B,q as ae}from"./app-BX5kK8gL.js";import{_ as le}from"./AuthenticatedLayout-WTG0r7J_.js";import{_ as ne}from"./TextInput-D8M23_PG.js";import{r as ie,a as de}from"./debounce-CndEhmqu.js";import{_ as ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */import"./DangerButton-Doqh3QbT.js";import"./SecondaryButton-CW323Hov.js";const ce={key:0},pe={class:"flex flex-wrap -mb-1"},ge=["innerHTML"],ve={__name:"Pagination",props:{links:{type:Array,required:!0}},setup(d){return(c,j)=>d.links.length>3?(o(),a("div",ce,[e("div",pe,[(o(!0),a(g,null,h(d.links,(v,m)=>(o(),a(g,{key:m},[v.url===null?(o(),a("div",{key:0,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded-xl",innerHTML:v.label},null,8,ge)):(o(),F(C(T),{key:1,class:H(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded-xl hover:bg-white focus:border-primary focus:text-primary transition-all shadow-sm",{"bg-primary text-white font-bold border-primary":v.active,"bg-gray-50 text-gray-700":!v.active}]),href:v.url,innerHTML:v.label,"preserve-scroll":""},null,8,["class","href","innerHTML"]))],64))),128))])])):u("",!0)}};var U,z;function fe(){if(z)return U;z=1;var d=ie(),c=de(),j="Expected a function";function v(m,V,_){var x=!0,b=!0;if(typeof m!="function")throw new TypeError(j);return c(_)&&(x="leading"in _?!!_.leading:x,b="trailing"in _?!!_.trailing:b),d(m,V,{leading:x,maxWait:V,trailing:b})}return U=v,U}var me=fe();const xe=Z(me),be={class:"flex flex-wrap items-center justify-between gap-4"},ye={class:"flex gap-3"},he={class:"py-8"},_e={class:"space-y-6"},we={class:"bg-white border border-slate-200 rounded-3xl p-7 shadow-soft space-y-6"},ke={class:"flex flex-col md:flex-row items-end gap-5"},Ce={class:"flex-1 w-full"},je={class:"relative group"},Ae={class:"w-full md:w-72"},Me={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},De=["value"],Te=["disabled"],Se=["value"],Ve=["value"],Le={key:0},Be={value:""},Fe=["value"],He={class:"flex items-center justify-between px-2"},$e={class:"flex items-center gap-3"},Ee={class:"text-xs font-bold text-gray-500 uppercase tracking-widest"},Ie={class:"text-gray-900"},Ue={key:0,class:"flex items-center gap-1.5 rounded-full bg-primary/5 px-3 py-1 ring-1 ring-primary/20"},Re={class:"text-[10px] font-black uppercase tracking-tighter text-primary"},Ne={class:"flex flex-col lg:flex-row gap-8"},Oe={class:"flex-1 w-full overflow-hidden"},Ge={key:0,class:"rounded-3xl border border-dashed border-gray-200 bg-white p-24 text-center shadow-soft"},ze={key:1,class:"space-y-6"},qe={class:"table-container"},Pe={class:"ent-table"},Qe={class:"divide-y divide-gray-50"},We={class:"group border-b border-gray-100 hover:bg-gray-50/30 transition-colors"},Xe={class:"px-6 py-4"},Je=["onClick"],Ke=["src"],Ye={key:1,class:"h-6 w-6 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ze={class:"px-6 py-4"},et={class:"flex items-center gap-3"},tt={class:"flex-1 min-w-0"},st={class:"flex flex-col gap-1"},rt={class:"flex items-center gap-2"},ot={key:0,class:"text-slate-400 font-medium ml-1"},at=["onClick"],lt={key:1,class:"series-badge"},nt={key:2,class:"series-badge"},it={class:"text-[10px] font-black font-mono text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-200 self-start shadow-sm tracking-tight"},dt={class:"px-6 py-4"},ut={class:"flex flex-col"},ct={class:"text-[13px] font-semibold text-[#1F2937]"},pt={class:"text-[11px] font-bold text-[#6B7280] uppercase tracking-tight"},gt={class:"px-6 py-4"},vt={class:"flex items-center gap-2"},ft={key:0,class:"text-[10px] font-bold text-gray-400 bg-gray-50 border border-gray-100 px-1.5 py-0.5 rounded"},mt={class:"px-6 py-4"},xt={class:"flex flex-col leading-tight gap-1"},bt={class:"text-[11px] text-gray-500 font-medium"},yt={class:"text-[10px] text-gray-400"},ht={class:"px-6 py-4 text-right"},_t={class:"flex justify-end gap-2 px-2"},wt=["onClick"],kt={class:"px-6 py-2 flex justify-center"},Ct=["onClick"],jt=["src"],At={key:1,class:"h-4 w-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Mt={class:"px-6 py-2 pl-12 relative"},Dt={class:"flex flex-col gap-1"},Tt={class:"flex items-center gap-2"},St={key:0,class:"series-badge !text-[11px] !px-2 !py-0.5"},Vt={key:1,class:"series-badge !text-[11px] !px-2 !py-0.5"},Lt={class:"text-[9px] font-black font-mono text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100 self-start"},Bt={class:"px-6 py-2 text-center"},Ft={class:"text-[9px] font-black uppercase tracking-widest px-1.5 py-0.5 rounded bg-white border border-gray-100 text-gray-500"},Ht={class:"px-6 py-2"},$t={class:"flex flex-col leading-tight gap-0.5"},Et={class:"text-[10px] text-gray-500 font-medium"},It={class:"text-[9px] text-gray-400"},Ut={class:"px-6 py-2 text-right"},Rt={key:1,class:"bg-gray-50/30"},Nt={key:0,class:"w-full lg:w-80"},Ot={class:"sticky top-8 rounded-[32px] border border-slate-200 bg-white p-8 shadow-premium"},Gt={class:"space-y-3"},zt=["onDragover","onDrop"],qt={class:"flex items-center gap-4 overflow-hidden"},Pt={class:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-xl bg-white border border-slate-100 shadow-sm transition-transform group-hover:scale-110"},Qt={class:"text-xs font-bold text-[#3d4adb]"},Wt={class:"truncate text-xs font-bold text-slate-700 uppercase tracking-tighter"},Xt=["src"],Jt={class:"absolute top-4 right-4 flex gap-2"},Kt={__name:"Index",props:{assets:Object,filters:Object,meta:Object},setup(d){const c=d,j=ae(),v=B(()=>j.props.auth?.permissions??[]),m=r=>v.value.includes(r),V=B(()=>j.props.auth?.user?.roles?.includes("SuperAdmin")),_=B(()=>j.props.auth?.user?.roles?.includes("Admin")),x=k([]),b=k([]),l=k({search:c.filters.search||"",statuses:c.filters.statuses||[],building_id:c.filters.building_id||"",room_id:c.filters.room_id||"",category_id:c.filters.category_id||"",sub_category_id:c.filters.sub_category_id||"",department_id:c.filters.department_id||"",created_by:c.filters.created_by||"",date_from:c.filters.date_from||"",date_to:c.filters.date_to||"",asset_type:c.filters.asset_type||""}),S=k(null),R=r=>{S.value=r},q=xe(()=>{const r={};for(const[t,s]of Object.entries(l.value))if(!(s===null||s===""||s===void 0))if(Array.isArray(s)){const n=s.filter(E=>E!==""&&E!==null);n.length>0&&(r[t]=n)}else r[t]=s;L.get(route("assets.index"),r,{preserveState:!0,preserveScroll:!0,replace:!0})},500);I(()=>l.value,()=>{q()},{deep:!0}),I(()=>l.value.building_id,async r=>{if(!r){x.value=[],l.value.room_id="";return}try{const t=await A.get(route("api.rooms",{building_id:r}));x.value=t.data}catch{console.error("Failed to fetch rooms")}}),I(()=>l.value.category_id,async r=>{if(!r){b.value=[],l.value.sub_category_id="";return}try{const t=await A.get(route("api.sub-categories",{category_id:r}));b.value=t.data}catch{console.error("Failed to fetch sub-categories")}});const N=B(()=>{let r=0;return l.value.search&&r++,l.value.statuses.length>0&&r++,l.value.building_id&&r++,l.value.room_id&&r++,l.value.category_id&&r++,l.value.sub_category_id&&r++,l.value.department_id&&r++,l.value.created_by&&r++,l.value.date_from&&r++,l.value.date_to&&r++,r}),O=()=>{l.value={search:"",statuses:[],building_id:"",room_id:"",category_id:"",sub_category_id:"",department_id:"",created_by:"",date_from:"",date_to:"",asset_type:""},L.get(route("assets.index"),{},{preserveState:!0,preserveScroll:!0,replace:!0})},P=r=>{switch(r){case"active":return"badge-success";case"maintenance":return"badge-warning";case"damaged":return"badge-danger";case"retired":return"badge-neutral";case"donated":return"badge-primary";case"lost":return"bg-slate-800 text-white border-slate-900 badge-base";default:return"badge-neutral"}},Q=r=>({active:"Active",maintenance:"Maintenance",damaged:"Damaged",retired:"Retired",donated:"Donated",lost:"Lost"})[r]||r||"Unknown",G=k(null),$=k(null),W=(r,t)=>{r.preventDefault(),$.value=t},X=async(r,t)=>{r.preventDefault();const s=G.value;G.value=null,$.value=null,!(!s||!t)&&window.showConfirm({title:"Transfer Asset Ownership?",message:"Are you sure you want to reassign this asset to a different department? This will be logged in the movement history.",confirmText:"Transfer",onConfirm:async()=>{try{await A.post(route("assets.transfer",s),{department_id:t,reason:"Department transfer via Drag & Drop"}),L.reload({only:["assets"]}),window.showToast("success","Asset ownership transferred.")}catch(n){window.showToast("error",n.response?.data?.message||"Transfer failed.")}}})},w=k([]),J=r=>{w.value.includes(r)?w.value=w.value.filter(t=>t!==r):w.value.push(r)},K=r=>{window.showConfirm({title:"Archive Asset Record?",message:`Are you sure you want to archive ${r.asset_code}? This will remove it from active inventory while preserving history for audit compliance.`,confirmText:"Archive Asset",confirmVariant:"danger",onConfirm:()=>Y(r.id)})},Y=async r=>{try{await A.delete(route("assets.destroy",r)),L.reload({only:["assets"],onSuccess:()=>{window.showToast("success","Asset successfully archived.")}})}catch(t){window.showToast("error",t.response?.data?.error||"Failed to archive asset.")}};return ee(async()=>{if(l.value.building_id)try{const r=await A.get(route("api.rooms",{building_id:l.value.building_id}));x.value=r.data}catch{}if(l.value.category_id)try{const r=await A.get(route("api.sub-categories",{category_id:l.value.category_id}));b.value=r.data}catch{}}),(r,t)=>(o(),a(g,null,[y(C(te),{title:"Enterprise Asset Inventory"}),y(le,null,{header:f(()=>[e("div",be,[t[12]||(t[12]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-tight text-slate-800 tracking-tight"}," Asset Inventory "),e("p",{class:"mt-1.5 text-[11px] font-bold text-slate-400 uppercase tracking-widest"}," Global Asset Governance & Life-cycle Management ")],-1)),e("div",ye,[m("asset-create")?(o(),F(se,{key:0,href:r.route("assets.create"),variant:"primary",class:"!rounded-xl shadow-premium px-6"},{icon:f(()=>[...t[10]||(t[10]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])]),default:f(()=>[t[11]||(t[11]=p(" Register Asset ",-1))]),_:1},8,["href"])):u("",!0)])])]),default:f(()=>[e("div",he,[e("div",_e,[e("div",we,[e("div",ke,[e("div",Ce,[t[14]||(t[14]=e("label",{class:"label-enterprise"},"Global Search",-1)),e("div",je,[y(ne,{modelValue:l.value.search,"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search=s),type:"text",class:"w-full !pl-12",placeholder:"Search by code, room, or category..."},null,8,["modelValue"]),t[13]||(t[13]=e("div",{class:"absolute inset-y-0 left-4 flex items-center text-slate-300 group-focus-within:text-[#3d4adb] transition-colors"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",Ae,[t[16]||(t[16]=e("label",{class:"label-enterprise"},"Classification",-1)),M(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.asset_type=s),class:"w-full"},[...t[15]||(t[15]=[e("option",{value:""},"Global Hierarchy",-1),e("option",{value:"individual"},"Standalone Items",-1),e("option",{value:"bundle"},"System Bundles",-1),e("option",{value:"component"},"System Components",-1)])],512),[[D,l.value.asset_type]])]),e("button",{onClick:O,class:"h-[44px] px-6 rounded-xl border border-slate-200 bg-white text-[11px] font-bold text-slate-400 hover:bg-slate-50 hover:text-slate-800 transition-all uppercase tracking-widest flex items-center justify-center gap-2"},[...t[17]||(t[17]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),p(" Clear Filters ",-1)])])]),e("div",Me,[e("div",null,[t[19]||(t[19]=e("label",{class:"label-enterprise"},"Building",-1)),M(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.building_id=s),class:"w-full"},[t[18]||(t[18]=e("option",{value:""},"All Buildings",-1)),(o(!0),a(g,null,h(d.meta.buildings,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,De))),128))],512),[[D,l.value.building_id]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"label-enterprise"},"Location / Room",-1)),M(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.room_id=s),disabled:!l.value.building_id,class:"w-full"},[t[20]||(t[20]=e("option",{value:""},"All Rooms",-1)),(o(!0),a(g,null,h(x.value,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,Se))),128))],8,Te),[[D,l.value.room_id]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"label-enterprise"},"Category",-1)),M(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.category_id=s),class:"w-full"},[t[22]||(t[22]=e("option",{value:""},"All Categories",-1)),(o(!0),a(g,null,h(d.meta.categories,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,Ve))),128))],512),[[D,l.value.category_id]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"label-enterprise"},"System Status",-1)),M(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.statuses[0]=s),class:"w-full"},[...t[24]||(t[24]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"active"},"Active (Functional)",-1),e("option",{value:"maintenance"},"Maintenance",-1),e("option",{value:"damaged"},"Damaged",-1),e("option",{value:"retired"},"Retired",-1),e("option",{value:"lost"},"Lost",-1)])],512),[[D,l.value.statuses[0]]])]),l.value.category_id?(o(),a("div",Le,[t[26]||(t[26]=e("label",{class:"label-enterprise"},"Sub-category",-1)),M(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.sub_category_id=s),class:"w-full !border-[#3d4adb]/30"},[e("option",Be,"All "+i(d.meta.categories.find(s=>s.id===l.value.category_id)?.name)+" Sub-categories",1),(o(!0),a(g,null,h(b.value,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,Fe))),128))],512),[[D,l.value.sub_category_id]])])):u("",!0)])]),e("div",He,[e("div",$e,[e("span",Ee,[t[27]||(t[27]=p(" Showing ",-1)),e("span",Ie,i(d.assets.total),1),t[28]||(t[28]=p(" assets ",-1))]),N.value>0?(o(),a("div",Ue,[t[29]||(t[29]=e("span",{class:"flex h-2 w-2 rounded-full bg-primary animate-pulse"},null,-1)),e("span",Re,"Filters active ("+i(N.value)+")",1)])):u("",!0)])]),e("div",Ne,[e("div",Oe,[d.assets.data.length===0?(o(),a("div",Ge,[t[30]||(t[30]=e("div",{class:"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-gray-50 text-gray-300"},[e("svg",{class:"h-10 w-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),t[31]||(t[31]=e("h3",{class:"mt-6 text-xl font-black text-gray-900 uppercase"},"No Matches Found",-1)),t[32]||(t[32]=e("p",{class:"mt-2 text-gray-400 font-medium"},"Try refining your enterprise filters or check the audit logs.",-1)),e("button",{onClick:O,class:"mt-8 text-sm font-black text-primary uppercase tracking-widest hover:underline"},"Clear all filters")])):(o(),a("div",ze,[e("div",qe,[e("table",Pe,[t[46]||(t[46]=e("thead",null,[e("tr",null,[e("th",{class:"!w-16"},"Item"),e("th",null,"Identifier & Label"),e("th",null,"Location"),e("th",null,"Governance"),e("th",null,"History"),e("th",{class:"text-right"},"Action")])],-1)),e("tbody",Qe,[(o(!0),a(g,null,h(d.assets.data,s=>(o(),a(g,{key:s.id},[e("tr",We,[e("td",Xe,[e("div",{class:"h-12 w-12 rounded-xl border border-slate-100 bg-slate-50 overflow-hidden flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:n=>R(s.image_url)},[s.image_url?(o(),a("img",{key:0,src:s.image_url,class:"h-full w-full object-cover"},null,8,Ke)):(o(),a("svg",Ye,[...t[33]||(t[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,Je)]),e("td",Ze,[e("div",et,[e("div",tt,[e("div",st,[e("div",rt,[y(C(T),{href:r.route("assets.show",s.id),class:"text-[14px] font-bold text-slate-800 hover:text-[#3d4adb] leading-tight"},{default:f(()=>[p(i(s.category||"General Asset")+" ",1),s.subCategory?(o(),a("span",ot,"â€” "+i(s.subCategory),1)):u("",!0)]),_:2},1032,["href"]),s.is_parent?(o(),a("div",{key:0,class:"flex h-5 w-5 items-center justify-center rounded bg-indigo-50 text-indigo-600 cursor-pointer hover:bg-indigo-100 transition-colors ml-1",onClick:n=>J(s.id),title:"Expand System Components"},[(o(),a("svg",{class:H(["h-3 w-3",{"rotate-90":w.value.includes(s.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,at)):u("",!0),s.bundle_serial?(o(),a("span",lt,i(s.bundle_serial),1)):s.series_no||s.parent_id?(o(),a("span",nt,i(s.short_code),1)):u("",!0)]),e("div",it,i(s.full_serial||s.asset_code||"PENDING"),1)])])])]),e("td",dt,[e("div",ut,[e("p",ct,i(s.room?.name||"Central Hall"),1),e("p",pt,i(s.owner_department||"University"),1)])]),e("td",gt,[e("div",vt,[e("span",{class:H(["inline-flex items-center rounded-md border px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",P(s.status)])},i(Q(s.status)),3),s.count>1?(o(),a("span",ft,"Qty: "+i(s.count),1)):u("",!0)])]),e("td",mt,[e("div",xt,[e("span",bt,[t[35]||(t[35]=e("span",{class:"text-gray-400 text-[10px]"},"Created by:",-1)),p(" "+i(s.created_by),1)]),e("span",yt," Date: "+i(s.created_at_formatted),1)])]),e("td",ht,[e("div",_t,[y(C(T),{href:r.route("assets.show",s.id),class:"px-3 py-1.5 rounded-lg border border-slate-100 text-[10px] font-black uppercase tracking-widest text-[#3d4adb] hover:bg-[#3d4adb] hover:text-white transition-all shadow-sm"},{default:f(()=>[...t[36]||(t[36]=[p(" Verify",-1)])]),_:1},8,["href"]),m("asset-edit")?(o(),F(C(T),{key:0,href:r.route("assets.edit",s.id),class:"px-3 py-1.5 rounded-lg border border-gray-100 text-[10px] font-black uppercase tracking-widest text-gray-500 hover:bg-gray-50 transition-all shadow-sm"},{default:f(()=>[...t[37]||(t[37]=[p(" Edit",-1)])]),_:1},8,["href"])):u("",!0),m("asset-delete")?(o(),a("button",{key:1,onClick:n=>K(s),class:"p-2 rounded-lg text-rose-400 hover:text-rose-600 hover:bg-rose-50 transition-all flex items-center justify-center border border-transparent hover:border-rose-100",title:"Archive Asset"},[...t[38]||(t[38]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wt)):u("",!0)])])]),s.is_parent&&w.value.includes(s.id)?(o(!0),a(g,{key:0},h(s.children,n=>(o(),a("tr",{key:"child-"+n.id,class:"bg-gray-50/20 border-b border-gray-100"},[e("td",kt,[e("div",{class:"h-8 w-8 rounded border border-gray-200 bg-white overflow-hidden flex items-center justify-center shadow-xs cursor-pointer hover:ring-2 hover:ring-[#3d4adb] transition-all",onClick:E=>R(n.image_url)},[n.image_url?(o(),a("img",{key:0,src:n.image_url,class:"h-full w-full object-cover"},null,8,jt)):(o(),a("svg",At,[...t[39]||(t[39]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))],8,Ct)]),e("td",Mt,[t[40]||(t[40]=e("div",{class:"absolute left-6 top-0 bottom-0 w-px bg-gray-200"},null,-1)),t[41]||(t[41]=e("div",{class:"absolute left-6 top-1/2 w-4 h-px bg-gray-200"},null,-1)),e("div",Dt,[e("div",Tt,[y(C(T),{href:r.route("assets.show",n.id),class:"text-[11px] font-bold text-[#1F2937] hover:text-[#3d4adb] truncate"},{default:f(()=>[p(i(n.name),1)]),_:2},1032,["href"]),n.bundle_serial?(o(),a("span",St,i(n.bundle_serial),1)):n.series_no?(o(),a("span",Vt,i(n.short_code),1)):u("",!0)]),e("span",Lt,i(n.full_serial||n.asset_code),1)])]),t[44]||(t[44]=e("td",{class:"px-6 py-2"},[e("span",{class:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter"},"System Component")],-1)),e("td",Bt,[e("span",Ft,i(n.status),1)]),e("td",Ht,[e("div",$t,[e("span",Et,[t[42]||(t[42]=e("span",{class:"text-gray-400 text-[9px]"},"Created by:",-1)),p(" "+i(n.created_by),1)]),e("span",It," Date: "+i(n.created_at_formatted),1)])]),e("td",Ut,[y(C(T),{href:r.route("assets.show",n.id),class:"text-[10px] font-bold text-[#3d4adb] hover:underline uppercase"},{default:f(()=>[...t[43]||(t[43]=[p(" Details",-1)])]),_:1},8,["href"])])]))),128)):u("",!0),s.is_parent&&s.children.length===0&&w.value.includes(s.id)?(o(),a("tr",Rt,[...t[45]||(t[45]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-[11px] text-gray-400 italic border-b border-gray-50"}," No components registered in this system yet. ",-1)])])):u("",!0)],64))),128))])])]),y(ve,{links:d.assets.links},null,8,["links"])]))]),(V.value||_.value)&&d.meta.departments.length>0?(o(),a("div",Nt,[e("div",Ot,[t[47]||(t[47]=e("h3",{class:"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-8 flex items-center"},[e("svg",{class:"mr-3 h-4 w-4 text-[#3d4adb]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),p(" Transfer Hub ")],-1)),t[48]||(t[48]=e("p",{class:"text-[11px] text-slate-400 mb-8 font-medium leading-relaxed uppercase tracking-tighter"},"Drag an asset into a department below to reassign ownership.",-1)),e("div",Gt,[(o(!0),a(g,null,h(d.meta.departments,s=>(o(),a("div",{key:s.id,class:"relative group",onDragover:n=>W(n,s.id),onDrop:n=>X(n,s.id)},[e("div",{class:H(["flex items-center justify-between rounded-2xl border p-4 transition-all duration-300",[$.value===s.id?"border-[#3d4adb] bg-[#3d4adb]/5 scale-[1.02] shadow-inner":"border-transparent bg-slate-50/50 hover:bg-white hover:border-slate-200 hover:shadow-soft"]])},[e("div",qt,[e("div",Pt,[e("span",Qt,i(s.name.substring(0,2).toUpperCase()),1)]),e("span",Wt,i(s.name),1)])],2)],40,zt))),128))])])])):u("",!0)])])])]),_:1}),(o(),F(oe,{to:"body"},[S.value?(o(),a("div",{key:0,class:"fixed inset-0 z-[999] flex items-center justify-center bg-gray-900/90 backdrop-blur-md p-4 sm:p-20",onClick:t[9]||(t[9]=s=>S.value=null)},[e("div",{class:"relative max-h-full max-w-5xl rounded-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",onClick:t[8]||(t[8]=re(()=>{},["stop"]))},[e("img",{src:S.value,class:"max-h-[85vh] w-auto object-contain"},null,8,Xt),e("div",Jt,[e("button",{onClick:t[7]||(t[7]=s=>S.value=null),class:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-md hover:bg-white/40 shadow-lg"},[...t[49]||(t[49]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])])):u("",!0)]))],64))}},ls=ue(Kt,[["__scopeId","data-v-05b3216c"]]);export{ls as default};
