import{u as y,o as d,c as n,a as f,b as s,h as k,w as c,d as e,e as v,f as a,v as m,t as u,k as b,g as p,K as h,i as g,l as _,F as U}from"./app-CehYguHu.js";import{_ as V}from"./AuthenticatedLayout-CfY1nA_Q.js";/* empty css                                                              */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DangerButton-DmNu9a4c.js";import"./SecondaryButton-C9gXAhlZ.js";const S={class:"py-12"},D={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},C={key:0,class:"text-red-500 text-xs mt-1"},N={class:"grid grid-cols-2 gap-6"},P={key:0,class:"text-red-500 text-xs mt-1"},E={key:0,class:"mb-2"},A=["src"],T={key:1,class:"text-red-500 text-xs mt-1"},B={class:"flex flex-col gap-4 p-4 bg-slate-50 rounded-lg"},I={class:"flex items-center gap-6"},M={class:"flex items-center gap-2 mt-6"},O={key:0,class:"text-xs p-3 rounded bg-white border border-gray-100 italic"},j={class:"font-bold uppercase"},q={key:0,class:"text-red-500 mt-1"},K={key:1,class:"text-green-600 mt-1 font-mono"},L={class:"flex items-center justify-end gap-4"},$=["disabled"],W={__name:"Edit",props:{news:Object},setup(i){const r=i,o=y({title:r.news.title,description:r.news.description,content:r.news.content||"",image_file:null,category:r.news.category||"Academic",publish_date:r.news.publish_date?new Date(r.news.publish_date).toISOString().split("T")[0]:"",status:r.news.status,publish_to_facebook:r.news.publish_to_facebook,_method:"PUT"}),x=()=>{o.post(route("media.news.update",r.news.id),{forceFormData:!0})};return(w,t)=>(d(),n(U,null,[f(s(k),{title:"Edit News"}),f(V,null,{header:c(()=>[...t[8]||(t[8]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Edit News Article",-1)])]),default:c(()=>[e("div",S,[e("div",D,[e("div",F,[e("form",{onSubmit:v(x,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).title=l),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[m,s(o).title]]),s(o).errors.title?(d(),n("div",C,u(s(o).errors.title),1)):b("",!0)]),e("div",N,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1)),a(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).category=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[10]||(t[10]=[e("option",null,"Academic",-1),e("option",null,"Student Life",-1),e("option",null,"Partnerships",-1),e("option",null,"Events",-1),e("option",null,"Official",-1)])],512),[[p,s(o).category]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Publish Date",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(o).publish_date=l),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).publish_date]])])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Short Description (Summary)",-1)),a(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(o).description=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[m,s(o).description]]),s(o).errors.description?(d(),n("div",P,u(s(o).errors.description),1)):b("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700"},"Full Content",-1)),a(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(o).content=l),rows:"6",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,s(o).content]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"},"Featured Image",-1)),i.news.image?(d(),n("div",E,[e("img",{src:i.news.image,alt:"Current",class:"h-20 w-auto rounded border"},null,8,A)])):b("",!0),e("input",{type:"file",onInput:t[5]||(t[5]=l=>s(o).image_file=l.target.files[0]),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),s(o).errors.image_file?(d(),n("div",T,u(s(o).errors.image_file),1)):b("",!0)]),e("div",B,[e("div",I,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),a(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>s(o).status=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[16]||(t[16]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"archived"},"Archived",-1)])],512),[[p,s(o).status]])]),e("div",M,[a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s(o).publish_to_facebook=l),type:"checkbox",id:"fb_check",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[h,s(o).publish_to_facebook]]),t[18]||(t[18]=e("label",{for:"fb_check",class:"text-sm font-bold text-blue-800"},"Publish to University Facebook Page",-1))])]),i.news.facebook_publish_status!=="none"?(d(),n("div",O,[t[19]||(t[19]=g(" FB Status: ",-1)),e("span",j,u(i.news.facebook_publish_status),1),i.news.facebook_error?(d(),n("div",q,"Error: "+u(i.news.facebook_error),1)):b("",!0),i.news.facebook_post_id?(d(),n("div",K,"Post ID: "+u(i.news.facebook_post_id),1)):b("",!0)])):b("",!0)]),e("div",L,[f(s(_),{href:w.route("media.news.index"),class:"text-sm font-medium text-gray-600 hover:text-gray-900"},{default:c(()=>[...t[20]||(t[20]=[g("Cancel",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(o).processing,class:"px-6 py-2.5 bg-[#064e3b] text-white font-bold rounded-lg hover:bg-[#065f46] transition-all disabled:opacity-50"},u(s(o).processing?"Updating...":"Update News Article"),9,$)])],32)])])])]),_:1})],64))}};export{W as default};
