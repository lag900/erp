import{u as S,o as c,c as f,d as t,a,f as p,H as v,L as N,w as m,i as d,e as h,b as o,l as C,k as x,T as B,p as U,r as k,q as $}from"./app-CehYguHu.js";import{_ as g}from"./InputError-51rjNbxD.js";import{_ as y}from"./InputLabel-BdAlJ2D5.js";import{P as A}from"./PrimaryButton-BWR49dfZ.js";import{_ as E}from"./SecondaryButton-C9gXAhlZ.js";import{_ as b}from"./TextInput-CVQfVas4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"col-span-6 sm:col-span-4"},I={class:"mt-2"},T=["src","alt"],q={class:"mt-2"},D={key:0},H={class:"mt-2 text-sm text-gray-800"},L={class:"mt-2 text-sm font-medium text-green-600"},R={class:"flex items-center gap-4"},j={key:0,class:"text-sm text-gray-600"},Q={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(_){const w=$(),n=U(()=>w.props.auth.user),s=S({_method:"PATCH",name:n.value.name,email:n.value.email,image:null}),i=k(null),u=k(null),P=()=>{const l=u.value.files[0];if(!l)return;s.image=l;const e=new FileReader;e.onload=r=>{i.value=r.target.result},e.readAsDataURL(l)},V=()=>{u.value.click()};return(l,e)=>(c(),f("section",null,[e[7]||(e[7]=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),t("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1)),t("form",{onSubmit:e[2]||(e[2]=h(r=>{o(s).post(l.route("profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{i.value.value=null,u.value.value&&(u.value.value.value="")}})},["prevent"])),class:"mt-6 space-y-6",enctype:"multipart/form-data"},[t("div",F,[a(y,{for:"photo",value:"Photo"}),p(t("div",I,[t("img",{src:n.value.image_url,alt:n.value.name,class:"h-20 w-20 rounded-full object-cover"},null,8,T)],512),[[v,!i.value]]),p(t("div",q,[t("span",{class:"block h-20 w-20 rounded-full bg-cover bg-no-repeat bg-center",style:N("background-image: url('"+i.value+"');")},null,4)],512),[[v,i.value]]),a(E,{class:"mt-2",type:"button",onClick:h(V,["prevent"])},{default:m(()=>[...e[3]||(e[3]=[d(" Select A New Photo ",-1)])]),_:1}),t("input",{ref_key:"photoInput",ref:u,id:"photo",type:"file",class:"hidden",onChange:P},null,544),a(g,{message:o(s).errors.image,class:"mt-2"},null,8,["message"])]),t("div",null,[a(y,{for:"name",value:"Name"}),a(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(g,{class:"mt-2",message:o(s).errors.name},null,8,["message"])]),t("div",null,[a(y,{for:"email",value:"Email"}),a(b,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(s).email,"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).email=r),required:"",autocomplete:"username"},null,8,["modelValue"]),a(g,{class:"mt-2",message:o(s).errors.email},null,8,["message"])]),_.mustVerifyEmail&&n.value.email_verified_at===null?(c(),f("div",D,[t("p",H,[e[5]||(e[5]=d(" Your email address is unverified. ",-1)),a(o(C),{href:l.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:m(()=>[...e[4]||(e[4]=[d(" Click here to re-send the verification email. ",-1)])]),_:1},8,["href"])]),p(t("div",L," A new verification link has been sent to your email address. ",512),[[v,_.status==="verification-link-sent"]])])):x("",!0),t("div",R,[a(A,{disabled:o(s).processing},{default:m(()=>[...e[6]||(e[6]=[d("Save",-1)])]),_:1},8,["disabled"]),a(B,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:m(()=>[o(s).recentlySuccessful?(c(),f("p",j," Saved. ")):x("",!0)]),_:1})])],32)]))}};export{Q as default};
